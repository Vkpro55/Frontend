(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))i(v);new MutationObserver(v=>{for(const u of v)if(u.type==="childList")for(const y of u.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&i(y)}).observe(document,{childList:!0,subtree:!0});function n(v){const u={};return v.integrity&&(u.integrity=v.integrity),v.referrerPolicy&&(u.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?u.credentials="include":v.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(v){if(v.ep)return;v.ep=!0;const u=n(v);fetch(v.href,u)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ru(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var v=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,v.get?v:{enumerable:!0,get:function(){return e[i]}})}),n}var Ap={exports:{}},Ca={},Lp={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=Symbol.for("react.element"),d_=Symbol.for("react.portal"),f_=Symbol.for("react.fragment"),p_=Symbol.for("react.strict_mode"),g_=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),v_=Symbol.for("react.context"),y_=Symbol.for("react.forward_ref"),__=Symbol.for("react.suspense"),w_=Symbol.for("react.memo"),S_=Symbol.for("react.lazy"),Hh=Symbol.iterator;function b_(e){return e===null||typeof e!="object"?null:(e=Hh&&e[Hh]||e["@@iterator"],typeof e=="function"?e:null)}var Tp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Mp={};function br(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Tp}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $p(){}$p.prototype=br.prototype;function su(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Tp}var ou=su.prototype=new $p;ou.constructor=su;Rp(ou,br.prototype);ou.isPureReactComponent=!0;var Wh=Array.isArray,Op=Object.prototype.hasOwnProperty,au={current:null},Ip={key:!0,ref:!0,__self:!0,__source:!0};function Dp(e,t,n){var i,v={},u=null,y=null;if(t!=null)for(i in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(u=""+t.key),t)Op.call(t,i)&&!Ip.hasOwnProperty(i)&&(v[i]=t[i]);var c=arguments.length-2;if(c===1)v.children=n;else if(1<c){for(var s=Array(c),d=0;d<c;d++)s[d]=arguments[d+2];v.children=s}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)v[i]===void 0&&(v[i]=c[i]);return{$$typeof:Os,type:e,key:u,ref:y,props:v,_owner:au.current}}function C_(e,t){return{$$typeof:Os,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Os}function x_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zh=/\/+/g;function Za(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x_(""+e.key):t.toString(36)}function Co(e,t,n,i,v){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(u){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case Os:case d_:y=!0}}if(y)return y=e,v=v(y),e=i===""?"."+Za(y,0):i,Wh(v)?(n="",e!=null&&(n=e.replace(zh,"$&/")+"/"),Co(v,t,n,"",function(d){return d})):v!=null&&(lu(v)&&(v=C_(v,n+(!v.key||y&&y.key===v.key?"":(""+v.key).replace(zh,"$&/")+"/")+e)),t.push(v)),1;if(y=0,i=i===""?".":i+":",Wh(e))for(var c=0;c<e.length;c++){u=e[c];var s=i+Za(u,c);y+=Co(u,t,n,s,v)}else if(s=b_(e),typeof s=="function")for(e=s.call(e),c=0;!(u=e.next()).done;)u=u.value,s=i+Za(u,c++),y+=Co(u,t,n,s,v);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function qs(e,t,n){if(e==null)return e;var i=[],v=0;return Co(e,i,"","",function(u){return t.call(n,u,v++)}),i}function k_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},xo={transition:null},E_={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:xo,ReactCurrentOwner:au};function Pp(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:qs,forEach:function(e,t,n){qs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qs(e,function(){t++}),t},toArray:function(e){return qs(e,function(t){return t})||[]},only:function(e){if(!lu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=br;be.Fragment=f_;be.Profiler=g_;be.PureComponent=su;be.StrictMode=p_;be.Suspense=__;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E_;be.act=Pp;be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Rp({},e.props),v=e.key,u=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,y=au.current),t.key!==void 0&&(v=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(s in t)Op.call(t,s)&&!Ip.hasOwnProperty(s)&&(i[s]=t[s]===void 0&&c!==void 0?c[s]:t[s])}var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){c=Array(s);for(var d=0;d<s;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:Os,type:e.type,key:v,ref:u,props:i,_owner:y}};be.createContext=function(e){return e={$$typeof:v_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m_,_context:e},e.Consumer=e};be.createElement=Dp;be.createFactory=function(e){var t=Dp.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:y_,render:e}};be.isValidElement=lu;be.lazy=function(e){return{$$typeof:S_,_payload:{_status:-1,_result:e},_init:k_}};be.memo=function(e,t){return{$$typeof:w_,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=xo.transition;xo.transition={};try{e()}finally{xo.transition=t}};be.unstable_act=Pp;be.useCallback=function(e,t){return yt.current.useCallback(e,t)};be.useContext=function(e){return yt.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};be.useEffect=function(e,t){return yt.current.useEffect(e,t)};be.useId=function(){return yt.current.useId()};be.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};be.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return yt.current.useMemo(e,t)};be.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};be.useRef=function(e){return yt.current.useRef(e)};be.useState=function(e){return yt.current.useState(e)};be.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};be.useTransition=function(){return yt.current.useTransition()};be.version="18.3.1";Lp.exports=be;var pe=Lp.exports;const A_=ru(pe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_=pe,T_=Symbol.for("react.element"),R_=Symbol.for("react.fragment"),M_=Object.prototype.hasOwnProperty,$_=L_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O_={key:!0,ref:!0,__self:!0,__source:!0};function Bp(e,t,n){var i,v={},u=null,y=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(y=t.ref);for(i in t)M_.call(t,i)&&!O_.hasOwnProperty(i)&&(v[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)v[i]===void 0&&(v[i]=t[i]);return{$$typeof:T_,type:e,key:u,ref:y,props:v,_owner:$_.current}}Ca.Fragment=R_;Ca.jsx=Bp;Ca.jsxs=Bp;Ap.exports=Ca;var te=Ap.exports,zl={},Np={exports:{}},Bt={},Fp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,O){var $=P.length;P.push(O);e:for(;0<$;){var N=$-1>>>1,H=P[N];if(0<v(H,O))P[N]=O,P[$]=H,$=N;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var O=P[0],$=P.pop();if($!==O){P[0]=$;e:for(var N=0,H=P.length,B=H>>>1;N<B;){var z=2*(N+1)-1,U=P[z],V=z+1,W=P[V];if(0>v(U,$))V<H&&0>v(W,U)?(P[N]=W,P[V]=$,N=V):(P[N]=U,P[z]=$,N=z);else if(V<H&&0>v(W,$))P[N]=W,P[V]=$,N=V;else break e}}return O}function v(P,O){var $=P.sortIndex-O.sortIndex;return $!==0?$:P.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var y=Date,c=y.now();e.unstable_now=function(){return y.now()-c}}var s=[],d=[],o=1,r=null,a=3,l=!1,h=!1,f=!1,p=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var O=n(d);O!==null;){if(O.callback===null)i(d);else if(O.startTime<=P)i(d),O.sortIndex=O.expirationTime,t(s,O);else break;O=n(d)}}function S(P){if(f=!1,w(P),!h)if(n(s)!==null)h=!0,I(b);else{var O=n(d);O!==null&&D(S,O.startTime-P)}}function b(P,O){h=!1,f&&(f=!1,m(C),C=-1),l=!0;var $=a;try{for(w(O),r=n(s);r!==null&&(!(r.expirationTime>O)||P&&!T());){var N=r.callback;if(typeof N=="function"){r.callback=null,a=r.priorityLevel;var H=N(r.expirationTime<=O);O=e.unstable_now(),typeof H=="function"?r.callback=H:r===n(s)&&i(s),w(O)}else i(s);r=n(s)}if(r!==null)var B=!0;else{var z=n(d);z!==null&&D(S,z.startTime-O),B=!1}return B}finally{r=null,a=$,l=!1}}var _=!1,x=null,C=-1,k=5,M=-1;function T(){return!(e.unstable_now()-M<k)}function L(){if(x!==null){var P=e.unstable_now();M=P;var O=!0;try{O=x(!0,P)}finally{O?E():(_=!1,x=null)}}else _=!1}var E;if(typeof g=="function")E=function(){g(L)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,R=A.port2;A.port1.onmessage=L,E=function(){R.postMessage(null)}}else E=function(){p(L,0)};function I(P){x=P,_||(_=!0,E())}function D(P,O){C=p(function(){P(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){h||l||(h=!0,I(b))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return a},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(P){switch(a){case 1:case 2:case 3:var O=3;break;default:O=a}var $=a;a=O;try{return P()}finally{a=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,O){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=a;a=P;try{return O()}finally{a=$}},e.unstable_scheduleCallback=function(P,O,$){var N=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?N+$:N):$=N,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,P={id:o++,callback:O,priorityLevel:P,startTime:$,expirationTime:H,sortIndex:-1},$>N?(P.sortIndex=$,t(d,P),n(s)===null&&P===n(d)&&(f?(m(C),C=-1):f=!0,D(S,$-N))):(P.sortIndex=H,t(s,P),h||l||(h=!0,I(b))),P},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(P){var O=a;return function(){var $=a;a=O;try{return P.apply(this,arguments)}finally{a=$}}}})(Hp);Fp.exports=Hp;var I_=Fp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=pe,Pt=I_;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wp=new Set,hs={};function Pi(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(hs[e]=t,e=0;e<t.length;e++)Wp.add(t[e])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=Object.prototype.hasOwnProperty,P_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uh={},jh={};function B_(e){return Ul.call(jh,e)?!0:Ul.call(Uh,e)?!1:P_.test(e)?jh[e]=!0:(Uh[e]=!0,!1)}function N_(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F_(e,t,n,i){if(t===null||typeof t>"u"||N_(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _t(e,t,n,i,v,u,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=v,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=y}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new _t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new _t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new _t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new _t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new _t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new _t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new _t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new _t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new _t(e,5,!1,e.toLowerCase(),null,!1,!1)});var cu=/[\-:]([a-z])/g;function uu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cu,uu);ot[t]=new _t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cu,uu);ot[t]=new _t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cu,uu);ot[t]=new _t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new _t(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new _t(e,1,!1,e.toLowerCase(),null,!0,!0)});function hu(e,t,n,i){var v=ot.hasOwnProperty(t)?ot[t]:null;(v!==null?v.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F_(t,n,v,i)&&(n=null),i||v===null?B_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):v.mustUseProperty?e[v.propertyName]=n===null?v.type===3?!1:"":n:(t=v.attributeName,i=v.attributeNamespace,n===null?e.removeAttribute(t):(v=v.type,n=v===3||v===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Nn=D_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qs=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),du=Symbol.for("react.strict_mode"),jl=Symbol.for("react.profiler"),zp=Symbol.for("react.provider"),Up=Symbol.for("react.context"),fu=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Kl=Symbol.for("react.suspense_list"),pu=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),jp=Symbol.for("react.offscreen"),Vh=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=Vh&&e[Vh]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,el;function Kr(e){if(el===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);el=t&&t[1]||""}return`
`+el+e}var tl=!1;function nl(e,t){if(!e||tl)return"";tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var v=d.stack.split(`
`),u=i.stack.split(`
`),y=v.length-1,c=u.length-1;1<=y&&0<=c&&v[y]!==u[c];)c--;for(;1<=y&&0<=c;y--,c--)if(v[y]!==u[c]){if(y!==1||c!==1)do if(y--,c--,0>c||v[y]!==u[c]){var s=`
`+v[y].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=y&&0<=c);break}}}finally{tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Kr(e):""}function H_(e){switch(e.tag){case 5:return Kr(e.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 2:case 15:return e=nl(e.type,!1),e;case 11:return e=nl(e.type.render,!1),e;case 1:return e=nl(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Ki:return"Portal";case jl:return"Profiler";case du:return"StrictMode";case Vl:return"Suspense";case Kl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Up:return(e.displayName||"Context")+".Consumer";case zp:return(e._context.displayName||"Context")+".Provider";case fu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pu:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function W_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z_(e){var t=Vp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var v=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return v.call(this)},set:function(y){i=""+y,u.call(this,y)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Js(e){e._valueTracker||(e._valueTracker=z_(e))}function Kp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Vp(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yl(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kh(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=oi(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gp(e,t){t=t.checked,t!=null&&hu(e,"checked",t,!1)}function Xl(e,t){Gp(e,t);var n=oi(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ql(e,t.type,n):t.hasOwnProperty("defaultValue")&&ql(e,t.type,oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ql(e,t,n){(t!=="number"||zo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function sr(e,t,n,i){if(e=e.options,t){t={};for(var v=0;v<n.length;v++)t["$"+n[v]]=!0;for(n=0;n<e.length;n++)v=t.hasOwnProperty("$"+e[n].value),e[n].selected!==v&&(e[n].selected=v),v&&i&&(e[n].defaultSelected=!0)}else{for(n=""+oi(n),t=null,v=0;v<e.length;v++){if(e[v].value===n){e[v].selected=!0,i&&(e[v].defaultSelected=!0);return}t!==null||e[v].disabled||(t=e[v])}t!==null&&(t.selected=!0)}}function Ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(Gr(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:oi(n)}}function Yp(e,t){var n=oi(t.value),i=oi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Xh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zs,qp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,v){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,v)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U_=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(e){U_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qr[t]=Qr[e]})});function Qp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Qr.hasOwnProperty(e)&&Qr[e]?(""+t).trim():t+"px"}function Jp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,v=Qp(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,v):e[n]=v}}var j_=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(e,t){if(t){if(j_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function ec(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nc=null,or=null,ar=null;function qh(e){if(e=Ps(e)){if(typeof nc!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=La(t),nc(e.stateNode,e.type,t))}}function Zp(e){or?ar?ar.push(e):ar=[e]:or=e}function eg(){if(or){var e=or,t=ar;if(ar=or=null,qh(e),t)for(e=0;e<t.length;e++)qh(t[e])}}function tg(e,t){return e(t)}function ng(){}var il=!1;function ig(e,t,n){if(il)return e(t,n);il=!0;try{return tg(e,t,n)}finally{il=!1,(or!==null||ar!==null)&&(ng(),eg())}}function fs(e,t){var n=e.stateNode;if(n===null)return null;var i=La(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var ic=!1;if(On)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){ic=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{ic=!1}function V_(e,t,n,i,v,u,y,c,s){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(o){this.onError(o)}}var Jr=!1,Uo=null,jo=!1,rc=null,K_={onError:function(e){Jr=!0,Uo=e}};function G_(e,t,n,i,v,u,y,c,s){Jr=!1,Uo=null,V_.apply(K_,arguments)}function Y_(e,t,n,i,v,u,y,c,s){if(G_.apply(this,arguments),Jr){if(Jr){var d=Uo;Jr=!1,Uo=null}else throw Error(ne(198));jo||(jo=!0,rc=d)}}function Bi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qh(e){if(Bi(e)!==e)throw Error(ne(188))}function X_(e){var t=e.alternate;if(!t){if(t=Bi(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,i=t;;){var v=n.return;if(v===null)break;var u=v.alternate;if(u===null){if(i=v.return,i!==null){n=i;continue}break}if(v.child===u.child){for(u=v.child;u;){if(u===n)return Qh(v),e;if(u===i)return Qh(v),t;u=u.sibling}throw Error(ne(188))}if(n.return!==i.return)n=v,i=u;else{for(var y=!1,c=v.child;c;){if(c===n){y=!0,n=v,i=u;break}if(c===i){y=!0,i=v,n=u;break}c=c.sibling}if(!y){for(c=u.child;c;){if(c===n){y=!0,n=u,i=v;break}if(c===i){y=!0,i=u,n=v;break}c=c.sibling}if(!y)throw Error(ne(189))}}if(n.alternate!==i)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function sg(e){return e=X_(e),e!==null?og(e):null}function og(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=og(e);if(t!==null)return t;e=e.sibling}return null}var ag=Pt.unstable_scheduleCallback,Jh=Pt.unstable_cancelCallback,q_=Pt.unstable_shouldYield,Q_=Pt.unstable_requestPaint,Ge=Pt.unstable_now,J_=Pt.unstable_getCurrentPriorityLevel,mu=Pt.unstable_ImmediatePriority,lg=Pt.unstable_UserBlockingPriority,Vo=Pt.unstable_NormalPriority,Z_=Pt.unstable_LowPriority,cg=Pt.unstable_IdlePriority,xa=null,wn=null;function e0(e){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(xa,e,void 0,(e.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:i0,t0=Math.log,n0=Math.LN2;function i0(e){return e>>>=0,e===0?32:31-(t0(e)/n0|0)|0}var eo=64,to=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ko(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,v=e.suspendedLanes,u=e.pingedLanes,y=n&268435455;if(y!==0){var c=y&~v;c!==0?i=Yr(c):(u&=y,u!==0&&(i=Yr(u)))}else y=n&~v,y!==0?i=Yr(y):u!==0&&(i=Yr(u));if(i===0)return 0;if(t!==0&&t!==i&&!(t&v)&&(v=i&-i,u=t&-t,v>=u||v===16&&(u&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-cn(t),v=1<<n,i|=e[n],t&=~v;return i}function r0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,v=e.expirationTimes,u=e.pendingLanes;0<u;){var y=31-cn(u),c=1<<y,s=v[y];s===-1?(!(c&n)||c&i)&&(v[y]=r0(c,t)):s<=t&&(e.expiredLanes|=c),u&=~c}}function sc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ug(){var e=eo;return eo<<=1,!(eo&4194240)&&(eo=64),e}function rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Is(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=n}function o0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var v=31-cn(n),u=1<<v;t[v]=0,i[v]=-1,e[v]=-1,n&=~u}}function vu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-cn(n),v=1<<i;v&t|e[i]&t&&(e[i]|=t),n&=~v}}var Me=0;function hg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dg,yu,fg,pg,gg,oc=!1,no=[],Jn=null,Zn=null,ei=null,ps=new Map,gs=new Map,Gn=[],a0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zh(e,t){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function Br(e,t,n,i,v,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[v]},t!==null&&(t=Ps(t),t!==null&&yu(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,v!==null&&t.indexOf(v)===-1&&t.push(v),e)}function l0(e,t,n,i,v){switch(t){case"focusin":return Jn=Br(Jn,e,t,n,i,v),!0;case"dragenter":return Zn=Br(Zn,e,t,n,i,v),!0;case"mouseover":return ei=Br(ei,e,t,n,i,v),!0;case"pointerover":var u=v.pointerId;return ps.set(u,Br(ps.get(u)||null,e,t,n,i,v)),!0;case"gotpointercapture":return u=v.pointerId,gs.set(u,Br(gs.get(u)||null,e,t,n,i,v)),!0}return!1}function mg(e){var t=bi(e.target);if(t!==null){var n=Bi(t);if(n!==null){if(t=n.tag,t===13){if(t=rg(n),t!==null){e.blockedOn=t,gg(e.priority,function(){fg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ac(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);tc=i,n.target.dispatchEvent(i),tc=null}else return t=Ps(n),t!==null&&yu(t),e.blockedOn=n,!1;t.shift()}return!0}function ed(e,t,n){ko(e)&&n.delete(t)}function c0(){oc=!1,Jn!==null&&ko(Jn)&&(Jn=null),Zn!==null&&ko(Zn)&&(Zn=null),ei!==null&&ko(ei)&&(ei=null),ps.forEach(ed),gs.forEach(ed)}function Nr(e,t){e.blockedOn===t&&(e.blockedOn=null,oc||(oc=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,c0)))}function ms(e){function t(v){return Nr(v,e)}if(0<no.length){Nr(no[0],e);for(var n=1;n<no.length;n++){var i=no[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Jn!==null&&Nr(Jn,e),Zn!==null&&Nr(Zn,e),ei!==null&&Nr(ei,e),ps.forEach(t),gs.forEach(t),n=0;n<Gn.length;n++)i=Gn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)mg(n),n.blockedOn===null&&Gn.shift()}var lr=Nn.ReactCurrentBatchConfig,Go=!0;function u0(e,t,n,i){var v=Me,u=lr.transition;lr.transition=null;try{Me=1,_u(e,t,n,i)}finally{Me=v,lr.transition=u}}function h0(e,t,n,i){var v=Me,u=lr.transition;lr.transition=null;try{Me=4,_u(e,t,n,i)}finally{Me=v,lr.transition=u}}function _u(e,t,n,i){if(Go){var v=ac(e,t,n,i);if(v===null)pl(e,t,i,Yo,n),Zh(e,i);else if(l0(v,e,t,n,i))i.stopPropagation();else if(Zh(e,i),t&4&&-1<a0.indexOf(e)){for(;v!==null;){var u=Ps(v);if(u!==null&&dg(u),u=ac(e,t,n,i),u===null&&pl(e,t,i,Yo,n),u===v)break;v=u}v!==null&&i.stopPropagation()}else pl(e,t,i,null,n)}}var Yo=null;function ac(e,t,n,i){if(Yo=null,e=gu(i),e=bi(e),e!==null)if(t=Bi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yo=e,null}function vg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J_()){case mu:return 1;case lg:return 4;case Vo:case Z_:return 16;case cg:return 536870912;default:return 16}default:return 16}}var Xn=null,wu=null,Eo=null;function yg(){if(Eo)return Eo;var e,t=wu,n=t.length,i,v="value"in Xn?Xn.value:Xn.textContent,u=v.length;for(e=0;e<n&&t[e]===v[e];e++);var y=n-e;for(i=1;i<=y&&t[n-i]===v[u-i];i++);return Eo=v.slice(e,1<i?1-i:void 0)}function Ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function io(){return!0}function td(){return!1}function Nt(e){function t(n,i,v,u,y){this._reactName=n,this._targetInst=v,this.type=i,this.nativeEvent=u,this.target=y,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(u):u[c]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?io:td,this.isPropagationStopped=td,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=Nt(Cr),Ds=ze({},Cr,{view:0,detail:0}),d0=Nt(Ds),sl,ol,Fr,ka=ze({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(sl=e.screenX-Fr.screenX,ol=e.screenY-Fr.screenY):ol=sl=0,Fr=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:ol}}),nd=Nt(ka),f0=ze({},ka,{dataTransfer:0}),p0=Nt(f0),g0=ze({},Ds,{relatedTarget:0}),al=Nt(g0),m0=ze({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=Nt(m0),y0=ze({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_0=Nt(y0),w0=ze({},Cr,{data:0}),id=Nt(w0),S0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C0[e])?!!t[e]:!1}function bu(){return x0}var k0=ze({},Ds,{key:function(e){if(e.key){var t=S0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E0=Nt(k0),A0=ze({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=Nt(A0),L0=ze({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),T0=Nt(L0),R0=ze({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),M0=Nt(R0),$0=ze({},ka,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=Nt($0),I0=[9,13,27,32],Cu=On&&"CompositionEvent"in window,Zr=null;On&&"documentMode"in document&&(Zr=document.documentMode);var D0=On&&"TextEvent"in window&&!Zr,_g=On&&(!Cu||Zr&&8<Zr&&11>=Zr),sd=" ",od=!1;function wg(e,t){switch(e){case"keyup":return I0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yi=!1;function P0(e,t){switch(e){case"compositionend":return Sg(t);case"keypress":return t.which!==32?null:(od=!0,sd);case"textInput":return e=t.data,e===sd&&od?null:e;default:return null}}function B0(e,t){if(Yi)return e==="compositionend"||!Cu&&wg(e,t)?(e=yg(),Eo=wu=Xn=null,Yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _g&&t.locale!=="ko"?null:t.data;default:return null}}var N0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!N0[e.type]:t==="textarea"}function bg(e,t,n,i){Zp(i),t=Xo(t,"onChange"),0<t.length&&(n=new Su("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var es=null,vs=null;function F0(e){Og(e,0)}function Ea(e){var t=Qi(e);if(Kp(t))return e}function H0(e,t){if(e==="change")return t}var Cg=!1;if(On){var ll;if(On){var cl="oninput"in document;if(!cl){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),cl=typeof ld.oninput=="function"}ll=cl}else ll=!1;Cg=ll&&(!document.documentMode||9<document.documentMode)}function cd(){es&&(es.detachEvent("onpropertychange",xg),vs=es=null)}function xg(e){if(e.propertyName==="value"&&Ea(vs)){var t=[];bg(t,vs,e,gu(e)),ig(F0,t)}}function W0(e,t,n){e==="focusin"?(cd(),es=t,vs=n,es.attachEvent("onpropertychange",xg)):e==="focusout"&&cd()}function z0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(vs)}function U0(e,t){if(e==="click")return Ea(t)}function j0(e,t){if(e==="input"||e==="change")return Ea(t)}function V0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:V0;function ys(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var v=n[i];if(!Ul.call(t,v)||!dn(e[v],t[v]))return!1}return!0}function ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hd(e,t){var n=ud(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ud(n)}}function kg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eg(){for(var e=window,t=zo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zo(e.document)}return t}function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K0(e){var t=Eg(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kg(n.ownerDocument.documentElement,n)){if(i!==null&&xu(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var v=n.textContent.length,u=Math.min(i.start,v);i=i.end===void 0?u:Math.min(i.end,v),!e.extend&&u>i&&(v=i,i=u,u=v),v=hd(n,u);var y=hd(n,i);v&&y&&(e.rangeCount!==1||e.anchorNode!==v.node||e.anchorOffset!==v.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(v.node,v.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G0=On&&"documentMode"in document&&11>=document.documentMode,Xi=null,lc=null,ts=null,cc=!1;function dd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cc||Xi==null||Xi!==zo(i)||(i=Xi,"selectionStart"in i&&xu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ts&&ys(ts,i)||(ts=i,i=Xo(lc,"onSelect"),0<i.length&&(t=new Su("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Xi)))}function ro(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qi={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},ul={},Ag={};On&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Aa(e){if(ul[e])return ul[e];if(!qi[e])return e;var t=qi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ag)return ul[e]=t[n];return e}var Lg=Aa("animationend"),Tg=Aa("animationiteration"),Rg=Aa("animationstart"),Mg=Aa("transitionend"),$g=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(e,t){$g.set(e,t),Pi(t,[e])}for(var hl=0;hl<fd.length;hl++){var dl=fd[hl],Y0=dl.toLowerCase(),X0=dl[0].toUpperCase()+dl.slice(1);li(Y0,"on"+X0)}li(Lg,"onAnimationEnd");li(Tg,"onAnimationIteration");li(Rg,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(Mg,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function pd(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Y_(i,t,void 0,e),e.currentTarget=null}function Og(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],v=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var y=i.length-1;0<=y;y--){var c=i[y],s=c.instance,d=c.currentTarget;if(c=c.listener,s!==u&&v.isPropagationStopped())break e;pd(v,c,d),u=s}else for(y=0;y<i.length;y++){if(c=i[y],s=c.instance,d=c.currentTarget,c=c.listener,s!==u&&v.isPropagationStopped())break e;pd(v,c,d),u=s}}}if(jo)throw e=rc,jo=!1,rc=null,e}function Pe(e,t){var n=t[pc];n===void 0&&(n=t[pc]=new Set);var i=e+"__bubble";n.has(i)||(Ig(t,e,2,!1),n.add(i))}function fl(e,t,n){var i=0;t&&(i|=4),Ig(n,e,i,t)}var so="_reactListening"+Math.random().toString(36).slice(2);function _s(e){if(!e[so]){e[so]=!0,Wp.forEach(function(n){n!=="selectionchange"&&(q0.has(n)||fl(n,!1,e),fl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[so]||(t[so]=!0,fl("selectionchange",!1,t))}}function Ig(e,t,n,i){switch(vg(t)){case 1:var v=u0;break;case 4:v=h0;break;default:v=_u}n=v.bind(null,t,n,e),v=void 0,!ic||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(v=!0),i?v!==void 0?e.addEventListener(t,n,{capture:!0,passive:v}):e.addEventListener(t,n,!0):v!==void 0?e.addEventListener(t,n,{passive:v}):e.addEventListener(t,n,!1)}function pl(e,t,n,i,v){var u=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var y=i.tag;if(y===3||y===4){var c=i.stateNode.containerInfo;if(c===v||c.nodeType===8&&c.parentNode===v)break;if(y===4)for(y=i.return;y!==null;){var s=y.tag;if((s===3||s===4)&&(s=y.stateNode.containerInfo,s===v||s.nodeType===8&&s.parentNode===v))return;y=y.return}for(;c!==null;){if(y=bi(c),y===null)return;if(s=y.tag,s===5||s===6){i=u=y;continue e}c=c.parentNode}}i=i.return}ig(function(){var d=u,o=gu(n),r=[];e:{var a=$g.get(e);if(a!==void 0){var l=Su,h=e;switch(e){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":l=E0;break;case"focusin":h="focus",l=al;break;case"focusout":h="blur",l=al;break;case"beforeblur":case"afterblur":l=al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=p0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=T0;break;case Lg:case Tg:case Rg:l=v0;break;case Mg:l=M0;break;case"scroll":l=d0;break;case"wheel":l=O0;break;case"copy":case"cut":case"paste":l=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=rd}var f=(t&4)!==0,p=!f&&e==="scroll",m=f?a!==null?a+"Capture":null:a;f=[];for(var g=d,w;g!==null;){w=g;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,m!==null&&(S=fs(g,m),S!=null&&f.push(ws(g,S,w)))),p)break;g=g.return}0<f.length&&(a=new l(a,h,null,n,o),r.push({event:a,listeners:f}))}}if(!(t&7)){e:{if(a=e==="mouseover"||e==="pointerover",l=e==="mouseout"||e==="pointerout",a&&n!==tc&&(h=n.relatedTarget||n.fromElement)&&(bi(h)||h[In]))break e;if((l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(h=n.relatedTarget||n.toElement,l=d,h=h?bi(h):null,h!==null&&(p=Bi(h),h!==p||h.tag!==5&&h.tag!==6)&&(h=null)):(l=null,h=d),l!==h)){if(f=nd,S="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(f=rd,S="onPointerLeave",m="onPointerEnter",g="pointer"),p=l==null?a:Qi(l),w=h==null?a:Qi(h),a=new f(S,g+"leave",l,n,o),a.target=p,a.relatedTarget=w,S=null,bi(o)===d&&(f=new f(m,g+"enter",h,n,o),f.target=w,f.relatedTarget=p,S=f),p=S,l&&h)t:{for(f=l,m=h,g=0,w=f;w;w=Wi(w))g++;for(w=0,S=m;S;S=Wi(S))w++;for(;0<g-w;)f=Wi(f),g--;for(;0<w-g;)m=Wi(m),w--;for(;g--;){if(f===m||m!==null&&f===m.alternate)break t;f=Wi(f),m=Wi(m)}f=null}else f=null;l!==null&&gd(r,a,l,f,!1),h!==null&&p!==null&&gd(r,p,h,f,!0)}}e:{if(a=d?Qi(d):window,l=a.nodeName&&a.nodeName.toLowerCase(),l==="select"||l==="input"&&a.type==="file")var b=H0;else if(ad(a))if(Cg)b=j0;else{b=z0;var _=W0}else(l=a.nodeName)&&l.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(b=U0);if(b&&(b=b(e,d))){bg(r,b,n,o);break e}_&&_(e,a,d),e==="focusout"&&(_=a._wrapperState)&&_.controlled&&a.type==="number"&&ql(a,"number",a.value)}switch(_=d?Qi(d):window,e){case"focusin":(ad(_)||_.contentEditable==="true")&&(Xi=_,lc=d,ts=null);break;case"focusout":ts=lc=Xi=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,dd(r,n,o);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":dd(r,n,o)}var x;if(Cu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Yi?wg(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(_g&&n.locale!=="ko"&&(Yi||C!=="onCompositionStart"?C==="onCompositionEnd"&&Yi&&(x=yg()):(Xn=o,wu="value"in Xn?Xn.value:Xn.textContent,Yi=!0)),_=Xo(d,C),0<_.length&&(C=new id(C,e,null,n,o),r.push({event:C,listeners:_}),x?C.data=x:(x=Sg(n),x!==null&&(C.data=x)))),(x=D0?P0(e,n):B0(e,n))&&(d=Xo(d,"onBeforeInput"),0<d.length&&(o=new id("onBeforeInput","beforeinput",null,n,o),r.push({event:o,listeners:d}),o.data=x))}Og(r,t)})}function ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xo(e,t){for(var n=t+"Capture",i=[];e!==null;){var v=e,u=v.stateNode;v.tag===5&&u!==null&&(v=u,u=fs(e,n),u!=null&&i.unshift(ws(e,u,v)),u=fs(e,t),u!=null&&i.push(ws(e,u,v))),e=e.return}return i}function Wi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gd(e,t,n,i,v){for(var u=t._reactName,y=[];n!==null&&n!==i;){var c=n,s=c.alternate,d=c.stateNode;if(s!==null&&s===i)break;c.tag===5&&d!==null&&(c=d,v?(s=fs(n,u),s!=null&&y.unshift(ws(n,s,c))):v||(s=fs(n,u),s!=null&&y.push(ws(n,s,c)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var Q0=/\r\n?/g,J0=/\u0000|\uFFFD/g;function md(e){return(typeof e=="string"?e:""+e).replace(Q0,`
`).replace(J0,"")}function oo(e,t,n){if(t=md(t),md(e)!==t&&n)throw Error(ne(425))}function qo(){}var uc=null,hc=null;function dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fc=typeof setTimeout=="function"?setTimeout:void 0,Z0=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,ew=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(e){return vd.resolve(null).then(e).catch(tw)}:fc;function tw(e){setTimeout(function(){throw e})}function gl(e,t){var n=t,i=0;do{var v=n.nextSibling;if(e.removeChild(n),v&&v.nodeType===8)if(n=v.data,n==="/$"){if(i===0){e.removeChild(v),ms(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=v}while(n);ms(t)}function ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xr=Math.random().toString(36).slice(2),yn="__reactFiber$"+xr,Ss="__reactProps$"+xr,In="__reactContainer$"+xr,pc="__reactEvents$"+xr,nw="__reactListeners$"+xr,iw="__reactHandles$"+xr;function bi(e){var t=e[yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yd(e);e!==null;){if(n=e[yn])return n;e=yd(e)}return t}e=n,n=e.parentNode}return null}function Ps(e){return e=e[yn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function La(e){return e[Ss]||null}var gc=[],Ji=-1;function ci(e){return{current:e}}function Be(e){0>Ji||(e.current=gc[Ji],gc[Ji]=null,Ji--)}function Oe(e,t){Ji++,gc[Ji]=e.current,e.current=t}var ai={},ft=ci(ai),kt=ci(!1),Li=ai;function pr(e,t){var n=e.type.contextTypes;if(!n)return ai;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var v={},u;for(u in n)v[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=v),v}function Et(e){return e=e.childContextTypes,e!=null}function Qo(){Be(kt),Be(ft)}function _d(e,t,n){if(ft.current!==ai)throw Error(ne(168));Oe(ft,t),Oe(kt,n)}function Dg(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var v in i)if(!(v in t))throw Error(ne(108,W_(e)||"Unknown",v));return ze({},n,i)}function Jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Li=ft.current,Oe(ft,e),Oe(kt,kt.current),!0}function wd(e,t,n){var i=e.stateNode;if(!i)throw Error(ne(169));n?(e=Dg(e,t,Li),i.__reactInternalMemoizedMergedChildContext=e,Be(kt),Be(ft),Oe(ft,e)):Be(kt),Oe(kt,n)}var Tn=null,Ta=!1,ml=!1;function Pg(e){Tn===null?Tn=[e]:Tn.push(e)}function rw(e){Ta=!0,Pg(e)}function ui(){if(!ml&&Tn!==null){ml=!0;var e=0,t=Me;try{var n=Tn;for(Me=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Tn=null,Ta=!1}catch(v){throw Tn!==null&&(Tn=Tn.slice(e+1)),ag(mu,ui),v}finally{Me=t,ml=!1}}return null}var Zi=[],er=0,Zo=null,ea=0,jt=[],Vt=0,Ti=null,Rn=1,Mn="";function vi(e,t){Zi[er++]=ea,Zi[er++]=Zo,Zo=e,ea=t}function Bg(e,t,n){jt[Vt++]=Rn,jt[Vt++]=Mn,jt[Vt++]=Ti,Ti=e;var i=Rn;e=Mn;var v=32-cn(i)-1;i&=~(1<<v),n+=1;var u=32-cn(t)+v;if(30<u){var y=v-v%5;u=(i&(1<<y)-1).toString(32),i>>=y,v-=y,Rn=1<<32-cn(t)+v|n<<v|i,Mn=u+e}else Rn=1<<u|n<<v|i,Mn=e}function ku(e){e.return!==null&&(vi(e,1),Bg(e,1,0))}function Eu(e){for(;e===Zo;)Zo=Zi[--er],Zi[er]=null,ea=Zi[--er],Zi[er]=null;for(;e===Ti;)Ti=jt[--Vt],jt[Vt]=null,Mn=jt[--Vt],jt[Vt]=null,Rn=jt[--Vt],jt[Vt]=null}var Dt=null,Ot=null,Ne=!1,an=null;function Ng(e,t){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Sd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dt=e,Ot=ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dt=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ti!==null?{id:Rn,overflow:Mn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dt=e,Ot=null,!0):!1;default:return!1}}function mc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vc(e){if(Ne){var t=Ot;if(t){var n=t;if(!Sd(e,t)){if(mc(e))throw Error(ne(418));t=ti(n.nextSibling);var i=Dt;t&&Sd(e,t)?Ng(i,n):(e.flags=e.flags&-4097|2,Ne=!1,Dt=e)}}else{if(mc(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Ne=!1,Dt=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function ao(e){if(e!==Dt)return!1;if(!Ne)return bd(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dc(e.type,e.memoizedProps)),t&&(t=Ot)){if(mc(e))throw Fg(),Error(ne(418));for(;t;)Ng(e,t),t=ti(t.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ot=ti(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=Dt?ti(e.stateNode.nextSibling):null;return!0}function Fg(){for(var e=Ot;e;)e=ti(e.nextSibling)}function gr(){Ot=Dt=null,Ne=!1}function Au(e){an===null?an=[e]:an.push(e)}var sw=Nn.ReactCurrentBatchConfig;function Hr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var i=n.stateNode}if(!i)throw Error(ne(147,e));var v=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(y){var c=v.refs;y===null?delete c[u]:c[u]=y},t._stringRef=u,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function lo(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cd(e){var t=e._init;return t(e._payload)}function Hg(e){function t(m,g){if(e){var w=m.deletions;w===null?(m.deletions=[g],m.flags|=16):w.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function i(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function v(m,g){return m=si(m,g),m.index=0,m.sibling=null,m}function u(m,g,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<g?(m.flags|=2,g):w):(m.flags|=2,g)):(m.flags|=1048576,g)}function y(m){return e&&m.alternate===null&&(m.flags|=2),m}function c(m,g,w,S){return g===null||g.tag!==6?(g=Cl(w,m.mode,S),g.return=m,g):(g=v(g,w),g.return=m,g)}function s(m,g,w,S){var b=w.type;return b===Gi?o(m,g,w.props.children,S,w.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jn&&Cd(b)===g.type)?(S=v(g,w.props),S.ref=Hr(m,g,w),S.return=m,S):(S=Io(w.type,w.key,w.props,null,m.mode,S),S.ref=Hr(m,g,w),S.return=m,S)}function d(m,g,w,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=xl(w,m.mode,S),g.return=m,g):(g=v(g,w.children||[]),g.return=m,g)}function o(m,g,w,S,b){return g===null||g.tag!==7?(g=Ei(w,m.mode,S,b),g.return=m,g):(g=v(g,w),g.return=m,g)}function r(m,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Cl(""+g,m.mode,w),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qs:return w=Io(g.type,g.key,g.props,null,m.mode,w),w.ref=Hr(m,null,g),w.return=m,w;case Ki:return g=xl(g,m.mode,w),g.return=m,g;case jn:var S=g._init;return r(m,S(g._payload),w)}if(Gr(g)||Dr(g))return g=Ei(g,m.mode,w,null),g.return=m,g;lo(m,g)}return null}function a(m,g,w,S){var b=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:c(m,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qs:return w.key===b?s(m,g,w,S):null;case Ki:return w.key===b?d(m,g,w,S):null;case jn:return b=w._init,a(m,g,b(w._payload),S)}if(Gr(w)||Dr(w))return b!==null?null:o(m,g,w,S,null);lo(m,w)}return null}function l(m,g,w,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(w)||null,c(g,m,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qs:return m=m.get(S.key===null?w:S.key)||null,s(g,m,S,b);case Ki:return m=m.get(S.key===null?w:S.key)||null,d(g,m,S,b);case jn:var _=S._init;return l(m,g,w,_(S._payload),b)}if(Gr(S)||Dr(S))return m=m.get(w)||null,o(g,m,S,b,null);lo(g,S)}return null}function h(m,g,w,S){for(var b=null,_=null,x=g,C=g=0,k=null;x!==null&&C<w.length;C++){x.index>C?(k=x,x=null):k=x.sibling;var M=a(m,x,w[C],S);if(M===null){x===null&&(x=k);break}e&&x&&M.alternate===null&&t(m,x),g=u(M,g,C),_===null?b=M:_.sibling=M,_=M,x=k}if(C===w.length)return n(m,x),Ne&&vi(m,C),b;if(x===null){for(;C<w.length;C++)x=r(m,w[C],S),x!==null&&(g=u(x,g,C),_===null?b=x:_.sibling=x,_=x);return Ne&&vi(m,C),b}for(x=i(m,x);C<w.length;C++)k=l(x,m,C,w[C],S),k!==null&&(e&&k.alternate!==null&&x.delete(k.key===null?C:k.key),g=u(k,g,C),_===null?b=k:_.sibling=k,_=k);return e&&x.forEach(function(T){return t(m,T)}),Ne&&vi(m,C),b}function f(m,g,w,S){var b=Dr(w);if(typeof b!="function")throw Error(ne(150));if(w=b.call(w),w==null)throw Error(ne(151));for(var _=b=null,x=g,C=g=0,k=null,M=w.next();x!==null&&!M.done;C++,M=w.next()){x.index>C?(k=x,x=null):k=x.sibling;var T=a(m,x,M.value,S);if(T===null){x===null&&(x=k);break}e&&x&&T.alternate===null&&t(m,x),g=u(T,g,C),_===null?b=T:_.sibling=T,_=T,x=k}if(M.done)return n(m,x),Ne&&vi(m,C),b;if(x===null){for(;!M.done;C++,M=w.next())M=r(m,M.value,S),M!==null&&(g=u(M,g,C),_===null?b=M:_.sibling=M,_=M);return Ne&&vi(m,C),b}for(x=i(m,x);!M.done;C++,M=w.next())M=l(x,m,C,M.value,S),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?C:M.key),g=u(M,g,C),_===null?b=M:_.sibling=M,_=M);return e&&x.forEach(function(L){return t(m,L)}),Ne&&vi(m,C),b}function p(m,g,w,S){if(typeof w=="object"&&w!==null&&w.type===Gi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qs:e:{for(var b=w.key,_=g;_!==null;){if(_.key===b){if(b=w.type,b===Gi){if(_.tag===7){n(m,_.sibling),g=v(_,w.props.children),g.return=m,m=g;break e}}else if(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jn&&Cd(b)===_.type){n(m,_.sibling),g=v(_,w.props),g.ref=Hr(m,_,w),g.return=m,m=g;break e}n(m,_);break}else t(m,_);_=_.sibling}w.type===Gi?(g=Ei(w.props.children,m.mode,S,w.key),g.return=m,m=g):(S=Io(w.type,w.key,w.props,null,m.mode,S),S.ref=Hr(m,g,w),S.return=m,m=S)}return y(m);case Ki:e:{for(_=w.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(m,g.sibling),g=v(g,w.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=xl(w,m.mode,S),g.return=m,m=g}return y(m);case jn:return _=w._init,p(m,g,_(w._payload),S)}if(Gr(w))return h(m,g,w,S);if(Dr(w))return f(m,g,w,S);lo(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(m,g.sibling),g=v(g,w),g.return=m,m=g):(n(m,g),g=Cl(w,m.mode,S),g.return=m,m=g),y(m)):n(m,g)}return p}var mr=Hg(!0),Wg=Hg(!1),ta=ci(null),na=null,tr=null,Lu=null;function Tu(){Lu=tr=na=null}function Ru(e){var t=ta.current;Be(ta),e._currentValue=t}function yc(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function cr(e,t){na=e,Lu=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xt=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(Lu!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(na===null)throw Error(ne(308));tr=e,na.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var Ci=null;function Mu(e){Ci===null?Ci=[e]:Ci.push(e)}function zg(e,t,n,i){var v=t.interleaved;return v===null?(n.next=n,Mu(t)):(n.next=v.next,v.next=n),t.interleaved=n,Dn(e,i)}function Dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vn=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ug(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ni(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ae&2){var v=i.pending;return v===null?t.next=t:(t.next=v.next,v.next=t),i.pending=t,Dn(e,n)}return v=i.interleaved,v===null?(t.next=t,Mu(i)):(t.next=v.next,v.next=t),i.interleaved=t,Dn(e,n)}function Lo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,vu(e,n)}}function xd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var v=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var y={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?v=u=y:u=u.next=y,n=n.next}while(n!==null);u===null?v=u=t:u=u.next=t}else v=u=t;n={baseState:i.baseState,firstBaseUpdate:v,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ia(e,t,n,i){var v=e.updateQueue;Vn=!1;var u=v.firstBaseUpdate,y=v.lastBaseUpdate,c=v.shared.pending;if(c!==null){v.shared.pending=null;var s=c,d=s.next;s.next=null,y===null?u=d:y.next=d,y=s;var o=e.alternate;o!==null&&(o=o.updateQueue,c=o.lastBaseUpdate,c!==y&&(c===null?o.firstBaseUpdate=d:c.next=d,o.lastBaseUpdate=s))}if(u!==null){var r=v.baseState;y=0,o=d=s=null,c=u;do{var a=c.lane,l=c.eventTime;if((i&a)===a){o!==null&&(o=o.next={eventTime:l,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var h=e,f=c;switch(a=t,l=n,f.tag){case 1:if(h=f.payload,typeof h=="function"){r=h.call(l,r,a);break e}r=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=f.payload,a=typeof h=="function"?h.call(l,r,a):h,a==null)break e;r=ze({},r,a);break e;case 2:Vn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,a=v.effects,a===null?v.effects=[c]:a.push(c))}else l={eventTime:l,lane:a,tag:c.tag,payload:c.payload,callback:c.callback,next:null},o===null?(d=o=l,s=r):o=o.next=l,y|=a;if(c=c.next,c===null){if(c=v.shared.pending,c===null)break;a=c,c=a.next,a.next=null,v.lastBaseUpdate=a,v.shared.pending=null}}while(!0);if(o===null&&(s=r),v.baseState=s,v.firstBaseUpdate=d,v.lastBaseUpdate=o,t=v.shared.interleaved,t!==null){v=t;do y|=v.lane,v=v.next;while(v!==t)}else u===null&&(v.shared.lanes=0);Mi|=y,e.lanes=y,e.memoizedState=r}}function kd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],v=i.callback;if(v!==null){if(i.callback=null,i=n,typeof v!="function")throw Error(ne(191,v));v.call(i)}}}var Bs={},Sn=ci(Bs),bs=ci(Bs),Cs=ci(Bs);function xi(e){if(e===Bs)throw Error(ne(174));return e}function Ou(e,t){switch(Oe(Cs,t),Oe(bs,e),Oe(Sn,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jl(t,e)}Be(Sn),Oe(Sn,t)}function vr(){Be(Sn),Be(bs),Be(Cs)}function jg(e){xi(Cs.current);var t=xi(Sn.current),n=Jl(t,e.type);t!==n&&(Oe(bs,e),Oe(Sn,n))}function Iu(e){bs.current===e&&(Be(Sn),Be(bs))}var He=ci(0);function ra(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vl=[];function Du(){for(var e=0;e<vl.length;e++)vl[e]._workInProgressVersionPrimary=null;vl.length=0}var To=Nn.ReactCurrentDispatcher,yl=Nn.ReactCurrentBatchConfig,Ri=0,We=null,Qe=null,et=null,sa=!1,ns=!1,xs=0,ow=0;function ct(){throw Error(ne(321))}function Pu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function Bu(e,t,n,i,v,u){if(Ri=u,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,To.current=e===null||e.memoizedState===null?uw:hw,e=n(i,v),ns){u=0;do{if(ns=!1,xs=0,25<=u)throw Error(ne(301));u+=1,et=Qe=null,t.updateQueue=null,To.current=dw,e=n(i,v)}while(ns)}if(To.current=oa,t=Qe!==null&&Qe.next!==null,Ri=0,et=Qe=We=null,sa=!1,t)throw Error(ne(300));return e}function Nu(){var e=xs!==0;return xs=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?We.memoizedState=et=e:et=et.next=e,et}function Qt(){if(Qe===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=et===null?We.memoizedState:et.next;if(t!==null)et=t,Qe=e;else{if(e===null)throw Error(ne(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},et===null?We.memoizedState=et=e:et=et.next=e}return et}function ks(e,t){return typeof t=="function"?t(e):t}function _l(e){var t=Qt(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var i=Qe,v=i.baseQueue,u=n.pending;if(u!==null){if(v!==null){var y=v.next;v.next=u.next,u.next=y}i.baseQueue=v=u,n.pending=null}if(v!==null){u=v.next,i=i.baseState;var c=y=null,s=null,d=u;do{var o=d.lane;if((Ri&o)===o)s!==null&&(s=s.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var r={lane:o,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};s===null?(c=s=r,y=i):s=s.next=r,We.lanes|=o,Mi|=o}d=d.next}while(d!==null&&d!==u);s===null?y=i:s.next=c,dn(i,t.memoizedState)||(xt=!0),t.memoizedState=i,t.baseState=y,t.baseQueue=s,n.lastRenderedState=i}if(e=n.interleaved,e!==null){v=e;do u=v.lane,We.lanes|=u,Mi|=u,v=v.next;while(v!==e)}else v===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wl(e){var t=Qt(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var i=n.dispatch,v=n.pending,u=t.memoizedState;if(v!==null){n.pending=null;var y=v=v.next;do u=e(u,y.action),y=y.next;while(y!==v);dn(u,t.memoizedState)||(xt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function Vg(){}function Kg(e,t){var n=We,i=Qt(),v=t(),u=!dn(i.memoizedState,v);if(u&&(i.memoizedState=v,xt=!0),i=i.queue,Fu(Xg.bind(null,n,i,e),[e]),i.getSnapshot!==t||u||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Es(9,Yg.bind(null,n,i,v,t),void 0,null),tt===null)throw Error(ne(349));Ri&30||Gg(n,t,v)}return v}function Gg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yg(e,t,n,i){t.value=n,t.getSnapshot=i,qg(t)&&Qg(e)}function Xg(e,t,n){return n(function(){qg(t)&&Qg(e)})}function qg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function Qg(e){var t=Dn(e,1);t!==null&&un(t,e,1,-1)}function Ed(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=cw.bind(null,We,e),[t.memoizedState,e]}function Es(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Jg(){return Qt().memoizedState}function Ro(e,t,n,i){var v=mn();We.flags|=e,v.memoizedState=Es(1|t,n,void 0,i===void 0?null:i)}function Ra(e,t,n,i){var v=Qt();i=i===void 0?null:i;var u=void 0;if(Qe!==null){var y=Qe.memoizedState;if(u=y.destroy,i!==null&&Pu(i,y.deps)){v.memoizedState=Es(t,n,u,i);return}}We.flags|=e,v.memoizedState=Es(1|t,n,u,i)}function Ad(e,t){return Ro(8390656,8,e,t)}function Fu(e,t){return Ra(2048,8,e,t)}function Zg(e,t){return Ra(4,2,e,t)}function em(e,t){return Ra(4,4,e,t)}function tm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nm(e,t,n){return n=n!=null?n.concat([e]):null,Ra(4,4,tm.bind(null,t,e),n)}function Hu(){}function im(e,t){var n=Qt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Pu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function rm(e,t){var n=Qt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Pu(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function sm(e,t,n){return Ri&21?(dn(n,t)||(n=ug(),We.lanes|=n,Mi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xt=!0),e.memoizedState=n)}function aw(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var i=yl.transition;yl.transition={};try{e(!1),t()}finally{Me=n,yl.transition=i}}function om(){return Qt().memoizedState}function lw(e,t,n){var i=ri(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},am(e))lm(t,n);else if(n=zg(e,t,n,i),n!==null){var v=vt();un(n,e,i,v),cm(n,t,i)}}function cw(e,t,n){var i=ri(e),v={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(am(e))lm(t,v);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var y=t.lastRenderedState,c=u(y,n);if(v.hasEagerState=!0,v.eagerState=c,dn(c,y)){var s=t.interleaved;s===null?(v.next=v,Mu(t)):(v.next=s.next,s.next=v),t.interleaved=v;return}}catch{}finally{}n=zg(e,t,v,i),n!==null&&(v=vt(),un(n,e,i,v),cm(n,t,i))}}function am(e){var t=e.alternate;return e===We||t!==null&&t===We}function lm(e,t){ns=sa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cm(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,vu(e,n)}}var oa={readContext:qt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},uw={readContext:qt,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Ad,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ro(4194308,4,tm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=mn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=lw.bind(null,We,e),[i.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:Ed,useDebugValue:Hu,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=Ed(!1),t=e[0];return e=aw.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=We,v=mn();if(Ne){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),tt===null)throw Error(ne(349));Ri&30||Gg(i,t,n)}v.memoizedState=n;var u={value:n,getSnapshot:t};return v.queue=u,Ad(Xg.bind(null,i,u,e),[e]),i.flags|=2048,Es(9,Yg.bind(null,i,u,n,t),void 0,null),n},useId:function(){var e=mn(),t=tt.identifierPrefix;if(Ne){var n=Mn,i=Rn;n=(i&~(1<<32-cn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ow++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hw={readContext:qt,useCallback:im,useContext:qt,useEffect:Fu,useImperativeHandle:nm,useInsertionEffect:Zg,useLayoutEffect:em,useMemo:rm,useReducer:_l,useRef:Jg,useState:function(){return _l(ks)},useDebugValue:Hu,useDeferredValue:function(e){var t=Qt();return sm(t,Qe.memoizedState,e)},useTransition:function(){var e=_l(ks)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Vg,useSyncExternalStore:Kg,useId:om,unstable_isNewReconciler:!1},dw={readContext:qt,useCallback:im,useContext:qt,useEffect:Fu,useImperativeHandle:nm,useInsertionEffect:Zg,useLayoutEffect:em,useMemo:rm,useReducer:wl,useRef:Jg,useState:function(){return wl(ks)},useDebugValue:Hu,useDeferredValue:function(e){var t=Qt();return Qe===null?t.memoizedState=e:sm(t,Qe.memoizedState,e)},useTransition:function(){var e=wl(ks)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Vg,useSyncExternalStore:Kg,useId:om,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _c(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ma={isMounted:function(e){return(e=e._reactInternals)?Bi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=vt(),v=ri(e),u=$n(i,v);u.payload=t,n!=null&&(u.callback=n),t=ni(e,u,v),t!==null&&(un(t,e,v,i),Lo(t,e,v))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=vt(),v=ri(e),u=$n(i,v);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=ni(e,u,v),t!==null&&(un(t,e,v,i),Lo(t,e,v))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),i=ri(e),v=$n(n,i);v.tag=2,t!=null&&(v.callback=t),t=ni(e,v,i),t!==null&&(un(t,e,i,n),Lo(t,e,i))}};function Ld(e,t,n,i,v,u,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,y):t.prototype&&t.prototype.isPureReactComponent?!ys(n,i)||!ys(v,u):!0}function um(e,t,n){var i=!1,v=ai,u=t.contextType;return typeof u=="object"&&u!==null?u=qt(u):(v=Et(t)?Li:ft.current,i=t.contextTypes,u=(i=i!=null)?pr(e,v):ai),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ma,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=v,e.__reactInternalMemoizedMaskedChildContext=u),t}function Td(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ma.enqueueReplaceState(t,t.state,null)}function wc(e,t,n,i){var v=e.stateNode;v.props=n,v.state=e.memoizedState,v.refs={},$u(e);var u=t.contextType;typeof u=="object"&&u!==null?v.context=qt(u):(u=Et(t)?Li:ft.current,v.context=pr(e,u)),v.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(_c(e,t,u,n),v.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(t=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),t!==v.state&&Ma.enqueueReplaceState(v,v.state,null),ia(e,n,v,i),v.state=e.memoizedState),typeof v.componentDidMount=="function"&&(e.flags|=4194308)}function yr(e,t){try{var n="",i=t;do n+=H_(i),i=i.return;while(i);var v=n}catch(u){v=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:v,digest:null}}function Sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fw=typeof WeakMap=="function"?WeakMap:Map;function hm(e,t,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){la||(la=!0,Mc=i),Sc(e,t)},n}function dm(e,t,n){n=$n(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var v=t.value;n.payload=function(){return i(v)},n.callback=function(){Sc(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){Sc(e,t),typeof i!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),n}function Rd(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new fw;var v=new Set;i.set(t,v)}else v=i.get(t),v===void 0&&(v=new Set,i.set(t,v));v.has(n)||(v.add(n),e=Aw.bind(null,e,t,n),t.then(e,e))}function Md(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $d(e,t,n,i,v){return e.mode&1?(e.flags|=65536,e.lanes=v,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$n(-1,1),t.tag=2,ni(n,t,1))),n.lanes|=1),e)}var pw=Nn.ReactCurrentOwner,xt=!1;function mt(e,t,n,i){t.child=e===null?Wg(t,null,n,i):mr(t,e.child,n,i)}function Od(e,t,n,i,v){n=n.render;var u=t.ref;return cr(t,v),i=Bu(e,t,n,i,u,v),n=Nu(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~v,Pn(e,t,v)):(Ne&&n&&ku(t),t.flags|=1,mt(e,t,i,v),t.child)}function Id(e,t,n,i,v){if(e===null){var u=n.type;return typeof u=="function"&&!Yu(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,fm(e,t,u,i,v)):(e=Io(n.type,null,i,t,t.mode,v),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&v)){var y=u.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(y,i)&&e.ref===t.ref)return Pn(e,t,v)}return t.flags|=1,e=si(u,i),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,n,i,v){if(e!==null){var u=e.memoizedProps;if(ys(u,i)&&e.ref===t.ref)if(xt=!1,t.pendingProps=i=u,(e.lanes&v)!==0)e.flags&131072&&(xt=!0);else return t.lanes=e.lanes,Pn(e,t,v)}return bc(e,t,n,i,v)}function pm(e,t,n){var i=t.pendingProps,v=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ir,$t),$t|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(ir,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:n,Oe(ir,$t),$t|=i}else u!==null?(i=u.baseLanes|n,t.memoizedState=null):i=n,Oe(ir,$t),$t|=i;return mt(e,t,v,n),t.child}function gm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bc(e,t,n,i,v){var u=Et(n)?Li:ft.current;return u=pr(t,u),cr(t,v),n=Bu(e,t,n,i,u,v),i=Nu(),e!==null&&!xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~v,Pn(e,t,v)):(Ne&&i&&ku(t),t.flags|=1,mt(e,t,n,v),t.child)}function Dd(e,t,n,i,v){if(Et(n)){var u=!0;Jo(t)}else u=!1;if(cr(t,v),t.stateNode===null)Mo(e,t),um(t,n,i),wc(t,n,i,v),i=!0;else if(e===null){var y=t.stateNode,c=t.memoizedProps;y.props=c;var s=y.context,d=n.contextType;typeof d=="object"&&d!==null?d=qt(d):(d=Et(n)?Li:ft.current,d=pr(t,d));var o=n.getDerivedStateFromProps,r=typeof o=="function"||typeof y.getSnapshotBeforeUpdate=="function";r||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(c!==i||s!==d)&&Td(t,y,i,d),Vn=!1;var a=t.memoizedState;y.state=a,ia(t,i,y,v),s=t.memoizedState,c!==i||a!==s||kt.current||Vn?(typeof o=="function"&&(_c(t,n,o,i),s=t.memoizedState),(c=Vn||Ld(t,n,c,i,a,s,d))?(r||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=s),y.props=i,y.state=s,y.context=d,i=c):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{y=t.stateNode,Ug(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:nn(t.type,c),y.props=d,r=t.pendingProps,a=y.context,s=n.contextType,typeof s=="object"&&s!==null?s=qt(s):(s=Et(n)?Li:ft.current,s=pr(t,s));var l=n.getDerivedStateFromProps;(o=typeof l=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(c!==r||a!==s)&&Td(t,y,i,s),Vn=!1,a=t.memoizedState,y.state=a,ia(t,i,y,v);var h=t.memoizedState;c!==r||a!==h||kt.current||Vn?(typeof l=="function"&&(_c(t,n,l,i),h=t.memoizedState),(d=Vn||Ld(t,n,d,i,a,h,s)||!1)?(o||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(i,h,s),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(i,h,s)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||c===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),y.props=i,y.state=h,y.context=s,i=d):(typeof y.componentDidUpdate!="function"||c===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),i=!1)}return Cc(e,t,n,i,u,v)}function Cc(e,t,n,i,v,u){gm(e,t);var y=(t.flags&128)!==0;if(!i&&!y)return v&&wd(t,n,!1),Pn(e,t,u);i=t.stateNode,pw.current=t;var c=y&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&y?(t.child=mr(t,e.child,null,u),t.child=mr(t,null,c,u)):mt(e,t,c,u),t.memoizedState=i.state,v&&wd(t,n,!0),t.child}function mm(e){var t=e.stateNode;t.pendingContext?_d(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_d(e,t.context,!1),Ou(e,t.containerInfo)}function Pd(e,t,n,i,v){return gr(),Au(v),t.flags|=256,mt(e,t,n,i),t.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function kc(e){return{baseLanes:e,cachePool:null,transitions:null}}function vm(e,t,n){var i=t.pendingProps,v=He.current,u=!1,y=(t.flags&128)!==0,c;if((c=y)||(c=e!==null&&e.memoizedState===null?!1:(v&2)!==0),c?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(v|=1),Oe(He,v&1),e===null)return vc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=i.children,e=i.fallback,u?(i=t.mode,u=t.child,y={mode:"hidden",children:y},!(i&1)&&u!==null?(u.childLanes=0,u.pendingProps=y):u=Ia(y,i,0,null),e=Ei(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=kc(n),t.memoizedState=xc,e):Wu(t,y));if(v=e.memoizedState,v!==null&&(c=v.dehydrated,c!==null))return gw(e,t,y,i,c,v,n);if(u){u=i.fallback,y=t.mode,v=e.child,c=v.sibling;var s={mode:"hidden",children:i.children};return!(y&1)&&t.child!==v?(i=t.child,i.childLanes=0,i.pendingProps=s,t.deletions=null):(i=si(v,s),i.subtreeFlags=v.subtreeFlags&14680064),c!==null?u=si(c,u):(u=Ei(u,y,n,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,y=e.child.memoizedState,y=y===null?kc(n):{baseLanes:y.baseLanes|n,cachePool:null,transitions:y.transitions},u.memoizedState=y,u.childLanes=e.childLanes&~n,t.memoizedState=xc,i}return u=e.child,e=u.sibling,i=si(u,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wu(e,t){return t=Ia({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function co(e,t,n,i){return i!==null&&Au(i),mr(t,e.child,null,n),e=Wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gw(e,t,n,i,v,u,y){if(n)return t.flags&256?(t.flags&=-257,i=Sl(Error(ne(422))),co(e,t,y,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,v=t.mode,i=Ia({mode:"visible",children:i.children},v,0,null),u=Ei(u,v,y,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,t.mode&1&&mr(t,e.child,null,y),t.child.memoizedState=kc(y),t.memoizedState=xc,u);if(!(t.mode&1))return co(e,t,y,null);if(v.data==="$!"){if(i=v.nextSibling&&v.nextSibling.dataset,i)var c=i.dgst;return i=c,u=Error(ne(419)),i=Sl(u,i,void 0),co(e,t,y,i)}if(c=(y&e.childLanes)!==0,xt||c){if(i=tt,i!==null){switch(y&-y){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=v&(i.suspendedLanes|y)?0:v,v!==0&&v!==u.retryLane&&(u.retryLane=v,Dn(e,v),un(i,e,v,-1))}return Gu(),i=Sl(Error(ne(421))),co(e,t,y,i)}return v.data==="$?"?(t.flags|=128,t.child=e.child,t=Lw.bind(null,e),v._reactRetry=t,null):(e=u.treeContext,Ot=ti(v.nextSibling),Dt=t,Ne=!0,an=null,e!==null&&(jt[Vt++]=Rn,jt[Vt++]=Mn,jt[Vt++]=Ti,Rn=e.id,Mn=e.overflow,Ti=t),t=Wu(t,i.children),t.flags|=4096,t)}function Bd(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),yc(e.return,t,n)}function bl(e,t,n,i,v){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:v}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=v)}function ym(e,t,n){var i=t.pendingProps,v=i.revealOrder,u=i.tail;if(mt(e,t,i.children,n),i=He.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bd(e,n,t);else if(e.tag===19)Bd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Oe(He,i),!(t.mode&1))t.memoizedState=null;else switch(v){case"forwards":for(n=t.child,v=null;n!==null;)e=n.alternate,e!==null&&ra(e)===null&&(v=n),n=n.sibling;n=v,n===null?(v=t.child,t.child=null):(v=n.sibling,n.sibling=null),bl(t,!1,v,n,u);break;case"backwards":for(n=null,v=t.child,t.child=null;v!==null;){if(e=v.alternate,e!==null&&ra(e)===null){t.child=v;break}e=v.sibling,v.sibling=n,n=v,v=e}bl(t,!0,n,null,u);break;case"together":bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=si(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=si(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mw(e,t,n){switch(t.tag){case 3:mm(t),gr();break;case 5:jg(t);break;case 1:Et(t.type)&&Jo(t);break;case 4:Ou(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,v=t.memoizedProps.value;Oe(ta,i._currentValue),i._currentValue=v;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Oe(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?vm(e,t,n):(Oe(He,He.current&1),e=Pn(e,t,n),e!==null?e.sibling:null);Oe(He,He.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return ym(e,t,n);t.flags|=128}if(v=t.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Oe(He,He.current),i)break;return null;case 22:case 23:return t.lanes=0,pm(e,t,n)}return Pn(e,t,n)}var _m,Ec,wm,Sm;_m=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ec=function(){};wm=function(e,t,n,i){var v=e.memoizedProps;if(v!==i){e=t.stateNode,xi(Sn.current);var u=null;switch(n){case"input":v=Yl(e,v),i=Yl(e,i),u=[];break;case"select":v=ze({},v,{value:void 0}),i=ze({},i,{value:void 0}),u=[];break;case"textarea":v=Ql(e,v),i=Ql(e,i),u=[];break;default:typeof v.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=qo)}Zl(n,i);var y;n=null;for(d in v)if(!i.hasOwnProperty(d)&&v.hasOwnProperty(d)&&v[d]!=null)if(d==="style"){var c=v[d];for(y in c)c.hasOwnProperty(y)&&(n||(n={}),n[y]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(hs.hasOwnProperty(d)?u||(u=[]):(u=u||[]).push(d,null));for(d in i){var s=i[d];if(c=v!=null?v[d]:void 0,i.hasOwnProperty(d)&&s!==c&&(s!=null||c!=null))if(d==="style")if(c){for(y in c)!c.hasOwnProperty(y)||s&&s.hasOwnProperty(y)||(n||(n={}),n[y]="");for(y in s)s.hasOwnProperty(y)&&c[y]!==s[y]&&(n||(n={}),n[y]=s[y])}else n||(u||(u=[]),u.push(d,n)),n=s;else d==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,c=c?c.__html:void 0,s!=null&&c!==s&&(u=u||[]).push(d,s)):d==="children"?typeof s!="string"&&typeof s!="number"||(u=u||[]).push(d,""+s):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(hs.hasOwnProperty(d)?(s!=null&&d==="onScroll"&&Pe("scroll",e),u||c===s||(u=[])):(u=u||[]).push(d,s))}n&&(u=u||[]).push("style",n);var d=u;(t.updateQueue=d)&&(t.flags|=4)}};Sm=function(e,t,n,i){n!==i&&(t.flags|=4)};function Wr(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var v=e.child;v!==null;)n|=v.lanes|v.childLanes,i|=v.subtreeFlags&14680064,i|=v.flags&14680064,v.return=e,v=v.sibling;else for(v=e.child;v!==null;)n|=v.lanes|v.childLanes,i|=v.subtreeFlags,i|=v.flags,v.return=e,v=v.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function vw(e,t,n){var i=t.pendingProps;switch(Eu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return Et(t.type)&&Qo(),ut(t),null;case 3:return i=t.stateNode,vr(),Be(kt),Be(ft),Du(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&(Ic(an),an=null))),Ec(e,t),ut(t),null;case 5:Iu(t);var v=xi(Cs.current);if(n=t.type,e!==null&&t.stateNode!=null)wm(e,t,n,i,v),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ne(166));return ut(t),null}if(e=xi(Sn.current),ao(t)){i=t.stateNode,n=t.type;var u=t.memoizedProps;switch(i[yn]=t,i[Ss]=u,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(v=0;v<Xr.length;v++)Pe(Xr[v],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Kh(i,u),Pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},Pe("invalid",i);break;case"textarea":Yh(i,u),Pe("invalid",i)}Zl(n,u),v=null;for(var y in u)if(u.hasOwnProperty(y)){var c=u[y];y==="children"?typeof c=="string"?i.textContent!==c&&(u.suppressHydrationWarning!==!0&&oo(i.textContent,c,e),v=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(u.suppressHydrationWarning!==!0&&oo(i.textContent,c,e),v=["children",""+c]):hs.hasOwnProperty(y)&&c!=null&&y==="onScroll"&&Pe("scroll",i)}switch(n){case"input":Js(i),Gh(i,u,!0);break;case"textarea":Js(i),Xh(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=qo)}i=v,t.updateQueue=i,i!==null&&(t.flags|=4)}else{y=v.nodeType===9?v:v.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=y.createElement(n,{is:i.is}):(e=y.createElement(n),n==="select"&&(y=e,i.multiple?y.multiple=!0:i.size&&(y.size=i.size))):e=y.createElementNS(e,n),e[yn]=t,e[Ss]=i,_m(e,t,!1,!1),t.stateNode=e;e:{switch(y=ec(n,i),n){case"dialog":Pe("cancel",e),Pe("close",e),v=i;break;case"iframe":case"object":case"embed":Pe("load",e),v=i;break;case"video":case"audio":for(v=0;v<Xr.length;v++)Pe(Xr[v],e);v=i;break;case"source":Pe("error",e),v=i;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),v=i;break;case"details":Pe("toggle",e),v=i;break;case"input":Kh(e,i),v=Yl(e,i),Pe("invalid",e);break;case"option":v=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},v=ze({},i,{value:void 0}),Pe("invalid",e);break;case"textarea":Yh(e,i),v=Ql(e,i),Pe("invalid",e);break;default:v=i}Zl(n,v),c=v;for(u in c)if(c.hasOwnProperty(u)){var s=c[u];u==="style"?Jp(e,s):u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&qp(e,s)):u==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&ds(e,s):typeof s=="number"&&ds(e,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hs.hasOwnProperty(u)?s!=null&&u==="onScroll"&&Pe("scroll",e):s!=null&&hu(e,u,s,y))}switch(n){case"input":Js(e),Gh(e,i,!1);break;case"textarea":Js(e),Xh(e);break;case"option":i.value!=null&&e.setAttribute("value",""+oi(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?sr(e,!!i.multiple,u,!1):i.defaultValue!=null&&sr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof v.onClick=="function"&&(e.onclick=qo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)Sm(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ne(166));if(n=xi(Cs.current),xi(Sn.current),ao(t)){if(i=t.stateNode,n=t.memoizedProps,i[yn]=t,(u=i.nodeValue!==n)&&(e=Dt,e!==null))switch(e.tag){case 3:oo(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oo(i.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[yn]=t,t.stateNode=i}return ut(t),null;case 13:if(Be(He),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Ot!==null&&t.mode&1&&!(t.flags&128))Fg(),gr(),t.flags|=98560,u=!1;else if(u=ao(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(ne(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(ne(317));u[yn]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),u=!1}else an!==null&&(Ic(an),an=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?Je===0&&(Je=3):Gu())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return vr(),Ec(e,t),e===null&&_s(t.stateNode.containerInfo),ut(t),null;case 10:return Ru(t.type._context),ut(t),null;case 17:return Et(t.type)&&Qo(),ut(t),null;case 19:if(Be(He),u=t.memoizedState,u===null)return ut(t),null;if(i=(t.flags&128)!==0,y=u.rendering,y===null)if(i)Wr(u,!1);else{if(Je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=ra(e),y!==null){for(t.flags|=128,Wr(u,!1),i=y.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)u=n,e=i,u.flags&=14680066,y=u.alternate,y===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=y.childLanes,u.lanes=y.lanes,u.child=y.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=y.memoizedProps,u.memoizedState=y.memoizedState,u.updateQueue=y.updateQueue,u.type=y.type,e=y.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ge()>_r&&(t.flags|=128,i=!0,Wr(u,!1),t.lanes=4194304)}else{if(!i)if(e=ra(y),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Ne)return ut(t),null}else 2*Ge()-u.renderingStartTime>_r&&n!==1073741824&&(t.flags|=128,i=!0,Wr(u,!1),t.lanes=4194304);u.isBackwards?(y.sibling=t.child,t.child=y):(n=u.last,n!==null?n.sibling=y:t.child=y,u.last=y)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ge(),t.sibling=null,n=He.current,Oe(He,i?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return Ku(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?$t&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function yw(e,t){switch(Eu(t),t.tag){case 1:return Et(t.type)&&Qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(),Be(kt),Be(ft),Du(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Iu(t),null;case 13:if(Be(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(He),null;case 4:return vr(),null;case 10:return Ru(t.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var uo=!1,dt=!1,_w=typeof WeakSet=="function"?WeakSet:Set,ae=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){je(e,t,i)}else n.current=null}function Ac(e,t,n){try{n()}catch(i){je(e,t,i)}}var Nd=!1;function ww(e,t){if(uc=Go,e=Eg(),xu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var v=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var y=0,c=-1,s=-1,d=0,o=0,r=e,a=null;t:for(;;){for(var l;r!==n||v!==0&&r.nodeType!==3||(c=y+v),r!==u||i!==0&&r.nodeType!==3||(s=y+i),r.nodeType===3&&(y+=r.nodeValue.length),(l=r.firstChild)!==null;)a=r,r=l;for(;;){if(r===e)break t;if(a===n&&++d===v&&(c=y),a===u&&++o===i&&(s=y),(l=r.nextSibling)!==null)break;r=a,a=r.parentNode}r=l}n=c===-1||s===-1?null:{start:c,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(hc={focusedElem:e,selectionRange:n},Go=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var f=h.memoizedProps,p=h.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?f:nn(t.type,f),p);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(S){je(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return h=Nd,Nd=!1,h}function is(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var v=i=i.next;do{if((v.tag&e)===e){var u=v.destroy;v.destroy=void 0,u!==void 0&&Ac(t,n,u)}v=v.next}while(v!==i)}}function $a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Lc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bm(e){var t=e.alternate;t!==null&&(e.alternate=null,bm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[Ss],delete t[pc],delete t[nw],delete t[iw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cm(e){return e.tag===5||e.tag===3||e.tag===4}function Fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qo));else if(i!==4&&(e=e.child,e!==null))for(Tc(e,t,n),e=e.sibling;e!==null;)Tc(e,t,n),e=e.sibling}function Rc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}var rt=null,sn=!1;function zn(e,t,n){for(n=n.child;n!==null;)xm(e,t,n),n=n.sibling}function xm(e,t,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(xa,n)}catch{}switch(n.tag){case 5:dt||nr(n,t);case 6:var i=rt,v=sn;rt=null,zn(e,t,n),rt=i,sn=v,rt!==null&&(sn?(e=rt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(sn?(e=rt,n=n.stateNode,e.nodeType===8?gl(e.parentNode,n):e.nodeType===1&&gl(e,n),ms(e)):gl(rt,n.stateNode));break;case 4:i=rt,v=sn,rt=n.stateNode.containerInfo,sn=!0,zn(e,t,n),rt=i,sn=v;break;case 0:case 11:case 14:case 15:if(!dt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){v=i=i.next;do{var u=v,y=u.destroy;u=u.tag,y!==void 0&&(u&2||u&4)&&Ac(n,t,y),v=v.next}while(v!==i)}zn(e,t,n);break;case 1:if(!dt&&(nr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){je(n,t,c)}zn(e,t,n);break;case 21:zn(e,t,n);break;case 22:n.mode&1?(dt=(i=dt)||n.memoizedState!==null,zn(e,t,n),dt=i):zn(e,t,n);break;default:zn(e,t,n)}}function Hd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _w),t.forEach(function(i){var v=Tw.bind(null,e,i);n.has(i)||(n.add(i),i.then(v,v))})}}function tn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var v=n[i];try{var u=e,y=t,c=y;e:for(;c!==null;){switch(c.tag){case 5:rt=c.stateNode,sn=!1;break e;case 3:rt=c.stateNode.containerInfo,sn=!0;break e;case 4:rt=c.stateNode.containerInfo,sn=!0;break e}c=c.return}if(rt===null)throw Error(ne(160));xm(u,y,v),rt=null,sn=!1;var s=v.alternate;s!==null&&(s.return=null),v.return=null}catch(d){je(v,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)km(t,e),t=t.sibling}function km(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),gn(e),i&4){try{is(3,e,e.return),$a(3,e)}catch(f){je(e,e.return,f)}try{is(5,e,e.return)}catch(f){je(e,e.return,f)}}break;case 1:tn(t,e),gn(e),i&512&&n!==null&&nr(n,n.return);break;case 5:if(tn(t,e),gn(e),i&512&&n!==null&&nr(n,n.return),e.flags&32){var v=e.stateNode;try{ds(v,"")}catch(f){je(e,e.return,f)}}if(i&4&&(v=e.stateNode,v!=null)){var u=e.memoizedProps,y=n!==null?n.memoizedProps:u,c=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{c==="input"&&u.type==="radio"&&u.name!=null&&Gp(v,u),ec(c,y);var d=ec(c,u);for(y=0;y<s.length;y+=2){var o=s[y],r=s[y+1];o==="style"?Jp(v,r):o==="dangerouslySetInnerHTML"?qp(v,r):o==="children"?ds(v,r):hu(v,o,r,d)}switch(c){case"input":Xl(v,u);break;case"textarea":Yp(v,u);break;case"select":var a=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!u.multiple;var l=u.value;l!=null?sr(v,!!u.multiple,l,!1):a!==!!u.multiple&&(u.defaultValue!=null?sr(v,!!u.multiple,u.defaultValue,!0):sr(v,!!u.multiple,u.multiple?[]:"",!1))}v[Ss]=u}catch(f){je(e,e.return,f)}}break;case 6:if(tn(t,e),gn(e),i&4){if(e.stateNode===null)throw Error(ne(162));v=e.stateNode,u=e.memoizedProps;try{v.nodeValue=u}catch(f){je(e,e.return,f)}}break;case 3:if(tn(t,e),gn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(f){je(e,e.return,f)}break;case 4:tn(t,e),gn(e);break;case 13:tn(t,e),gn(e),v=e.child,v.flags&8192&&(u=v.memoizedState!==null,v.stateNode.isHidden=u,!u||v.alternate!==null&&v.alternate.memoizedState!==null||(ju=Ge())),i&4&&Hd(e);break;case 22:if(o=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(d=dt)||o,tn(t,e),dt=d):tn(t,e),gn(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!o&&e.mode&1)for(ae=e,o=e.child;o!==null;){for(r=ae=o;ae!==null;){switch(a=ae,l=a.child,a.tag){case 0:case 11:case 14:case 15:is(4,a,a.return);break;case 1:nr(a,a.return);var h=a.stateNode;if(typeof h.componentWillUnmount=="function"){i=a,n=a.return;try{t=i,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(f){je(i,n,f)}}break;case 5:nr(a,a.return);break;case 22:if(a.memoizedState!==null){zd(r);continue}}l!==null?(l.return=a,ae=l):zd(r)}o=o.sibling}e:for(o=null,r=e;;){if(r.tag===5){if(o===null){o=r;try{v=r.stateNode,d?(u=v.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(c=r.stateNode,s=r.memoizedProps.style,y=s!=null&&s.hasOwnProperty("display")?s.display:null,c.style.display=Qp("display",y))}catch(f){je(e,e.return,f)}}}else if(r.tag===6){if(o===null)try{r.stateNode.nodeValue=d?"":r.memoizedProps}catch(f){je(e,e.return,f)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}}break;case 19:tn(t,e),gn(e),i&4&&Hd(e);break;case 21:break;default:tn(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cm(n)){var i=n;break e}n=n.return}throw Error(ne(160))}switch(i.tag){case 5:var v=i.stateNode;i.flags&32&&(ds(v,""),i.flags&=-33);var u=Fd(e);Rc(e,u,v);break;case 3:case 4:var y=i.stateNode.containerInfo,c=Fd(e);Tc(e,c,y);break;default:throw Error(ne(161))}}catch(s){je(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sw(e,t,n){ae=e,Em(e)}function Em(e,t,n){for(var i=(e.mode&1)!==0;ae!==null;){var v=ae,u=v.child;if(v.tag===22&&i){var y=v.memoizedState!==null||uo;if(!y){var c=v.alternate,s=c!==null&&c.memoizedState!==null||dt;c=uo;var d=dt;if(uo=y,(dt=s)&&!d)for(ae=v;ae!==null;)y=ae,s=y.child,y.tag===22&&y.memoizedState!==null?Ud(v):s!==null?(s.return=y,ae=s):Ud(v);for(;u!==null;)ae=u,Em(u),u=u.sibling;ae=v,uo=c,dt=d}Wd(e)}else v.subtreeFlags&8772&&u!==null?(u.return=v,ae=u):Wd(e)}}function Wd(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||$a(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!dt)if(n===null)i.componentDidMount();else{var v=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);i.componentDidUpdate(v,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&kd(t,u,i);break;case 3:var y=t.updateQueue;if(y!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kd(t,y,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var o=d.memoizedState;if(o!==null){var r=o.dehydrated;r!==null&&ms(r)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}dt||t.flags&512&&Lc(t)}catch(a){je(t,t.return,a)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function zd(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function Ud(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$a(4,t)}catch(s){je(t,n,s)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var v=t.return;try{i.componentDidMount()}catch(s){je(t,v,s)}}var u=t.return;try{Lc(t)}catch(s){je(t,u,s)}break;case 5:var y=t.return;try{Lc(t)}catch(s){je(t,y,s)}}}catch(s){je(t,t.return,s)}if(t===e){ae=null;break}var c=t.sibling;if(c!==null){c.return=t.return,ae=c;break}ae=t.return}}var bw=Math.ceil,aa=Nn.ReactCurrentDispatcher,zu=Nn.ReactCurrentOwner,Xt=Nn.ReactCurrentBatchConfig,Ae=0,tt=null,Xe=null,st=0,$t=0,ir=ci(0),Je=0,As=null,Mi=0,Oa=0,Uu=0,rs=null,bt=null,ju=0,_r=1/0,Ln=null,la=!1,Mc=null,ii=null,ho=!1,qn=null,ca=0,ss=0,$c=null,$o=-1,Oo=0;function vt(){return Ae&6?Ge():$o!==-1?$o:$o=Ge()}function ri(e){return e.mode&1?Ae&2&&st!==0?st&-st:sw.transition!==null?(Oo===0&&(Oo=ug()),Oo):(e=Me,e!==0||(e=window.event,e=e===void 0?16:vg(e.type)),e):1}function un(e,t,n,i){if(50<ss)throw ss=0,$c=null,Error(ne(185));Is(e,n,i),(!(Ae&2)||e!==tt)&&(e===tt&&(!(Ae&2)&&(Oa|=n),Je===4&&Yn(e,st)),At(e,i),n===1&&Ae===0&&!(t.mode&1)&&(_r=Ge()+500,Ta&&ui()))}function At(e,t){var n=e.callbackNode;s0(e,t);var i=Ko(e,e===tt?st:0);if(i===0)n!==null&&Jh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Jh(n),t===1)e.tag===0?rw(jd.bind(null,e)):Pg(jd.bind(null,e)),ew(function(){!(Ae&6)&&ui()}),n=null;else{switch(hg(i)){case 1:n=mu;break;case 4:n=lg;break;case 16:n=Vo;break;case 536870912:n=cg;break;default:n=Vo}n=Im(n,Am.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Am(e,t){if($o=-1,Oo=0,Ae&6)throw Error(ne(327));var n=e.callbackNode;if(ur()&&e.callbackNode!==n)return null;var i=Ko(e,e===tt?st:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=ua(e,i);else{t=i;var v=Ae;Ae|=2;var u=Tm();(tt!==e||st!==t)&&(Ln=null,_r=Ge()+500,ki(e,t));do try{kw();break}catch(c){Lm(e,c)}while(!0);Tu(),aa.current=u,Ae=v,Xe!==null?t=0:(tt=null,st=0,t=Je)}if(t!==0){if(t===2&&(v=sc(e),v!==0&&(i=v,t=Oc(e,v))),t===1)throw n=As,ki(e,0),Yn(e,i),At(e,Ge()),n;if(t===6)Yn(e,i);else{if(v=e.current.alternate,!(i&30)&&!Cw(v)&&(t=ua(e,i),t===2&&(u=sc(e),u!==0&&(i=u,t=Oc(e,u))),t===1))throw n=As,ki(e,0),Yn(e,i),At(e,Ge()),n;switch(e.finishedWork=v,e.finishedLanes=i,t){case 0:case 1:throw Error(ne(345));case 2:yi(e,bt,Ln);break;case 3:if(Yn(e,i),(i&130023424)===i&&(t=ju+500-Ge(),10<t)){if(Ko(e,0)!==0)break;if(v=e.suspendedLanes,(v&i)!==i){vt(),e.pingedLanes|=e.suspendedLanes&v;break}e.timeoutHandle=fc(yi.bind(null,e,bt,Ln),t);break}yi(e,bt,Ln);break;case 4:if(Yn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,v=-1;0<i;){var y=31-cn(i);u=1<<y,y=t[y],y>v&&(v=y),i&=~u}if(i=v,i=Ge()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bw(i/1960))-i,10<i){e.timeoutHandle=fc(yi.bind(null,e,bt,Ln),i);break}yi(e,bt,Ln);break;case 5:yi(e,bt,Ln);break;default:throw Error(ne(329))}}}return At(e,Ge()),e.callbackNode===n?Am.bind(null,e):null}function Oc(e,t){var n=rs;return e.current.memoizedState.isDehydrated&&(ki(e,t).flags|=256),e=ua(e,t),e!==2&&(t=bt,bt=n,t!==null&&Ic(t)),e}function Ic(e){bt===null?bt=e:bt.push.apply(bt,e)}function Cw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var v=n[i],u=v.getSnapshot;v=v.value;try{if(!dn(u(),v))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yn(e,t){for(t&=~Uu,t&=~Oa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cn(t),i=1<<n;e[n]=-1,t&=~i}}function jd(e){if(Ae&6)throw Error(ne(327));ur();var t=Ko(e,0);if(!(t&1))return At(e,Ge()),null;var n=ua(e,t);if(e.tag!==0&&n===2){var i=sc(e);i!==0&&(t=i,n=Oc(e,i))}if(n===1)throw n=As,ki(e,0),Yn(e,t),At(e,Ge()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yi(e,bt,Ln),At(e,Ge()),null}function Vu(e,t){var n=Ae;Ae|=1;try{return e(t)}finally{Ae=n,Ae===0&&(_r=Ge()+500,Ta&&ui())}}function $i(e){qn!==null&&qn.tag===0&&!(Ae&6)&&ur();var t=Ae;Ae|=1;var n=Xt.transition,i=Me;try{if(Xt.transition=null,Me=1,e)return e()}finally{Me=i,Xt.transition=n,Ae=t,!(Ae&6)&&ui()}}function Ku(){$t=ir.current,Be(ir)}function ki(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Z0(n)),Xe!==null)for(n=Xe.return;n!==null;){var i=n;switch(Eu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Qo();break;case 3:vr(),Be(kt),Be(ft),Du();break;case 5:Iu(i);break;case 4:vr();break;case 13:Be(He);break;case 19:Be(He);break;case 10:Ru(i.type._context);break;case 22:case 23:Ku()}n=n.return}if(tt=e,Xe=e=si(e.current,null),st=$t=t,Je=0,As=null,Uu=Oa=Mi=0,bt=rs=null,Ci!==null){for(t=0;t<Ci.length;t++)if(n=Ci[t],i=n.interleaved,i!==null){n.interleaved=null;var v=i.next,u=n.pending;if(u!==null){var y=u.next;u.next=v,i.next=y}n.pending=i}Ci=null}return e}function Lm(e,t){do{var n=Xe;try{if(Tu(),To.current=oa,sa){for(var i=We.memoizedState;i!==null;){var v=i.queue;v!==null&&(v.pending=null),i=i.next}sa=!1}if(Ri=0,et=Qe=We=null,ns=!1,xs=0,zu.current=null,n===null||n.return===null){Je=1,As=t,Xe=null;break}e:{var u=e,y=n.return,c=n,s=t;if(t=st,c.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var d=s,o=c,r=o.tag;if(!(o.mode&1)&&(r===0||r===11||r===15)){var a=o.alternate;a?(o.updateQueue=a.updateQueue,o.memoizedState=a.memoizedState,o.lanes=a.lanes):(o.updateQueue=null,o.memoizedState=null)}var l=Md(y);if(l!==null){l.flags&=-257,$d(l,y,c,u,t),l.mode&1&&Rd(u,d,t),t=l,s=d;var h=t.updateQueue;if(h===null){var f=new Set;f.add(s),t.updateQueue=f}else h.add(s);break e}else{if(!(t&1)){Rd(u,d,t),Gu();break e}s=Error(ne(426))}}else if(Ne&&c.mode&1){var p=Md(y);if(p!==null){!(p.flags&65536)&&(p.flags|=256),$d(p,y,c,u,t),Au(yr(s,c));break e}}u=s=yr(s,c),Je!==4&&(Je=2),rs===null?rs=[u]:rs.push(u),u=y;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var m=hm(u,s,t);xd(u,m);break e;case 1:c=s;var g=u.type,w=u.stateNode;if(!(u.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ii===null||!ii.has(w)))){u.flags|=65536,t&=-t,u.lanes|=t;var S=dm(u,c,t);xd(u,S);break e}}u=u.return}while(u!==null)}Mm(n)}catch(b){t=b,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Tm(){var e=aa.current;return aa.current=oa,e===null?oa:e}function Gu(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(Mi&268435455)&&!(Oa&268435455)||Yn(tt,st)}function ua(e,t){var n=Ae;Ae|=2;var i=Tm();(tt!==e||st!==t)&&(Ln=null,ki(e,t));do try{xw();break}catch(v){Lm(e,v)}while(!0);if(Tu(),Ae=n,aa.current=i,Xe!==null)throw Error(ne(261));return tt=null,st=0,Je}function xw(){for(;Xe!==null;)Rm(Xe)}function kw(){for(;Xe!==null&&!q_();)Rm(Xe)}function Rm(e){var t=Om(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?Mm(e):Xe=t,zu.current=null}function Mm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yw(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Xe=null;return}}else if(n=vw(n,t,$t),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);Je===0&&(Je=5)}function yi(e,t,n){var i=Me,v=Xt.transition;try{Xt.transition=null,Me=1,Ew(e,t,n,i)}finally{Xt.transition=v,Me=i}return null}function Ew(e,t,n,i){do ur();while(qn!==null);if(Ae&6)throw Error(ne(327));n=e.finishedWork;var v=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(o0(e,u),e===tt&&(Xe=tt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ho||(ho=!0,Im(Vo,function(){return ur(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=Xt.transition,Xt.transition=null;var y=Me;Me=1;var c=Ae;Ae|=4,zu.current=null,ww(e,n),km(n,e),K0(hc),Go=!!uc,hc=uc=null,e.current=n,Sw(n),Q_(),Ae=c,Me=y,Xt.transition=u}else e.current=n;if(ho&&(ho=!1,qn=e,ca=v),u=e.pendingLanes,u===0&&(ii=null),e0(n.stateNode),At(e,Ge()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)v=t[n],i(v.value,{componentStack:v.stack,digest:v.digest});if(la)throw la=!1,e=Mc,Mc=null,e;return ca&1&&e.tag!==0&&ur(),u=e.pendingLanes,u&1?e===$c?ss++:(ss=0,$c=e):ss=0,ui(),null}function ur(){if(qn!==null){var e=hg(ca),t=Xt.transition,n=Me;try{if(Xt.transition=null,Me=16>e?16:e,qn===null)var i=!1;else{if(e=qn,qn=null,ca=0,Ae&6)throw Error(ne(331));var v=Ae;for(Ae|=4,ae=e.current;ae!==null;){var u=ae,y=u.child;if(ae.flags&16){var c=u.deletions;if(c!==null){for(var s=0;s<c.length;s++){var d=c[s];for(ae=d;ae!==null;){var o=ae;switch(o.tag){case 0:case 11:case 15:is(8,o,u)}var r=o.child;if(r!==null)r.return=o,ae=r;else for(;ae!==null;){o=ae;var a=o.sibling,l=o.return;if(bm(o),o===d){ae=null;break}if(a!==null){a.return=l,ae=a;break}ae=l}}}var h=u.alternate;if(h!==null){var f=h.child;if(f!==null){h.child=null;do{var p=f.sibling;f.sibling=null,f=p}while(f!==null)}}ae=u}}if(u.subtreeFlags&2064&&y!==null)y.return=u,ae=y;else e:for(;ae!==null;){if(u=ae,u.flags&2048)switch(u.tag){case 0:case 11:case 15:is(9,u,u.return)}var m=u.sibling;if(m!==null){m.return=u.return,ae=m;break e}ae=u.return}}var g=e.current;for(ae=g;ae!==null;){y=ae;var w=y.child;if(y.subtreeFlags&2064&&w!==null)w.return=y,ae=w;else e:for(y=g;ae!==null;){if(c=ae,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:$a(9,c)}}catch(b){je(c,c.return,b)}if(c===y){ae=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,ae=S;break e}ae=c.return}}if(Ae=v,ui(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(xa,e)}catch{}i=!0}return i}finally{Me=n,Xt.transition=t}}return!1}function Vd(e,t,n){t=yr(n,t),t=hm(e,t,1),e=ni(e,t,1),t=vt(),e!==null&&(Is(e,1,t),At(e,t))}function je(e,t,n){if(e.tag===3)Vd(e,e,n);else for(;t!==null;){if(t.tag===3){Vd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ii===null||!ii.has(i))){e=yr(n,e),e=dm(t,e,1),t=ni(t,e,1),e=vt(),t!==null&&(Is(t,1,e),At(t,e));break}}t=t.return}}function Aw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(st&n)===n&&(Je===4||Je===3&&(st&130023424)===st&&500>Ge()-ju?ki(e,0):Uu|=n),At(e,t)}function $m(e,t){t===0&&(e.mode&1?(t=to,to<<=1,!(to&130023424)&&(to=4194304)):t=1);var n=vt();e=Dn(e,t),e!==null&&(Is(e,t,n),At(e,n))}function Lw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$m(e,n)}function Tw(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,v=e.memoizedState;v!==null&&(n=v.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ne(314))}i!==null&&i.delete(t),$m(e,n)}var Om;Om=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return xt=!1,mw(e,t,n);xt=!!(e.flags&131072)}else xt=!1,Ne&&t.flags&1048576&&Bg(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Mo(e,t),e=t.pendingProps;var v=pr(t,ft.current);cr(t,n),v=Bu(null,t,i,e,v,n);var u=Nu();return t.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(i)?(u=!0,Jo(t)):u=!1,t.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,$u(t),v.updater=Ma,t.stateNode=v,v._reactInternals=t,wc(t,i,e,n),t=Cc(null,t,i,!0,u,n)):(t.tag=0,Ne&&u&&ku(t),mt(null,t,v,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Mo(e,t),e=t.pendingProps,v=i._init,i=v(i._payload),t.type=i,v=t.tag=Mw(i),e=nn(i,e),v){case 0:t=bc(null,t,i,e,n);break e;case 1:t=Dd(null,t,i,e,n);break e;case 11:t=Od(null,t,i,e,n);break e;case 14:t=Id(null,t,i,nn(i.type,e),n);break e}throw Error(ne(306,i,""))}return t;case 0:return i=t.type,v=t.pendingProps,v=t.elementType===i?v:nn(i,v),bc(e,t,i,v,n);case 1:return i=t.type,v=t.pendingProps,v=t.elementType===i?v:nn(i,v),Dd(e,t,i,v,n);case 3:e:{if(mm(t),e===null)throw Error(ne(387));i=t.pendingProps,u=t.memoizedState,v=u.element,Ug(e,t),ia(t,i,null,n);var y=t.memoizedState;if(i=y.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){v=yr(Error(ne(423)),t),t=Pd(e,t,i,n,v);break e}else if(i!==v){v=yr(Error(ne(424)),t),t=Pd(e,t,i,n,v);break e}else for(Ot=ti(t.stateNode.containerInfo.firstChild),Dt=t,Ne=!0,an=null,n=Wg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),i===v){t=Pn(e,t,n);break e}mt(e,t,i,n)}t=t.child}return t;case 5:return jg(t),e===null&&vc(t),i=t.type,v=t.pendingProps,u=e!==null?e.memoizedProps:null,y=v.children,dc(i,v)?y=null:u!==null&&dc(i,u)&&(t.flags|=32),gm(e,t),mt(e,t,y,n),t.child;case 6:return e===null&&vc(t),null;case 13:return vm(e,t,n);case 4:return Ou(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=mr(t,null,i,n):mt(e,t,i,n),t.child;case 11:return i=t.type,v=t.pendingProps,v=t.elementType===i?v:nn(i,v),Od(e,t,i,v,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,v=t.pendingProps,u=t.memoizedProps,y=v.value,Oe(ta,i._currentValue),i._currentValue=y,u!==null)if(dn(u.value,y)){if(u.children===v.children&&!kt.current){t=Pn(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var c=u.dependencies;if(c!==null){y=u.child;for(var s=c.firstContext;s!==null;){if(s.context===i){if(u.tag===1){s=$n(-1,n&-n),s.tag=2;var d=u.updateQueue;if(d!==null){d=d.shared;var o=d.pending;o===null?s.next=s:(s.next=o.next,o.next=s),d.pending=s}}u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),yc(u.return,n,t),c.lanes|=n;break}s=s.next}}else if(u.tag===10)y=u.type===t.type?null:u.child;else if(u.tag===18){if(y=u.return,y===null)throw Error(ne(341));y.lanes|=n,c=y.alternate,c!==null&&(c.lanes|=n),yc(y,n,t),y=u.sibling}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===t){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}mt(e,t,v.children,n),t=t.child}return t;case 9:return v=t.type,i=t.pendingProps.children,cr(t,n),v=qt(v),i=i(v),t.flags|=1,mt(e,t,i,n),t.child;case 14:return i=t.type,v=nn(i,t.pendingProps),v=nn(i.type,v),Id(e,t,i,v,n);case 15:return fm(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,v=t.pendingProps,v=t.elementType===i?v:nn(i,v),Mo(e,t),t.tag=1,Et(i)?(e=!0,Jo(t)):e=!1,cr(t,n),um(t,i,v),wc(t,i,v,n),Cc(null,t,i,!0,e,n);case 19:return ym(e,t,n);case 22:return pm(e,t,n)}throw Error(ne(156,t.tag))};function Im(e,t){return ag(e,t)}function Rw(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,i){return new Rw(e,t,n,i)}function Yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mw(e){if(typeof e=="function")return Yu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fu)return 11;if(e===pu)return 14}return 2}function si(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Io(e,t,n,i,v,u){var y=2;if(i=e,typeof e=="function")Yu(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Gi:return Ei(n.children,v,u,t);case du:y=8,v|=8;break;case jl:return e=Yt(12,n,t,v|2),e.elementType=jl,e.lanes=u,e;case Vl:return e=Yt(13,n,t,v),e.elementType=Vl,e.lanes=u,e;case Kl:return e=Yt(19,n,t,v),e.elementType=Kl,e.lanes=u,e;case jp:return Ia(n,v,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zp:y=10;break e;case Up:y=9;break e;case fu:y=11;break e;case pu:y=14;break e;case jn:y=16,i=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Yt(y,n,t,v),t.elementType=e,t.type=i,t.lanes=u,t}function Ei(e,t,n,i){return e=Yt(7,e,i,t),e.lanes=n,e}function Ia(e,t,n,i){return e=Yt(22,e,i,t),e.elementType=jp,e.lanes=n,e.stateNode={isHidden:!1},e}function Cl(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function xl(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $w(e,t,n,i,v){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rl(0),this.expirationTimes=rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.identifierPrefix=i,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Xu(e,t,n,i,v,u,y,c,s){return e=new $w(e,t,n,c,s),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Yt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(u),e}function Ow(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Dm(e){if(!e)return ai;e=e._reactInternals;e:{if(Bi(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(Et(n))return Dg(e,n,t)}return t}function Pm(e,t,n,i,v,u,y,c,s){return e=Xu(n,i,!0,e,v,u,y,c,s),e.context=Dm(null),n=e.current,i=vt(),v=ri(n),u=$n(i,v),u.callback=t??null,ni(n,u,v),e.current.lanes=v,Is(e,v,i),At(e,i),e}function Da(e,t,n,i){var v=t.current,u=vt(),y=ri(v);return n=Dm(n),t.context===null?t.context=n:t.pendingContext=n,t=$n(u,y),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=ni(v,t,y),e!==null&&(un(e,v,y,u),Lo(e,v,y)),y}function ha(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qu(e,t){Kd(e,t),(e=e.alternate)&&Kd(e,t)}function Iw(){return null}var Bm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}Pa.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));Da(e,t,null,null)};Pa.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$i(function(){Da(null,e,null,null)}),t[In]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=pg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gn.length&&t!==0&&t<Gn[n].priority;n++);Gn.splice(n,0,e),n===0&&mg(e)}};function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gd(){}function Dw(e,t,n,i,v){if(v){if(typeof i=="function"){var u=i;i=function(){var d=ha(y);u.call(d)}}var y=Pm(t,i,e,0,null,!1,!1,"",Gd);return e._reactRootContainer=y,e[In]=y.current,_s(e.nodeType===8?e.parentNode:e),$i(),y}for(;v=e.lastChild;)e.removeChild(v);if(typeof i=="function"){var c=i;i=function(){var d=ha(s);c.call(d)}}var s=Xu(e,0,!1,null,null,!1,!1,"",Gd);return e._reactRootContainer=s,e[In]=s.current,_s(e.nodeType===8?e.parentNode:e),$i(function(){Da(t,s,n,i)}),s}function Na(e,t,n,i,v){var u=n._reactRootContainer;if(u){var y=u;if(typeof v=="function"){var c=v;v=function(){var s=ha(y);c.call(s)}}Da(t,y,e,v)}else y=Dw(n,t,e,v,i);return ha(y)}dg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yr(t.pendingLanes);n!==0&&(vu(t,n|1),At(t,Ge()),!(Ae&6)&&(_r=Ge()+500,ui()))}break;case 13:$i(function(){var i=Dn(e,1);if(i!==null){var v=vt();un(i,e,1,v)}}),qu(e,1)}};yu=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var n=vt();un(t,e,134217728,n)}qu(e,134217728)}};fg=function(e){if(e.tag===13){var t=ri(e),n=Dn(e,t);if(n!==null){var i=vt();un(n,e,t,i)}qu(e,t)}};pg=function(){return Me};gg=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};nc=function(e,t,n){switch(t){case"input":if(Xl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var v=La(i);if(!v)throw Error(ne(90));Kp(i),Xl(i,v)}}}break;case"textarea":Yp(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};tg=Vu;ng=$i;var Pw={usingClientEntryPoint:!1,Events:[Ps,Qi,La,Zp,eg,Vu]},zr={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bw={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sg(e),e===null?null:e.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||Iw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{xa=fo.inject(Bw),wn=fo}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(t))throw Error(ne(200));return Ow(e,t,null,n)};Bt.createRoot=function(e,t){if(!Ju(e))throw Error(ne(299));var n=!1,i="",v=Bm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Xu(e,1,!1,null,null,n,!1,i,v),e[In]=t.current,_s(e.nodeType===8?e.parentNode:e),new Qu(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=sg(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return $i(e)};Bt.hydrate=function(e,t,n){if(!Ba(t))throw Error(ne(200));return Na(null,e,t,!0,n)};Bt.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(ne(405));var i=n!=null&&n.hydratedSources||null,v=!1,u="",y=Bm;if(n!=null&&(n.unstable_strictMode===!0&&(v=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),t=Pm(t,null,e,1,n??null,v,!1,u,y),e[In]=t.current,_s(e),i)for(e=0;e<i.length;e++)n=i[e],v=n._getVersion,v=v(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,v]:t.mutableSourceEagerHydrationData.push(n,v);return new Pa(t)};Bt.render=function(e,t,n){if(!Ba(t))throw Error(ne(200));return Na(null,e,t,!1,n)};Bt.unmountComponentAtNode=function(e){if(!Ba(e))throw Error(ne(40));return e._reactRootContainer?($i(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1};Bt.unstable_batchedUpdates=Vu;Bt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ba(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Na(e,t,n,!1,i)};Bt.version="18.3.1-next-f1338f8080-20240426";function Nm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nm)}catch(e){console.error(e)}}Nm(),Np.exports=Bt;var Fm=Np.exports,Yd=Fm;zl.createRoot=Yd.createRoot,zl.hydrateRoot=Yd.hydrateRoot;var wr={},Zu={},Hm={exports:{}};(function(e,t){(function(){var n="ace",i=function(){return this}();!i&&typeof window<"u"&&(i=window);var v=function(o,r,a){if(typeof o!="string"){v.original?v.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(a=r),v.modules[o]||(v.payloads[o]=a,v.modules[o]=null)};v.modules={},v.payloads={};var u=function(o,r,a){if(typeof r=="string"){var l=s(o,r);if(l!=null)return a&&a(),l}else if(Object.prototype.toString.call(r)==="[object Array]"){for(var h=[],f=0,p=r.length;f<p;++f){var m=s(o,r[f]);if(m==null&&y.original)return;h.push(m)}return a&&a.apply(null,h)||!0}},y=function(o,r){var a=u("",o,r);return a==null&&y.original?y.original.apply(this,arguments):a},c=function(o,r){if(r.indexOf("!")!==-1){var a=r.split("!");return c(o,a[0])+"!"+c(o,a[1])}if(r.charAt(0)=="."){var l=o.split("/").slice(0,-1).join("/");for(r=l+"/"+r;r.indexOf(".")!==-1&&h!=r;){var h=r;r=r.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return r},s=function(o,r){r=c(o,r);var a=v.modules[r];if(!a){if(a=v.payloads[r],typeof a=="function"){var l={},h={id:r,uri:"",exports:l,packaged:!0},f=function(m,g){return u(r,m,g)},p=a(f,l,h);l=p||h.exports,v.modules[r]=l,delete v.payloads[r]}a=v.modules[r]=l||a}return a};function d(o){var r=i;i[o]||(i[o]={}),r=i[o],(!r.define||!r.define.packaged)&&(v.original=r.define,r.define=v,r.define.packaged=!0),(!r.require||!r.require.packaged)&&(y.original=r.require,r.require=y,r.require.packaged=!0)}d(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,i,v){function u(y,c,s){Object.defineProperty(y,c,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||u(String.prototype,"startsWith",function(y,c){return c=c||0,this.lastIndexOf(y,c)===c}),String.prototype.endsWith||u(String.prototype,"endsWith",function(y,c){var s=this;(c===void 0||c>s.length)&&(c=s.length),c-=y.length;var d=s.indexOf(y,c);return d!==-1&&d===c}),String.prototype.repeat||u(String.prototype,"repeat",function(y){for(var c="",s=this;y>0;)y&1&&(c+=s),(y>>=1)&&(s+=s);return c}),String.prototype.includes||u(String.prototype,"includes",function(y,c){return this.indexOf(y,c)!=-1}),Object.assign||(Object.assign=function(y){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(y),s=1;s<arguments.length;s++){var d=arguments[s];d!=null&&Object.keys(d).forEach(function(o){c[o]=d[o]})}return c}),Object.values||(Object.values=function(y){return Object.keys(y).map(function(c){return y[c]})}),Array.prototype.find||u(Array.prototype,"find",function(y){for(var c=this.length,s=arguments[1],d=0;d<c;d++){var o=this[d];if(y.call(s,o,d,this))return o}}),Array.prototype.findIndex||u(Array.prototype,"findIndex",function(y){for(var c=this.length,s=arguments[1],d=0;d<c;d++){var o=this[d];if(y.call(s,o,d,this))return d}}),Array.prototype.includes||u(Array.prototype,"includes",function(y,c){return this.indexOf(y,c)!=-1}),Array.prototype.fill||u(Array.prototype,"fill",function(y){for(var c=this,s=c.length>>>0,d=arguments[1],o=d>>0,r=o<0?Math.max(s+o,0):Math.min(o,s),a=arguments[2],l=a===void 0?s:a>>0,h=l<0?Math.max(s+l,0):Math.min(l,s);r<h;)c[r]=y,r++;return c}),Array.of||u(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,i,v){n("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(n,i,v){i.deepCopy=function u(y){if(typeof y!="object"||!y)return y;var c;if(Array.isArray(y)){c=[];for(var s=0;s<y.length;s++)c[s]=u(y[s]);return c}if(Object.prototype.toString.call(y)!=="[object Object]")return y;c={};for(var s in y)c[s]=u(y[s]);return c}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,i,v){i.last=function(c){return c[c.length-1]},i.stringReverse=function(c){return c.split("").reverse().join("")},i.stringRepeat=function(c,s){for(var d="";s>0;)s&1&&(d+=c),(s>>=1)&&(c+=c);return d};var u=/^\s\s*/,y=/\s\s*$/;i.stringTrimLeft=function(c){return c.replace(u,"")},i.stringTrimRight=function(c){return c.replace(y,"")},i.copyObject=function(c){var s={};for(var d in c)s[d]=c[d];return s},i.copyArray=function(c){for(var s=[],d=0,o=c.length;d<o;d++)c[d]&&typeof c[d]=="object"?s[d]=this.copyObject(c[d]):s[d]=c[d];return s},i.deepCopy=n("./deep_copy").deepCopy,i.arrayToMap=function(c){for(var s={},d=0;d<c.length;d++)s[c[d]]=1;return s},i.createMap=function(c){var s=Object.create(null);for(var d in c)s[d]=c[d];return s},i.arrayRemove=function(c,s){for(var d=0;d<=c.length;d++)s===c[d]&&c.splice(d,1)},i.escapeRegExp=function(c){return c.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},i.escapeHTML=function(c){return(""+c).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},i.getMatchOffsets=function(c,s){var d=[];return c.replace(s,function(o){d.push({offset:arguments[arguments.length-2],length:o.length})}),d},i.deferredCall=function(c){var s=null,d=function(){s=null,c()},o=function(r){return o.cancel(),s=setTimeout(d,r||0),o};return o.schedule=o,o.call=function(){return this.cancel(),c(),o},o.cancel=function(){return clearTimeout(s),s=null,o},o.isPending=function(){return s},o},i.delayedCall=function(c,s){var d=null,o=function(){d=null,c()},r=function(a){d==null&&(d=setTimeout(o,a||s))};return r.delay=function(a){d&&clearTimeout(d),d=setTimeout(o,a||s)},r.schedule=r,r.call=function(){this.cancel(),c()},r.cancel=function(){d&&clearTimeout(d),d=null},r.isPending=function(){return d},r},i.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},i.skipEmptyMatch=function(c,s,d){return d&&c.codePointAt(s)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,i,v){i.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},i.getOS=function(){return i.isMac?i.OS.MAC:i.isLinux?i.OS.LINUX:i.OS.WINDOWS};var u=typeof navigator=="object"?navigator:{},y=(/mac|win|linux/i.exec(u.platform)||["other"])[0].toLowerCase(),c=u.userAgent||"",s=u.appName||"";i.isWin=y=="win",i.isMac=y=="mac",i.isLinux=y=="linux",i.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((c.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((c.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),i.isOldIE=i.isIE&&i.isIE<9,i.isGecko=i.isMozilla=c.match(/ Gecko\/\d+/),i.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",i.isWebKit=parseFloat(c.split("WebKit/")[1])||void 0,i.isChrome=parseFloat(c.split(" Chrome/")[1])||void 0,i.isSafari=parseFloat(c.split(" Safari/")[1])&&!i.isChrome||void 0,i.isEdge=parseFloat(c.split(" Edge/")[1])||void 0,i.isAIR=c.indexOf("AdobeAIR")>=0,i.isAndroid=c.indexOf("Android")>=0,i.isChromeOS=c.indexOf(" CrOS ")>=0,i.isIOS=/iPad|iPhone|iPod/.test(c)&&!window.MSStream,i.isIOS&&(i.isMac=!0),i.isMobile=i.isIOS||i.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,i,v){var u=n("./useragent"),y="http://www.w3.org/1999/xhtml";i.buildDom=function a(l,h,f){if(typeof l=="string"&&l){var p=document.createTextNode(l);return h&&h.appendChild(p),p}if(!Array.isArray(l))return l&&l.appendChild&&h&&h.appendChild(l),l;if(typeof l[0]!="string"||!l[0]){for(var m=[],g=0;g<l.length;g++){var w=a(l[g],h,f);w&&m.push(w)}return m}var S=document.createElement(l[0]),b=l[1],_=1;b&&typeof b=="object"&&!Array.isArray(b)&&(_=2);for(var g=_;g<l.length;g++)a(l[g],S,f);return _==2&&Object.keys(b).forEach(function(x){var C=b[x];x==="class"?S.className=Array.isArray(C)?C.join(" "):C:typeof C=="function"||x=="value"||x[0]=="$"?S[x]=C:x==="ref"?f&&(f[C]=S):x==="style"?typeof C=="string"&&(S.style.cssText=C):C!=null&&S.setAttribute(x,C)}),h&&h.appendChild(S),S},i.getDocumentHead=function(a){return a||(a=document),a.head||a.getElementsByTagName("head")[0]||a.documentElement},i.createElement=function(a,l){return document.createElementNS?document.createElementNS(l||y,a):document.createElement(a)},i.removeChildren=function(a){a.innerHTML=""},i.createTextNode=function(a,l){var h=l?l.ownerDocument:document;return h.createTextNode(a)},i.createFragment=function(a){var l=a?a.ownerDocument:document;return l.createDocumentFragment()},i.hasCssClass=function(a,l){var h=(a.className+"").split(/\s+/g);return h.indexOf(l)!==-1},i.addCssClass=function(a,l){i.hasCssClass(a,l)||(a.className+=" "+l)},i.removeCssClass=function(a,l){for(var h=a.className.split(/\s+/g);;){var f=h.indexOf(l);if(f==-1)break;h.splice(f,1)}a.className=h.join(" ")},i.toggleCssClass=function(a,l){for(var h=a.className.split(/\s+/g),f=!0;;){var p=h.indexOf(l);if(p==-1)break;f=!1,h.splice(p,1)}return f&&h.push(l),a.className=h.join(" "),f},i.setCssClass=function(a,l,h){h?i.addCssClass(a,l):i.removeCssClass(a,l)},i.hasCssString=function(a,l){var h=0,f;if(l=l||document,f=l.querySelectorAll("style")){for(;h<f.length;)if(f[h++].id===a)return!0}},i.removeElementById=function(a,l){l=l||document,l.getElementById(a)&&l.getElementById(a).remove()};var c,s=[];i.useStrictCSP=function(a){c=a,a==!1?d():s||(s=[])};function d(){var a=s;s=null,a&&a.forEach(function(l){o(l[0],l[1])})}function o(a,l,h){if(!(typeof document>"u")){if(s){if(h)d();else if(h===!1)return s.push([a,l])}if(!c){var f=h;!h||!h.getRootNode?f=document:(f=h.getRootNode(),(!f||f==h)&&(f=document));var p=f.ownerDocument||f;if(l&&i.hasCssString(l,f))return null;l&&(a+=`
/*# sourceURL=ace/css/`+l+" */");var m=i.createElement("style");m.appendChild(p.createTextNode(a)),l&&(m.id=l),f==p&&(f=i.getDocumentHead(p)),f.insertBefore(m,f.firstChild)}}}if(i.importCssString=o,i.importCssStylsheet=function(a,l){i.buildDom(["link",{rel:"stylesheet",href:a}],i.getDocumentHead(l))},i.scrollbarWidth=function(a){var l=i.createElement("ace_inner");l.style.width="100%",l.style.minWidth="0px",l.style.height="200px",l.style.display="block";var h=i.createElement("ace_outer"),f=h.style;f.position="absolute",f.left="-10000px",f.overflow="hidden",f.width="200px",f.minWidth="0px",f.height="150px",f.display="block",h.appendChild(l);var p=a&&a.documentElement||document&&document.documentElement;if(!p)return 0;p.appendChild(h);var m=l.offsetWidth;f.overflow="scroll";var g=l.offsetWidth;return m===g&&(g=h.clientWidth),p.removeChild(h),m-g},i.computedStyle=function(a,l){return window.getComputedStyle(a,"")||{}},i.setStyle=function(a,l,h){a[l]!==h&&(a[l]=h)},i.HAS_CSS_ANIMATION=!1,i.HAS_CSS_TRANSFORMS=!1,i.HI_DPI=u.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,u.isChromeOS&&(i.HI_DPI=!1),typeof document<"u"){var r=document.createElement("div");i.HI_DPI&&r.style.transform!==void 0&&(i.HAS_CSS_TRANSFORMS=!0),!u.isEdge&&typeof r.style.animationName<"u"&&(i.HAS_CSS_ANIMATION=!0),r=null}i.HAS_CSS_TRANSFORMS?i.translate=function(a,l,h){a.style.transform="translate("+Math.round(l)+"px, "+Math.round(h)+"px)"}:i.translate=function(a,l,h){a.style.top=Math.round(h)+"px",a.style.left=Math.round(l)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,i,v){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var u=n("./dom");i.get=function(y,c){var s=new XMLHttpRequest;s.open("GET",y,!0),s.onreadystatechange=function(){s.readyState===4&&c(s.responseText)},s.send(null)},i.loadScript=function(y,c){var s=u.getDocumentHead(),d=document.createElement("script");d.src=y,s.appendChild(d),d.onload=d.onreadystatechange=function(o,r){(r||!d.readyState||d.readyState=="loaded"||d.readyState=="complete")&&(d=d.onload=d.onreadystatechange=null,r||c())}},i.qualifyURL=function(y){var c=document.createElement("a");return c.href=y,c.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,i,v){i.inherits=function(u,y){u.super_=y,u.prototype=Object.create(y.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(u,y){for(var c in y)u[c]=y[c];return u},i.implement=function(u,y){i.mixin(u,y)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,i,v){var u={},y=function(){this.propagationStopped=!0},c=function(){this.defaultPrevented=!0};u._emit=u._dispatchEvent=function(s,d){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var o=this._eventRegistry[s]||[],r=this._defaultHandlers[s];if(!(!o.length&&!r)){(typeof d!="object"||!d)&&(d={}),d.type||(d.type=s),d.stopPropagation||(d.stopPropagation=y),d.preventDefault||(d.preventDefault=c),o=o.slice();for(var a=0;a<o.length&&(o[a](d,this),!d.propagationStopped);a++);if(r&&!d.defaultPrevented)return r(d,this)}},u._signal=function(s,d){var o=(this._eventRegistry||{})[s];if(o){o=o.slice();for(var r=0;r<o.length;r++)o[r](d,this)}},u.once=function(s,d){var o=this;if(this.on(s,function r(){o.off(s,r),d.apply(null,arguments)}),!d)return new Promise(function(r){d=r})},u.setDefaultHandler=function(s,d){var o=this._defaultHandlers;if(o||(o=this._defaultHandlers={_disabled_:{}}),o[s]){var r=o[s],a=o._disabled_[s];a||(o._disabled_[s]=a=[]),a.push(r);var l=a.indexOf(d);l!=-1&&a.splice(l,1)}o[s]=d},u.removeDefaultHandler=function(s,d){var o=this._defaultHandlers;if(o){var r=o._disabled_[s];if(o[s]==d)r&&this.setDefaultHandler(s,r.pop());else if(r){var a=r.indexOf(d);a!=-1&&r.splice(a,1)}}},u.on=u.addEventListener=function(s,d,o){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[s];return r||(r=this._eventRegistry[s]=[]),r.indexOf(d)==-1&&r[o?"unshift":"push"](d),d},u.off=u.removeListener=u.removeEventListener=function(s,d){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[s];if(o){var r=o.indexOf(d);r!==-1&&o.splice(r,1)}},u.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},i.EventEmitter=u}),ace.define("ace/lib/report_error",["require","exports","module"],function(n,i,v){i.reportError=function(y,c){var s=new Error(y);s.data=c,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(n,i,v){var u={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages"};i.defaultEnglishMessages=u}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(n,i,v){"no use strict";var u=n("./oop"),y=n("./event_emitter").EventEmitter,c=n("./report_error").reportError,s=n("./default_english_messages").defaultEnglishMessages,d={setOptions:function(l){Object.keys(l).forEach(function(h){this.setOption(h,l[h])},this)},getOptions:function(l){var h={};if(l)Array.isArray(l)||(h=l,l=Object.keys(h));else{var f=this.$options;l=Object.keys(f).filter(function(p){return!f[p].hidden})}return l.forEach(function(p){h[p]=this.getOption(p)},this),h},setOption:function(l,h){if(this["$"+l]!==h){var f=this.$options[l];if(!f)return o('misspelled option "'+l+'"');if(f.forwardTo)return this[f.forwardTo]&&this[f.forwardTo].setOption(l,h);f.handlesSet||(this["$"+l]=h),f&&f.set&&f.set.call(this,h)}},getOption:function(l){var h=this.$options[l];return h?h.forwardTo?this[h.forwardTo]&&this[h.forwardTo].getOption(l):h&&h.get?h.get.call(this):this["$"+l]:o('misspelled option "'+l+'"')}};function o(l){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var r,a=function(){function l(){this.$defaultOptions={},r=s}return l.prototype.defineOptions=function(h,f,p){return h.$options||(this.$defaultOptions[f]=h.$options={}),Object.keys(p).forEach(function(m){var g=p[m];typeof g=="string"&&(g={forwardTo:g}),g.name||(g.name=m),h.$options[g.name]=g,"initialValue"in g&&(h["$"+g.name]=g.initialValue)}),u.implement(h,d),this},l.prototype.resetOptions=function(h){Object.keys(h.$options).forEach(function(f){var p=h.$options[f];"value"in p&&h.setOption(f,p.value)})},l.prototype.setDefaultValue=function(h,f,p){if(!h){for(h in this.$defaultOptions)if(this.$defaultOptions[h][f])break;if(!this.$defaultOptions[h][f])return!1}var m=this.$defaultOptions[h]||(this.$defaultOptions[h]={});m[f]&&(m.forwardTo?this.setDefaultValue(m.forwardTo,f,p):m[f].value=p)},l.prototype.setDefaultValues=function(h,f){Object.keys(f).forEach(function(p){this.setDefaultValue(h,p,f[p])},this)},l.prototype.setMessages=function(h){r=h},l.prototype.nls=function(h,f,p){r[h]||(o("No message found for the key '"+h+"' in the provided messages, trying to find a translation for the default string '"+f+"'."),r[f]||o("No message found for the default string '"+f+"' in the provided messages. Falling back to the default English message."));var m=r[h]||r[f]||f;return p&&(m=m.replace(/\$(\$|[\d]+)/g,function(g,w){return w=="$"?"$":p[w]})),m},l}();a.prototype.warn=o,a.prototype.reportError=c,u.implement(a.prototype,y),i.AppConfig=a}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(n,i,v){v.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,i,v){i.isDark=!1,i.cssClass="ace-tm",i.cssText=n("./textmate-css"),i.$id="ace/theme/textmate";var u=n("../lib/dom");u.importCssString(i.cssText,i.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,i,v){"no use strict";var u=n("./lib/lang"),y=n("./lib/net"),c=n("./lib/dom"),s=n("./lib/app_config").AppConfig;v.exports=i=new s;var d={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};i.get=function(l){if(!d.hasOwnProperty(l))throw new Error("Unknown config key: "+l);return d[l]},i.set=function(l,h){if(d.hasOwnProperty(l))d[l]=h;else if(this.setDefaultValue("",l,h)==!1)throw new Error("Unknown config key: "+l);l=="useStrictCSP"&&c.useStrictCSP(h)},i.all=function(){return u.copyObject(d)},i.$modes={},i.moduleUrl=function(l,h){if(d.$moduleUrls[l])return d.$moduleUrls[l];var f=l.split("/");h=h||f[f.length-2]||"";var p=h=="snippets"?"/":"-",m=f[f.length-1];if(h=="worker"&&p=="-"){var g=new RegExp("^"+h+"[\\-_]|[\\-_]"+h+"$","g");m=m.replace(g,"")}(!m||m==h)&&f.length>1&&(m=f[f.length-2]);var w=d[h+"Path"];return w==null?w=d.basePath:p=="/"&&(h=p=""),w&&w.slice(-1)!="/"&&(w+="/"),w+h+p+m+this.get("suffix")},i.setModuleUrl=function(l,h){return d.$moduleUrls[l]=h};var o=function(l,h){if(l==="ace/theme/textmate"||l==="./theme/textmate")return h(null,n("./theme/textmate"));if(r)return r(l,h);console.error("loader is not configured")},r;i.setLoader=function(l){r=l},i.dynamicModules=Object.create(null),i.$loading={},i.$loaded={},i.loadModule=function(l,h){var f;if(Array.isArray(l))var p=l[0],m=l[1];else if(typeof l=="string")var m=l;var g=function(w){if(w&&!i.$loading[m])return h&&h(w);if(i.$loading[m]||(i.$loading[m]=[]),i.$loading[m].push(h),!(i.$loading[m].length>1)){var S=function(){o(m,function(b,_){_&&(i.$loaded[m]=_),i._emit("load.module",{name:m,module:_});var x=i.$loading[m];i.$loading[m]=null,x.forEach(function(C){C&&C(_)})})};if(!i.get("packaged"))return S();y.loadScript(i.moduleUrl(m,p),S),a()}};if(i.dynamicModules[m])i.dynamicModules[m]().then(function(w){w.default?g(w.default):g(w)});else{try{f=this.$require(m)}catch{}g(f||i.$loaded[m])}},i.$require=function(l){if(typeof v.require=="function"){var h="require";return v[h](l)}},i.setModuleLoader=function(l,h){i.dynamicModules[l]=h};var a=function(){!d.basePath&&!d.workerPath&&!d.modePath&&!d.themePath&&!Object.keys(d.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),a=function(){})};i.version="1.33.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,i,v){n("./lib/fixoldbrowsers");var u=n("./config");u.setLoader(function(d,o){n([d],function(r){o(null,r)})});var y=function(){return this||typeof window<"u"&&window}();v.exports=function(d){u.init=c,u.$require=n,d.require=n},c(!0);function c(d){if(!(!y||!y.document)){u.set("packaged",d||n.packaged||v.packaged||y.define&&(void 0).packaged);var o={},r="",a=document.currentScript||document._currentScript,l=a&&a.ownerDocument||document;a&&a.src&&(r=a.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var h=l.getElementsByTagName("script"),f=0;f<h.length;f++){var p=h[f],m=p.src||p.getAttribute("src");if(m){for(var g=p.attributes,w=0,S=g.length;w<S;w++){var b=g[w];b.name.indexOf("data-ace-")===0&&(o[s(b.name.replace(/^data-ace-/,""))]=b.value)}var _=m.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);_&&(r=_[1])}}r&&(o.base=o.base||r,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var x in o)typeof o[x]<"u"&&u.set(x,o[x])}}function s(d){return d.replace(/-(.)/g,function(o,r){return r.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(n,i,v){var u=function(){function y(c,s,d,o){this.start={row:c,column:s},this.end={row:d,column:o}}return y.prototype.isEqual=function(c){return this.start.row===c.start.row&&this.end.row===c.end.row&&this.start.column===c.start.column&&this.end.column===c.end.column},y.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},y.prototype.contains=function(c,s){return this.compare(c,s)==0},y.prototype.compareRange=function(c){var s,d=c.end,o=c.start;return s=this.compare(d.row,d.column),s==1?(s=this.compare(o.row,o.column),s==1?2:s==0?1:0):s==-1?-2:(s=this.compare(o.row,o.column),s==-1?-1:s==1?42:0)},y.prototype.comparePoint=function(c){return this.compare(c.row,c.column)},y.prototype.containsRange=function(c){return this.comparePoint(c.start)==0&&this.comparePoint(c.end)==0},y.prototype.intersects=function(c){var s=this.compareRange(c);return s==-1||s==0||s==1},y.prototype.isEnd=function(c,s){return this.end.row==c&&this.end.column==s},y.prototype.isStart=function(c,s){return this.start.row==c&&this.start.column==s},y.prototype.setStart=function(c,s){typeof c=="object"?(this.start.column=c.column,this.start.row=c.row):(this.start.row=c,this.start.column=s)},y.prototype.setEnd=function(c,s){typeof c=="object"?(this.end.column=c.column,this.end.row=c.row):(this.end.row=c,this.end.column=s)},y.prototype.inside=function(c,s){return this.compare(c,s)==0?!(this.isEnd(c,s)||this.isStart(c,s)):!1},y.prototype.insideStart=function(c,s){return this.compare(c,s)==0?!this.isEnd(c,s):!1},y.prototype.insideEnd=function(c,s){return this.compare(c,s)==0?!this.isStart(c,s):!1},y.prototype.compare=function(c,s){return!this.isMultiLine()&&c===this.start.row?s<this.start.column?-1:s>this.end.column?1:0:c<this.start.row?-1:c>this.end.row?1:this.start.row===c?s>=this.start.column?0:-1:this.end.row===c?s<=this.end.column?0:1:0},y.prototype.compareStart=function(c,s){return this.start.row==c&&this.start.column==s?-1:this.compare(c,s)},y.prototype.compareEnd=function(c,s){return this.end.row==c&&this.end.column==s?1:this.compare(c,s)},y.prototype.compareInside=function(c,s){return this.end.row==c&&this.end.column==s?1:this.start.row==c&&this.start.column==s?-1:this.compare(c,s)},y.prototype.clipRows=function(c,s){if(this.end.row>s)var d={row:s+1,column:0};else if(this.end.row<c)var d={row:c,column:0};if(this.start.row>s)var o={row:s+1,column:0};else if(this.start.row<c)var o={row:c,column:0};return y.fromPoints(o||this.start,d||this.end)},y.prototype.extend=function(c,s){var d=this.compare(c,s);if(d==0)return this;if(d==-1)var o={row:c,column:s};else var r={row:c,column:s};return y.fromPoints(o||this.start,r||this.end)},y.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},y.prototype.isMultiLine=function(){return this.start.row!==this.end.row},y.prototype.clone=function(){return y.fromPoints(this.start,this.end)},y.prototype.collapseRows=function(){return this.end.column==0?new y(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new y(this.start.row,0,this.end.row,0)},y.prototype.toScreenRange=function(c){var s=c.documentToScreenPosition(this.start),d=c.documentToScreenPosition(this.end);return new y(s.row,s.column,d.row,d.column)},y.prototype.moveBy=function(c,s){this.start.row+=c,this.start.column+=s,this.end.row+=c,this.end.column+=s},y}();u.fromPoints=function(y,c){return new u(y.row,y.column,c.row,c.column)},u.comparePoints=function(y,c){return y.row-c.row||y.column-c.column},i.Range=u}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,i,v){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var u=n("./oop"),y=function(){var c={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};c.PRINTABLE_KEYS[173]="-";var s,d;for(d in c.FUNCTION_KEYS)s=c.FUNCTION_KEYS[d].toLowerCase(),c[s]=parseInt(d,10);for(d in c.PRINTABLE_KEYS)s=c.PRINTABLE_KEYS[d].toLowerCase(),c[s]=parseInt(d,10);return u.mixin(c,c.MODIFIER_KEYS),u.mixin(c,c.PRINTABLE_KEYS),u.mixin(c,c.FUNCTION_KEYS),c.enter=c.return,c.escape=c.esc,c.del=c.delete,function(){for(var o=["cmd","ctrl","alt","shift"],r=Math.pow(2,o.length);r--;)c.KEY_MODS[r]=o.filter(function(a){return r&c.KEY_MODS[a]}).join("-")+"-"}(),c.KEY_MODS[0]="",c.KEY_MODS[-1]="input-",c}();u.mixin(i,y),i.default=i,i.keyCodeToString=function(c){var s=y[c];return typeof s!="string"&&(s=String.fromCharCode(c)),s.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,i,v){var u=n("./keys"),y=n("./useragent"),c=null,s=0,d;function o(){d=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return d={passive:!1},!0}})}catch{}}function r(){return d==null&&o(),d}function a(w,S,b){this.elem=w,this.type=S,this.callback=b}a.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var l=i.addListener=function(w,S,b,_){w.addEventListener(S,b,r()),_&&_.$toDestroy.push(new a(w,S,b))},h=i.removeListener=function(w,S,b){w.removeEventListener(S,b,r())};i.stopEvent=function(w){return i.stopPropagation(w),i.preventDefault(w),!1},i.stopPropagation=function(w){w.stopPropagation&&w.stopPropagation()},i.preventDefault=function(w){w.preventDefault&&w.preventDefault()},i.getButton=function(w){return w.type=="dblclick"?0:w.type=="contextmenu"||y.isMac&&w.ctrlKey&&!w.altKey&&!w.shiftKey?2:w.button},i.capture=function(w,S,b){var _=w&&w.ownerDocument||document;function x(C){S&&S(C),b&&b(C),h(_,"mousemove",S),h(_,"mouseup",x),h(_,"dragstart",x)}return l(_,"mousemove",S),l(_,"mouseup",x),l(_,"dragstart",x),x},i.addMouseWheelListener=function(w,S,b){l(w,"wheel",function(_){var x=.15,C=_.deltaX||0,k=_.deltaY||0;switch(_.deltaMode){case _.DOM_DELTA_PIXEL:_.wheelX=C*x,_.wheelY=k*x;break;case _.DOM_DELTA_LINE:var M=15;_.wheelX=C*M,_.wheelY=k*M;break;case _.DOM_DELTA_PAGE:var T=150;_.wheelX=C*T,_.wheelY=k*T;break}S(_)},b)},i.addMultiMouseDownListener=function(w,S,b,_,x){var C=0,k,M,T,L={2:"dblclick",3:"tripleclick",4:"quadclick"};function E(A){if(i.getButton(A)!==0?C=0:A.detail>1?(C++,C>4&&(C=1)):C=1,y.isIE){var R=Math.abs(A.clientX-k)>5||Math.abs(A.clientY-M)>5;(!T||R)&&(C=1),T&&clearTimeout(T),T=setTimeout(function(){T=null},S[C-1]||600),C==1&&(k=A.clientX,M=A.clientY)}if(A._clicks=C,b[_]("mousedown",A),C>4)C=0;else if(C>1)return b[_](L[C],A)}Array.isArray(w)||(w=[w]),w.forEach(function(A){l(A,"mousedown",E,x)})};function f(w){return 0|(w.ctrlKey?1:0)|(w.altKey?2:0)|(w.shiftKey?4:0)|(w.metaKey?8:0)}i.getModifierString=function(w){return u.KEY_MODS[f(w)]};function p(w,S,b){var _=f(S);if(!y.isMac&&c){if(S.getModifierState&&(S.getModifierState("OS")||S.getModifierState("Win"))&&(_|=8),c.altGr)if((3&_)!=3)c.altGr=0;else return;if(b===18||b===17){var x=S.location;if(b===17&&x===1)c[b]==1&&(s=S.timeStamp);else if(b===18&&_===3&&x===2){var C=S.timeStamp-s;C<50&&(c.altGr=!0)}}}if(b in u.MODIFIER_KEYS&&(b=-1),!(!_&&b===13&&S.location===3&&(w(S,_,-b),S.defaultPrevented))){if(y.isChromeOS&&_&8){if(w(S,_,b),S.defaultPrevented)return;_&=-9}return!_&&!(b in u.FUNCTION_KEYS)&&!(b in u.PRINTABLE_KEYS)?!1:w(S,_,b)}}i.addCommandKeyListener=function(w,S,b){var _=null;l(w,"keydown",function(x){c[x.keyCode]=(c[x.keyCode]||0)+1;var C=p(S,x,x.keyCode);return _=x.defaultPrevented,C},b),l(w,"keypress",function(x){_&&(x.ctrlKey||x.altKey||x.shiftKey||x.metaKey)&&(i.stopEvent(x),_=null)},b),l(w,"keyup",function(x){c[x.keyCode]=null},b),c||(m(),l(window,"focus",m))};function m(){c=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!y.isOldIE){var g=1;i.nextTick=function(w,S){S=S||window;var b="zero-timeout-message-"+g++,_=function(x){x.data==b&&(i.stopPropagation(x),h(S,"message",_),w())};l(S,"message",_),S.postMessage(b,"*")}}i.$idleBlocked=!1,i.onIdle=function(w,S){return setTimeout(function b(){i.$idleBlocked?setTimeout(b,100):w()},S)},i.$idleBlockId=null,i.blockIdle=function(w){i.$idleBlockId&&clearTimeout(i.$idleBlockId),i.$idleBlocked=!0,i.$idleBlockId=setTimeout(function(){i.$idleBlocked=!1},w||100)},i.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),i.nextFrame?i.nextFrame=i.nextFrame.bind(window):i.nextFrame=function(w){setTimeout(w,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(n,i,v){var u;v.exports={lineMode:!1,pasteCancelled:function(){return u&&u>Date.now()-50?!0:u=!1},cancel:function(){u=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,i,v){var u=n("../lib/event"),y=n("../config").nls,c=n("../lib/useragent"),s=n("../lib/dom"),d=n("../lib/lang"),o=n("../clipboard"),r=c.isChrome<18,a=c.isIE,l=c.isChrome>63,h=400,f=n("../lib/keys"),p=f.KEY_MODS,m=c.isIOS,g=m?/\s/:/\n/,w=c.isMobile,S;S=function(b,_){var x=s.createElement("textarea");x.className="ace_text-input",x.setAttribute("wrap","off"),x.setAttribute("autocorrect","off"),x.setAttribute("autocapitalize","off"),x.setAttribute("spellcheck","false"),x.style.opacity="0",b.insertBefore(x,b.firstChild);var C=!1,k=!1,M=!1,T=!1,L="";w||(x.style.fontSize="1px");var E=!1,A=!1,R="",I=0,D=0,P=0,O=Number.MAX_SAFE_INTEGER,$=Number.MIN_SAFE_INTEGER,N=0;try{var H=document.activeElement===x}catch{}this.setNumberOfExtraLines=function(K){if(O=Number.MAX_SAFE_INTEGER,$=Number.MIN_SAFE_INTEGER,K<0){N=0;return}N=K},this.setAriaOptions=function(K){if(K.activeDescendant?(x.setAttribute("aria-haspopup","true"),x.setAttribute("aria-autocomplete",K.inline?"both":"list"),x.setAttribute("aria-activedescendant",K.activeDescendant)):(x.setAttribute("aria-haspopup","false"),x.setAttribute("aria-autocomplete","both"),x.removeAttribute("aria-activedescendant")),K.role&&x.setAttribute("role",K.role),K.setLabel&&(x.setAttribute("aria-roledescription",y("text-input.aria-roledescription","editor")),_.session)){var q=_.session.selection.cursor.row;x.setAttribute("aria-label",y("text-input.aria-label","Cursor at row $0",[q+1]))}},this.setAriaOptions({role:"textbox"}),u.addListener(x,"blur",function(K){A||(_.onBlur(K),H=!1)},_),u.addListener(x,"focus",function(K){if(!A){if(H=!0,c.isEdge)try{if(!document.hasFocus())return}catch{}_.onFocus(K),c.isEdge?setTimeout(z):z()}},_),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:_.renderer.enableKeyboardAccessibility}),L||l||this.$focusScroll=="browser")return x.focus({preventScroll:!0});var K=x.style.top;x.style.position="fixed",x.style.top="0px";try{var q=x.getBoundingClientRect().top!=0}catch{return}var Z=[];if(q)for(var re=x.parentElement;re&&re.nodeType==1;)Z.push(re),re.setAttribute("ace_nocontext","true"),!re.parentElement&&re.getRootNode?re=re.getRootNode().host:re=re.parentElement;x.focus({preventScroll:!0}),q&&Z.forEach(function(se){se.removeAttribute("ace_nocontext")}),setTimeout(function(){x.style.position="",x.style.top=="0px"&&(x.style.top=K)},0)},this.blur=function(){x.blur()},this.isFocused=function(){return H},_.on("beforeEndOperation",function(){var K=_.curOp,q=K&&K.command&&K.command.name;if(q!="insertstring"){var Z=q&&(K.docChanged||K.selectionChanged);M&&Z&&(R=x.value="",nt()),z()}});var B=function(K,q){for(var Z=q,re=1;re<=K-O&&re<2*N+1;re++)Z+=_.session.getLine(K-re).length+1;return Z},z=m?function(K){if(!(!H||C&&!K||T)){K||(K="");var q=`
 ab`+K+`cde fg
`;q!=x.value&&(x.value=R=q);var Z=4,re=4+(K.length||(_.selection.isEmpty()?0:1));(I!=Z||D!=re)&&x.setSelectionRange(Z,re),I=Z,D=re}}:function(){if(!(M||T)&&!(!H&&!F)){M=!0;var K=0,q=0,Z="";if(_.session){var re=_.selection,se=re.getRange(),ye=re.cursor.row;ye===$+1?(O=$+1,$=O+2*N):ye===O-1?($=O-1,O=$-2*N):(ye<O-1||ye>$+1)&&(O=ye>N?ye-N:0,$=ye>N?ye+N:2*N);for(var he=[],Ce=O;Ce<=$;Ce++)he.push(_.session.getLine(Ce));if(Z=he.join(`
`),K=B(se.start.row,se.start.column),q=B(se.end.row,se.end.column),se.start.row<O){var Ee=_.session.getLine(O-1);K=se.start.row<O-1?0:K,q+=Ee.length+1,Z=Ee+`
`+Z}else if(se.end.row>$){var Se=_.session.getLine($+1);q=se.end.row>$+1?Se.length:se.end.column,q+=Z.length+1,Z=Z+`
`+Se}else w&&ye>0&&(Z=`
`+Z,q+=1,K+=1);Z.length>h&&(K<h&&q<h?Z=Z.slice(0,h):(Z=`
`,K==q?K=q=0:(K=0,q=1)));var Le=Z+`

`;Le!=R&&(x.value=R=Le,I=D=Le.length)}if(F&&(I=x.selectionStart,D=x.selectionEnd),D!=q||I!=K||x.selectionEnd!=D)try{x.setSelectionRange(K,q),I=K,D=q}catch{}M=!1}};this.resetSelection=z,H&&_.onFocus();var U=function(K){return K.selectionStart===0&&K.selectionEnd>=R.length&&K.value===R&&R&&K.selectionEnd!==D},V=function(K){M||(C?C=!1:U(x)?(_.selectAll(),z()):w&&x.selectionStart!=I&&z())},W=null;this.setInputHandler=function(K){W=K},this.getInputHandler=function(){return W};var F=!1,Y=function(K,q){if(F&&(F=!1),k)return z(),K&&_.onPaste(K),k=!1,"";for(var Z=x.selectionStart,re=x.selectionEnd,se=I,ye=R.length-D,he=K,Ce=K.length-Z,Ee=K.length-re,Se=0;se>0&&R[Se]==K[Se];)Se++,se--;for(he=he.slice(Se),Se=1;ye>0&&R.length-Se>I-1&&R[R.length-Se]==K[K.length-Se];)Se++,ye--;Ce-=Se-1,Ee-=Se-1;var Le=he.length-Se+1;if(Le<0&&(se=-Le,Le=0),he=he.slice(0,Le),!q&&!he&&!Ce&&!se&&!ye&&!Ee)return"";T=!0;var gt=!1;return c.isAndroid&&he==". "&&(he="  ",gt=!0),he&&!se&&!ye&&!Ce&&!Ee||E?_.onTextInput(he):_.onTextInput(he,{extendLeft:se,extendRight:ye,restoreStart:Ce,restoreEnd:Ee}),T=!1,R=K,I=Z,D=re,P=Ee,gt?`
`:he},G=function(K){if(M)return le();if(K&&K.inputType){if(K.inputType=="historyUndo")return _.execCommand("undo");if(K.inputType=="historyRedo")return _.execCommand("redo")}var q=x.value,Z=Y(q,!0);(q.length>h+100||g.test(Z)||w&&I<1&&I==D)&&z()},Q=function(K,q,Z){var re=K.clipboardData||window.clipboardData;if(!(!re||r)){var se=a||Z?"Text":"text/plain";try{return q?re.setData(se,q)!==!1:re.getData(se)}catch(ye){if(!Z)return Q(ye,q,!0)}}},J=function(K,q){var Z=_.getCopyText();if(!Z)return u.preventDefault(K);Q(K,Z)?(m&&(z(Z),C=Z,setTimeout(function(){C=!1},10)),q?_.onCut():_.onCopy(),u.preventDefault(K)):(C=!0,x.value=Z,x.select(),setTimeout(function(){C=!1,z(),q?_.onCut():_.onCopy()}))},ce=function(K){J(K,!0)},me=function(K){J(K,!1)},de=function(K){var q=Q(K);o.pasteCancelled()||(typeof q=="string"?(q&&_.onPaste(q,K),c.isIE&&setTimeout(z),u.preventDefault(K)):(x.value="",k=!0))};u.addCommandKeyListener(x,function(K,q,Z){if(!M)return _.onCommandKey(K,q,Z)},_),u.addListener(x,"select",V,_),u.addListener(x,"input",G,_),u.addListener(x,"cut",ce,_),u.addListener(x,"copy",me,_),u.addListener(x,"paste",de,_),(!("oncut"in x)||!("oncopy"in x)||!("onpaste"in x))&&u.addListener(b,"keydown",function(K){if(!(c.isMac&&!K.metaKey||!K.ctrlKey))switch(K.keyCode){case 67:me(K);break;case 86:de(K);break;case 88:ce(K);break}},_);var ke=function(K){if(!(M||!_.onCompositionStart||_.$readOnly)&&(M={},!E)){K.data&&(M.useTextareaForIME=!1),setTimeout(le,0),_._signal("compositionStart"),_.on("mousedown",Ft);var q=_.getSelectionRange();q.end.row=q.start.row,q.end.column=q.start.column,M.markerRange=q,M.selectionStart=I,_.onCompositionStart(M),M.useTextareaForIME?(R=x.value="",I=0,D=0):(x.msGetInputContext&&(M.context=x.msGetInputContext()),x.getInputContext&&(M.context=x.getInputContext()))}},le=function(){if(!(!M||!_.onCompositionUpdate||_.$readOnly)){if(E)return Ft();if(M.useTextareaForIME)_.onCompositionUpdate(x.value);else{var K=x.value;Y(K),M.markerRange&&(M.context&&(M.markerRange.start.column=M.selectionStart=M.context.compositionStartOffset),M.markerRange.end.column=M.markerRange.start.column+D-M.selectionStart+P)}}},nt=function(K){!_.onCompositionEnd||_.$readOnly||(M=!1,_.onCompositionEnd(),_.off("mousedown",Ft),K&&G())};function Ft(){A=!0,x.blur(),x.focus(),A=!1}var Zt=d.delayedCall(le,50).schedule.bind(null,null);function xn(K){K.keyCode==27&&x.value.length<x.selectionStart&&(M||(R=x.value),I=D=-1,z()),Zt()}u.addListener(x,"compositionstart",ke,_),u.addListener(x,"compositionupdate",le,_),u.addListener(x,"keyup",xn,_),u.addListener(x,"keydown",Zt,_),u.addListener(x,"compositionend",nt,_),this.getElement=function(){return x},this.setCommandMode=function(K){E=K,x.readOnly=!1},this.setReadOnly=function(K){E||(x.readOnly=K)},this.setCopyWithEmptySelection=function(K){},this.onContextMenu=function(K){F=!0,z(),_._emit("nativecontextmenu",{target:_,domEvent:K}),this.moveToMouse(K,!0)},this.moveToMouse=function(K,q){L||(L=x.style.cssText),x.style.cssText=(q?"z-index:100000;":"")+(c.isIE?"opacity:0.1;":"")+"text-indent: -"+(I+D)*_.renderer.characterWidth*.5+"px;";var Z=_.container.getBoundingClientRect(),re=s.computedStyle(_.container),se=Z.top+(parseInt(re.borderTopWidth)||0),ye=Z.left+(parseInt(Z.borderLeftWidth)||0),he=Z.bottom-se-x.clientHeight-2,Ce=function(Ee){s.translate(x,Ee.clientX-ye-2,Math.min(Ee.clientY-se-2,he))};Ce(K),K.type=="mousedown"&&(_.renderer.$isMousePressed=!0,clearTimeout(Ht),c.isWin&&u.capture(_.container,Ce,Ke))},this.onContextMenuClose=Ke;var Ht;function Ke(){clearTimeout(Ht),Ht=setTimeout(function(){L&&(x.style.cssText=L,L=""),_.renderer.$isMousePressed=!1,_.renderer.$keepTextAreaAtCursor&&_.renderer.$moveTextAreaToCursor()},0)}var Tt=function(K){_.textInput.onContextMenu(K),Ke()};u.addListener(x,"mouseup",Tt,_),u.addListener(x,"mousedown",function(K){K.preventDefault(),Ke()},_),u.addListener(_.renderer.scroller,"contextmenu",Tt,_),u.addListener(x,"contextmenu",Tt,_),m&&at(b,_,x);function at(K,q,Z){var re=null,se=!1;Z.addEventListener("keydown",function(he){re&&clearTimeout(re),se=!0},!0),Z.addEventListener("keyup",function(he){re=setTimeout(function(){se=!1},100)},!0);var ye=function(he){if(document.activeElement===Z&&!(se||M||q.$mouseHandler.isMousePressed)&&!C){var Ce=Z.selectionStart,Ee=Z.selectionEnd,Se=null,Le=0;if(Ce==0?Se=f.up:Ce==1?Se=f.home:Ee>D&&R[Ee]==`
`?Se=f.end:Ce<I&&R[Ce-1]==" "?(Se=f.left,Le=p.option):Ce<I||Ce==I&&D!=I&&Ce==Ee?Se=f.left:Ee>D&&R.slice(0,Ee).split(`
`).length>2?Se=f.down:Ee>D&&R[Ee-1]==" "?(Se=f.right,Le=p.option):(Ee>D||Ee==D&&D!=I&&Ce==Ee)&&(Se=f.right),Ce!==Ee&&(Le|=p.shift),Se){var gt=q.onCommandKey({},Le,Se);if(!gt&&q.commands){Se=f.keyCodeToString(Se);var wt=q.commands.findKeyCommand(Le,Se);wt&&q.execCommand(wt)}I=Ce,D=Ee,z("")}}};document.addEventListener("selectionchange",ye),q.on("destroy",function(){document.removeEventListener("selectionchange",ye)})}this.destroy=function(){x.parentElement&&x.parentElement.removeChild(x)}},i.TextInput=S,i.$setUserAgentForTests=function(b,_){w=b,m=_}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,i,v){var u=n("../lib/useragent"),y=0,c=550,s=function(){function r(a){a.$clickSelection=null;var l=a.editor;l.setDefaultHandler("mousedown",this.onMouseDown.bind(a)),l.setDefaultHandler("dblclick",this.onDoubleClick.bind(a)),l.setDefaultHandler("tripleclick",this.onTripleClick.bind(a)),l.setDefaultHandler("quadclick",this.onQuadClick.bind(a)),l.setDefaultHandler("mousewheel",this.onMouseWheel.bind(a));var h=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];h.forEach(function(f){a[f]=this[f]},this),a.selectByLines=this.extendSelectionBy.bind(a,"getLineRange"),a.selectByWords=this.extendSelectionBy.bind(a,"getWordRange")}return r.prototype.onMouseDown=function(a){var l=a.inSelection(),h=a.getDocumentPosition();this.mousedownEvent=a;var f=this.editor,p=a.getButton();if(p!==0){var m=f.getSelectionRange(),g=m.isEmpty();(g||p==1)&&f.selection.moveToPosition(h),p==2&&(f.textInput.onContextMenu(a.domEvent),u.isMozilla||a.preventDefault());return}if(this.mousedownEvent.time=Date.now(),l&&!f.isFocused()&&(f.focus(),this.$focusTimeout&&!this.$clickSelection&&!f.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(a);return}return this.captureMouse(a),this.startSelect(h,a.domEvent._clicks>1),a.preventDefault()},r.prototype.startSelect=function(a,l){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var h=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?h.selection.selectToPosition(a):l||h.selection.moveToPosition(a),l||this.select(),h.setStyle("ace_selecting"),this.setState("select"))},r.prototype.select=function(){var a,l=this.editor,h=l.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var f=this.$clickSelection.comparePoint(h);if(f==-1)a=this.$clickSelection.end;else if(f==1)a=this.$clickSelection.start;else{var p=o(this.$clickSelection,h);h=p.cursor,a=p.anchor}l.selection.setSelectionAnchor(a.row,a.column)}l.selection.selectToPosition(h),l.renderer.scrollCursorIntoView()},r.prototype.extendSelectionBy=function(a){var l,h=this.editor,f=h.renderer.screenToTextCoordinates(this.x,this.y),p=h.selection[a](f.row,f.column);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(p.start),g=this.$clickSelection.comparePoint(p.end);if(m==-1&&g<=0)l=this.$clickSelection.end,(p.end.row!=f.row||p.end.column!=f.column)&&(f=p.start);else if(g==1&&m>=0)l=this.$clickSelection.start,(p.start.row!=f.row||p.start.column!=f.column)&&(f=p.end);else if(m==-1&&g==1)f=p.end,l=p.start;else{var w=o(this.$clickSelection,f);f=w.cursor,l=w.anchor}h.selection.setSelectionAnchor(l.row,l.column)}h.selection.selectToPosition(f),h.renderer.scrollCursorIntoView()},r.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},r.prototype.focusWait=function(){var a=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),l=Date.now();(a>y||l-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},r.prototype.onDoubleClick=function(a){var l=a.getDocumentPosition(),h=this.editor,f=h.session,p=f.getBracketRange(l);p?(p.isEmpty()&&(p.start.column--,p.end.column++),this.setState("select")):(p=h.selection.getWordRange(l.row,l.column),this.setState("selectByWords")),this.$clickSelection=p,this.select()},r.prototype.onTripleClick=function(a){var l=a.getDocumentPosition(),h=this.editor;this.setState("selectByLines");var f=h.getSelectionRange();f.isMultiLine()&&f.contains(l.row,l.column)?(this.$clickSelection=h.selection.getLineRange(f.start.row),this.$clickSelection.end=h.selection.getLineRange(f.end.row).end):this.$clickSelection=h.selection.getLineRange(l.row),this.select()},r.prototype.onQuadClick=function(a){var l=this.editor;l.selectAll(),this.$clickSelection=l.getSelectionRange(),this.setState("selectAll")},r.prototype.onMouseWheel=function(a){if(!a.getAccelKey()){a.getShiftKey()&&a.wheelY&&!a.wheelX&&(a.wheelX=a.wheelY,a.wheelY=0);var l=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var h=this.$lastScroll,f=a.domEvent.timeStamp,p=f-h.t,m=p?a.wheelX/p:h.vx,g=p?a.wheelY/p:h.vy;p<c&&(m=(m+h.vx)/2,g=(g+h.vy)/2);var w=Math.abs(m/g),S=!1;if(w>=1&&l.renderer.isScrollableBy(a.wheelX*a.speed,0)&&(S=!0),w<=1&&l.renderer.isScrollableBy(0,a.wheelY*a.speed)&&(S=!0),S)h.allowed=f;else if(f-h.allowed<c){var b=Math.abs(m)<=1.5*Math.abs(h.vx)&&Math.abs(g)<=1.5*Math.abs(h.vy);b?(S=!0,h.allowed=f):h.allowed=0}if(h.t=f,h.vx=m,h.vy=g,S)return l.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.stop()}},r}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,i.DefaultHandlers=s;function d(r,a,l,h){return Math.sqrt(Math.pow(l-r,2)+Math.pow(h-a,2))}function o(r,a){if(r.start.row==r.end.row)var l=2*a.column-r.start.column-r.end.column;else if(r.start.row==r.end.row-1&&!r.start.column&&!r.end.column)var l=a.column-4;else var l=2*a.row-r.start.row-r.end.row;return l<0?{cursor:r.start,anchor:r.end}:{cursor:r.end,anchor:r.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(n,i,v){i.preventParentScroll=function(y){y.stopPropagation();var c=y.currentTarget,s=c.scrollHeight>c.clientHeight;s||y.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,i,v){var u=this&&this.__extends||function(){var f=function(p,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,w){g.__proto__=w}||function(g,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(g[S]=w[S])},f(p,m)};return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(p,m);function g(){this.constructor=p}p.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),y=this&&this.__values||function(f){var p=typeof Symbol=="function"&&Symbol.iterator,m=p&&f[p],g=0;if(m)return m.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&g>=f.length&&(f=void 0),{value:f&&f[g++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")},c=n("./lib/dom");n("./lib/event");var s=n("./range").Range,d=n("./lib/scroll").preventParentScroll,o="ace_tooltip",r=function(){function f(p){this.isOpen=!1,this.$element=null,this.$parentNode=p}return f.prototype.$init=function(){return this.$element=c.createElement("div"),this.$element.className=o,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},f.prototype.getElement=function(){return this.$element||this.$init()},f.prototype.setText=function(p){this.getElement().textContent=p},f.prototype.setHtml=function(p){this.getElement().innerHTML=p},f.prototype.setPosition=function(p,m){this.getElement().style.left=p+"px",this.getElement().style.top=m+"px"},f.prototype.setClassName=function(p){c.addCssClass(this.getElement(),p)},f.prototype.setTheme=function(p){this.$element.className=o+" "+(p.isDark?"ace_dark ":"")+(p.cssClass||"")},f.prototype.show=function(p,m,g){p!=null&&this.setText(p),m!=null&&g!=null&&this.setPosition(m,g),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},f.prototype.hide=function(p){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=o,this.isOpen=!1)},f.prototype.getHeight=function(){return this.getElement().offsetHeight},f.prototype.getWidth=function(){return this.getElement().offsetWidth},f.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},f}(),a=function(){function f(){this.popups=[]}return f.prototype.addPopup=function(p){this.popups.push(p),this.updatePopups()},f.prototype.removePopup=function(p){var m=this.popups.indexOf(p);m!==-1&&(this.popups.splice(m,1),this.updatePopups())},f.prototype.updatePopups=function(){var p,m,g,w;this.popups.sort(function(L,E){return E.priority-L.priority});var S=[];try{for(var b=y(this.popups),_=b.next();!_.done;_=b.next()){var x=_.value,C=!0;try{for(var k=(g=void 0,y(S)),M=k.next();!M.done;M=k.next()){var T=M.value;if(this.doPopupsOverlap(T,x)){C=!1;break}}}catch(L){g={error:L}}finally{try{M&&!M.done&&(w=k.return)&&w.call(k)}finally{if(g)throw g.error}}C?S.push(x):x.hide()}}catch(L){p={error:L}}finally{try{_&&!_.done&&(m=b.return)&&m.call(b)}finally{if(p)throw p.error}}},f.prototype.doPopupsOverlap=function(p,m){var g=p.getElement().getBoundingClientRect(),w=m.getElement().getBoundingClientRect();return g.left<w.right&&g.right>w.left&&g.top<w.bottom&&g.bottom>w.top},f}(),l=new a;i.popupManager=l,i.Tooltip=r;var h=function(f){u(p,f);function p(m){m===void 0&&(m=document.body);var g=f.call(this,m)||this;g.timeout=void 0,g.lastT=0,g.idleTime=350,g.lastEvent=void 0,g.onMouseOut=g.onMouseOut.bind(g),g.onMouseMove=g.onMouseMove.bind(g),g.waitForHover=g.waitForHover.bind(g),g.hide=g.hide.bind(g);var w=g.getElement();return w.style.whiteSpace="pre-wrap",w.style.pointerEvents="auto",w.addEventListener("mouseout",g.onMouseOut),w.tabIndex=-1,w.addEventListener("blur",(function(){w.contains(document.activeElement)||this.hide()}).bind(g)),w.addEventListener("wheel",d),g}return p.prototype.addToEditor=function(m){m.on("mousemove",this.onMouseMove),m.on("mousedown",this.hide),m.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},p.prototype.removeFromEditor=function(m){m.off("mousemove",this.onMouseMove),m.off("mousedown",this.hide),m.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},p.prototype.onMouseMove=function(m,g){this.lastEvent=m,this.lastT=Date.now();var w=g.$mouseHandler.isMousePressed;if(this.isOpen){var S=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(S.row,S.column)||w||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||w||(this.lastEvent=m,this.timeout=setTimeout(this.waitForHover,this.idleTime))},p.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var m=Date.now()-this.lastT;if(this.idleTime-m>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-m);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},p.prototype.isOutsideOfText=function(m){var g=m.editor,w=m.getDocumentPosition(),S=g.session.getLine(w.row);if(w.column==S.length){var b=g.renderer.pixelToScreenCoordinates(m.clientX,m.clientY),_=g.session.documentToScreenPosition(w.row,w.column);if(_.column!=b.column||_.row!=b.row)return!0}return!1},p.prototype.setDataProvider=function(m){this.$gatherData=m},p.prototype.showForRange=function(m,g,w,S){var b=10;if(!(S&&S!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var _=m.renderer;this.isOpen||(l.addPopup(this),this.$registerCloseEvents(),this.setTheme(_.theme)),this.isOpen=!0,this.addMarker(g,m.session),this.range=s.fromPoints(g.start,g.end);var x=_.textToScreenCoordinates(g.start.row,g.start.column),C=_.scroller.getBoundingClientRect();x.pageX<C.left&&(x.pageX=C.left);var k=this.getElement();k.innerHTML="",k.appendChild(w),k.style.maxHeight="",k.style.display="block";var M=k.clientHeight,T=k.clientWidth,L=window.innerHeight-x.pageY-_.lineHeight,E=!0;x.pageY-M<0&&x.pageY<L&&(E=!1),k.style.maxHeight=(E?x.pageY:L)-b+"px",k.style.top=E?"":x.pageY+_.lineHeight+"px",k.style.bottom=E?window.innerHeight-x.pageY+"px":"",k.style.left=Math.min(x.pageX,window.innerWidth-T-b)+"px"}},p.prototype.addMarker=function(m,g){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=g,this.marker=g&&g.addMarker(m,"ace_highlight-marker","text")},p.prototype.hide=function(m){!m&&document.activeElement==this.getElement()||m&&m.target&&(m.type!="keydown"||m.ctrlKey||m.metaKey)&&this.$element.contains(m.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,l.removePopup(this)))},p.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},p.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},p.prototype.onMouseOut=function(m){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!m.relatedTarget||this.getElement().contains(m.relatedTarget)||m&&m.currentTarget.contains(m.relatedTarget)||m.relatedTarget.classList.contains("ace_content")||this.hide())},p}(r);i.HoverTooltip=h}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(n,i,v){var u=this&&this.__extends||function(){var l=function(h,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},l(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");l(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),y=this&&this.__values||function(l){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&l[h],p=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&p>=l.length&&(l=void 0),{value:l&&l[p++],done:!l}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},c=n("../lib/dom"),s=n("../lib/event"),d=n("../tooltip").Tooltip,o=n("../config").nls;function r(l){var h=l.editor,f=h.renderer.$gutterLayer,p=new a(h);l.editor.setDefaultHandler("guttermousedown",function(_){if(!(!h.isFocused()||_.getButton()!=0)){var x=f.getRegion(_);if(x!="foldWidgets"){var C=_.getDocumentPosition().row,k=h.session.selection;if(_.getShiftKey())k.selectTo(C,0);else{if(_.domEvent.detail==2)return h.selectAll(),_.preventDefault();l.$clickSelection=h.selection.getLineRange(C)}return l.setState("selectByLines"),l.captureMouse(_),_.preventDefault()}}});var m,g;function w(){var _=g.getDocumentPosition().row,x=h.session.getLength();if(_==x){var C=h.renderer.pixelToScreenCoordinates(0,g.y).row,k=g.$pos;if(C>h.session.documentToScreenRow(k.row,k.column))return S()}if(p.showTooltip(_),!!p.isOpen)if(h.on("mousewheel",S),l.$tooltipFollowsMouse)b(g);else{var M=g.getGutterRow(),T=f.$lines.get(M);if(T){var L=T.element.querySelector(".ace_gutter_annotation"),E=L.getBoundingClientRect(),A=p.getElement().style;A.left=E.right+"px",A.top=E.bottom+"px"}else b(g)}}function S(){m&&(m=clearTimeout(m)),p.isOpen&&(p.hideTooltip(),h.off("mousewheel",S))}function b(_){p.setPosition(_.x,_.y)}l.editor.setDefaultHandler("guttermousemove",function(_){var x=_.domEvent.target||_.domEvent.srcElement;if(c.hasCssClass(x,"ace_fold-widget"))return S();p.isOpen&&l.$tooltipFollowsMouse&&b(_),g=_,!m&&(m=setTimeout(function(){m=null,g&&!l.isMousePressed?w():S()},50))}),s.addListener(h.renderer.$gutter,"mouseout",function(_){g=null,!(!p.isOpen||m)&&(m=setTimeout(function(){m=null,S()},50))},h),h.on("changeSession",S),h.on("input",S)}i.GutterHandler=r;var a=function(l){u(h,l);function h(f){var p=l.call(this,f.container)||this;return p.editor=f,p}return h.prototype.setPosition=function(f,p){var m=window.innerWidth||document.documentElement.clientWidth,g=window.innerHeight||document.documentElement.clientHeight,w=this.getWidth(),S=this.getHeight();f+=15,p+=15,f+w>m&&(f-=f+w-m),p+S>g&&(p-=20+S),d.prototype.setPosition.call(this,f,p)},Object.defineProperty(h,"annotationLabels",{get:function(){return{error:{singular:o("gutter-tooltip.aria-label.error.singular","error"),plural:o("gutter-tooltip.aria-label.error.plural","errors")},warning:{singular:o("gutter-tooltip.aria-label.warning.singular","warning"),plural:o("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:o("gutter-tooltip.aria-label.info.singular","information message"),plural:o("gutter-tooltip.aria-label.info.plural","information messages")}}},enumerable:!1,configurable:!0}),h.prototype.showTooltip=function(f){var p=this.editor.renderer.$gutterLayer,m=p.$annotations[f],g;m?g={text:Array.from(m.text),type:Array.from(m.type)}:g={text:[],type:[]};var w=p.session.getFoldLine(f);if(w&&p.$showFoldedAnnotations){for(var S={error:[],warning:[],info:[]},b,_=f+1;_<=w.end.row;_++)if(p.$annotations[_])for(var x=0;x<p.$annotations[_].text.length;x++){var C=p.$annotations[_].type[x];if(S[C].push(p.$annotations[_].text[x]),C==="error"){b="error_fold";continue}if(C==="warning"){b="warning_fold";continue}}if(b==="error_fold"||b==="warning_fold"){var k="".concat(h.annotationsToSummaryString(S)," in folded code.");g.text.push(k),g.type.push(b)}}if(g.text.length===0)return this.hide();for(var M={error:[],warning:[],info:[]},T=p.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",_=0;_<g.text.length;_++){var L="<span class='ace_".concat(g.type[_]," ").concat(T,"' aria-label='").concat(h.annotationLabels[g.type[_].replace("_fold","")].singular,"' role=img> </span> ").concat(g.text[_]);M[g.type[_].replace("_fold","")].push(L)}var E=[].concat(M.error,M.warning,M.info).join("<br>");this.setHtml(E),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},h.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},h.annotationsToSummaryString=function(f){var p,m,g=[],w=["error","warning","info"];try{for(var S=y(w),b=S.next();!b.done;b=S.next()){var _=b.value;if(f[_].length){var x=f[_].length===1?h.annotationLabels[_].singular:h.annotationLabels[_].plural;g.push("".concat(f[_].length," ").concat(x))}}}catch(C){p={error:C}}finally{try{b&&!b.done&&(m=S.return)&&m.call(S)}finally{if(p)throw p.error}}return g.join(", ")},h}(d);i.GutterTooltip=a}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,i,v){var u=n("../lib/event"),y=n("../lib/useragent"),c=function(){function s(d,o){this.speed,this.wheelX,this.wheelY,this.domEvent=d,this.editor=o,this.x=this.clientX=d.clientX,this.y=this.clientY=d.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){u.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){u.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.getGutterRow=function(){var d=this.getDocumentPosition().row,o=this.editor.session.documentToScreenRow(d,0),r=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return o-r},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var d=this.editor,o=d.getSelectionRange();if(o.isEmpty())this.$inSelection=!1;else{var r=this.getDocumentPosition();this.$inSelection=o.contains(r.row,r.column)}return this.$inSelection},s.prototype.getButton=function(){return u.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return y.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();i.MouseEvent=c}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,i,v){var u=n("../lib/dom"),y=n("../lib/event"),c=n("../lib/useragent"),s=200,d=200,o=5;function r(l){var h=l.editor,f=u.createElement("div");f.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",f.textContent=" ";var p=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];p.forEach(function(B){l[B]=this[B]},this),h.on("mousedown",this.onMouseDown.bind(l));var m=h.container,g,w,S,b,_,x,C=0,k,M,T,L,E;this.onDragStart=function(B){if(this.cancelDrag||!m.draggable){var z=this;return setTimeout(function(){z.startSelect(),z.captureMouse(B)},0),B.preventDefault()}_=h.getSelectionRange();var U=B.dataTransfer;U.effectAllowed=h.getReadOnly()?"copy":"copyMove",h.container.appendChild(f),U.setDragImage&&U.setDragImage(f,0,0),setTimeout(function(){h.container.removeChild(f)}),U.clearData(),U.setData("Text",h.session.getTextRange()),M=!0,this.setState("drag")},this.onDragEnd=function(B){if(m.draggable=!1,M=!1,this.setState(null),!h.getReadOnly()){var z=B.dataTransfer.dropEffect;!k&&z=="move"&&h.session.remove(h.getSelectionRange()),h.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(B){if(!(h.getReadOnly()||!N(B.dataTransfer)))return w=B.clientX,S=B.clientY,g||D(),C++,B.dataTransfer.dropEffect=k=H(B),y.preventDefault(B)},this.onDragOver=function(B){if(!(h.getReadOnly()||!N(B.dataTransfer)))return w=B.clientX,S=B.clientY,g||(D(),C++),O!==null&&(O=null),B.dataTransfer.dropEffect=k=H(B),y.preventDefault(B)},this.onDragLeave=function(B){if(C--,C<=0&&g)return P(),k=null,y.preventDefault(B)},this.onDrop=function(B){if(x){var z=B.dataTransfer;if(M)switch(k){case"move":_.contains(x.row,x.column)?_={start:x,end:x}:_=h.moveText(_,x);break;case"copy":_=h.moveText(_,x,!0);break}else{var U=z.getData("Text");_={start:x,end:h.session.insert(x,U)},h.focus(),k=null}return P(),y.preventDefault(B)}},y.addListener(m,"dragstart",this.onDragStart.bind(l),h),y.addListener(m,"dragend",this.onDragEnd.bind(l),h),y.addListener(m,"dragenter",this.onDragEnter.bind(l),h),y.addListener(m,"dragover",this.onDragOver.bind(l),h),y.addListener(m,"dragleave",this.onDragLeave.bind(l),h),y.addListener(m,"drop",this.onDrop.bind(l),h);function A(B,z){var U=Date.now(),V=!z||B.row!=z.row,W=!z||B.column!=z.column;if(!L||V||W)h.moveCursorToPosition(B),L=U,E={x:w,y:S};else{var F=a(E.x,E.y,w,S);F>o?L=null:U-L>=d&&(h.renderer.scrollCursorIntoView(),L=null)}}function R(B,z){var U=Date.now(),V=h.renderer.layerConfig.lineHeight,W=h.renderer.layerConfig.characterWidth,F=h.renderer.scroller.getBoundingClientRect(),Y={x:{left:w-F.left,right:F.right-w},y:{top:S-F.top,bottom:F.bottom-S}},G=Math.min(Y.x.left,Y.x.right),Q=Math.min(Y.y.top,Y.y.bottom),J={row:B.row,column:B.column};G/W<=2&&(J.column+=Y.x.left<Y.x.right?-3:2),Q/V<=1&&(J.row+=Y.y.top<Y.y.bottom?-1:1);var ce=B.row!=J.row,me=B.column!=J.column,de=!z||B.row!=z.row;ce||me&&!de?T?U-T>=s&&h.renderer.scrollCursorIntoView(J):T=U:T=null}function I(){var B=x;x=h.renderer.screenToTextCoordinates(w,S),A(x,B),R(x,B)}function D(){_=h.selection.toOrientedRange(),g=h.session.addMarker(_,"ace_selection",h.getSelectionStyle()),h.clearSelection(),h.isFocused()&&h.renderer.$cursorLayer.setBlinking(!1),clearInterval(b),I(),b=setInterval(I,20),C=0,y.addListener(document,"mousemove",$)}function P(){clearInterval(b),h.session.removeMarker(g),g=null,h.selection.fromOrientedRange(_),h.isFocused()&&!M&&h.$resetCursorStyle(),_=null,x=null,C=0,T=null,L=null,y.removeListener(document,"mousemove",$)}var O=null;function $(){O==null&&(O=setTimeout(function(){O!=null&&g&&P()},20))}function N(B){var z=B.types;return!z||Array.prototype.some.call(z,function(U){return U=="text/plain"||U=="Text"})}function H(B){var z=["copy","copymove","all","uninitialized"],U=["move","copymove","linkmove","all","uninitialized"],V=c.isMac?B.altKey:B.ctrlKey,W="uninitialized";try{W=B.dataTransfer.effectAllowed.toLowerCase()}catch{}var F="none";return V&&z.indexOf(W)>=0?F="copy":U.indexOf(W)>=0?F="move":z.indexOf(W)>=0&&(F="copy"),F}}(function(){this.dragWait=function(){var l=Date.now()-this.mousedownEvent.time;l>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var l=this.editor.container;l.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(l){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var l=this.editor,h=l.container;h.draggable=!0,l.renderer.$cursorLayer.setBlinking(!1),l.setStyle("ace_dragging");var f=c.isWin?"default":"move";l.renderer.setCursorStyle(f),this.setState("dragReady")},this.onMouseDrag=function(l){var h=this.editor.container;if(c.isIE&&this.state=="dragReady"){var f=a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);f>3&&h.dragDrop()}if(this.state==="dragWait"){var f=a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);f>0&&(h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(l){if(this.$dragEnabled){this.mousedownEvent=l;var h=this.editor,f=l.inSelection(),p=l.getButton(),m=l.domEvent.detail||1;if(m===1&&p===0&&f){if(l.editor.inMultiSelectMode&&(l.getAccelKey()||l.getShiftKey()))return;this.mousedownEvent.time=Date.now();var g=l.domEvent.target||l.domEvent.srcElement;if("unselectable"in g&&(g.unselectable="on"),h.getDragDelay()){if(c.isWebKit){this.cancelDrag=!0;var w=h.container;w.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(l,this.onMouseDrag.bind(this)),l.defaultPrevented=!0}}}}).call(r.prototype);function a(l,h,f,p){return Math.sqrt(Math.pow(f-l,2)+Math.pow(p-h,2))}i.DragdropHandler=r}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,i,v){var u=n("./mouse_event").MouseEvent,y=n("../lib/event"),c=n("../lib/dom");i.addTouchListeners=function(s,d){var o="scroll",r,a,l,h,f,p,m=0,g,w=0,S=0,b=0,_,x;function C(){var A=window.navigator&&window.navigator.clipboard,R=!1,I=function(){var P=d.getCopyText(),O=d.session.getUndoManager().hasUndo();x.replaceChild(c.buildDom(R?["span",!P&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],P&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],P&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],A&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],O&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),x.firstChild)},D=function(P){var O=P.target.getAttribute("action");if(O=="more"||!R)return R=!R,I();O=="paste"?A.readText().then(function($){d.execCommand(O,$)}):O&&((O=="cut"||O=="copy")&&(A?A.writeText(d.getCopyText()):document.execCommand("copy")),d.execCommand(O)),x.firstChild.style.display="none",R=!1,O!="openCommandPalette"&&d.focus()};x=c.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(P){o="menu",P.stopPropagation(),P.preventDefault(),d.textInput.focus()},ontouchend:function(P){P.stopPropagation(),P.preventDefault(),D(P)},onclick:D},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],d.container)}function k(){x||C();var A=d.selection.cursor,R=d.renderer.textToScreenCoordinates(A.row,A.column),I=d.renderer.textToScreenCoordinates(0,0).pageX,D=d.renderer.scrollLeft,P=d.container.getBoundingClientRect();x.style.top=R.pageY-P.top-3+"px",R.pageX-P.left<P.width-70?(x.style.left="",x.style.right="10px"):(x.style.right="",x.style.left=I+D-P.left+"px"),x.style.display="",x.firstChild.style.display="none",d.on("input",M)}function M(A){x&&(x.style.display="none"),d.off("input",M)}function T(){f=null,clearTimeout(f);var A=d.selection.getRange(),R=A.contains(g.row,g.column);(A.isEmpty()||!R)&&(d.selection.moveToPosition(g),d.selection.selectWord()),o="wait",k()}function L(){f=null,clearTimeout(f),d.selection.moveToPosition(g);var A=w>=2?d.selection.getLineRange(g.row):d.session.getBracketRange(g);A&&!A.isEmpty()?d.selection.setRange(A):d.selection.selectWord(),o="wait"}y.addListener(s,"contextmenu",function(A){if(_){var R=d.textInput.getElement();R.focus()}},d),y.addListener(s,"touchstart",function(A){var R=A.touches;if(f||R.length>1){clearTimeout(f),f=null,l=-1,o="zoom";return}_=d.$mouseHandler.isMousePressed=!0;var I=d.renderer.layerConfig.lineHeight,D=d.renderer.layerConfig.lineHeight,P=A.timeStamp;h=P;var O=R[0],$=O.clientX,N=O.clientY;Math.abs(r-$)+Math.abs(a-N)>I&&(l=-1),r=A.clientX=$,a=A.clientY=N,S=b=0;var H=new u(A,d);if(g=H.getDocumentPosition(),P-l<500&&R.length==1&&!m)w++,A.preventDefault(),A.button=0,L();else{w=0;var B=d.selection.cursor,z=d.selection.isEmpty()?B:d.selection.anchor,U=d.renderer.$cursorLayer.getPixelPosition(B,!0),V=d.renderer.$cursorLayer.getPixelPosition(z,!0),W=d.renderer.scroller.getBoundingClientRect(),F=d.renderer.layerConfig.offset,Y=d.renderer.scrollLeft,G=function(ce,me){return ce=ce/D,me=me/I-.75,ce*ce+me*me};if(A.clientX<W.left){o="zoom";return}var Q=G(A.clientX-W.left-U.left+Y,A.clientY-W.top-U.top+F),J=G(A.clientX-W.left-V.left+Y,A.clientY-W.top-V.top+F);Q<3.5&&J<3.5&&(o=Q>J?"cursor":"anchor"),J<3.5?o="anchor":Q<3.5?o="cursor":o="scroll",f=setTimeout(T,450)}l=P},d),y.addListener(s,"touchend",function(A){_=d.$mouseHandler.isMousePressed=!1,p&&clearInterval(p),o=="zoom"?(o="",m=0):f?(d.selection.moveToPosition(g),m=0,k()):o=="scroll"?(E(),M()):k(),clearTimeout(f),f=null},d),y.addListener(s,"touchmove",function(A){f&&(clearTimeout(f),f=null);var R=A.touches;if(!(R.length>1||o=="zoom")){var I=R[0],D=r-I.clientX,P=a-I.clientY;if(o=="wait")if(D*D+P*P>4)o="cursor";else return A.preventDefault();r=I.clientX,a=I.clientY,A.clientX=I.clientX,A.clientY=I.clientY;var O=A.timeStamp,$=O-h;if(h=O,o=="scroll"){var N=new u(A,d);N.speed=1,N.wheelX=D,N.wheelY=P,10*Math.abs(D)<Math.abs(P)&&(D=0),10*Math.abs(P)<Math.abs(D)&&(P=0),$!=0&&(S=D/$,b=P/$),d._emit("mousewheel",N),N.propagationStopped||(S=b=0)}else{var H=new u(A,d),B=H.getDocumentPosition();o=="cursor"?d.selection.moveCursorToPosition(B):o=="anchor"&&d.selection.setSelectionAnchor(B.row,B.column),d.renderer.scrollCursorIntoView(B),A.preventDefault()}}},d);function E(){m+=60,p=setInterval(function(){m--<=0&&(clearInterval(p),p=null),Math.abs(S)<.01&&(S=0),Math.abs(b)<.01&&(b=0),m<20&&(S=.9*S),m<20&&(b=.9*b);var A=d.session.getScrollTop();d.renderer.scrollBy(10*S,10*b),A==d.session.getScrollTop()&&(m=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,i,v){var u=n("../lib/event"),y=n("../lib/useragent"),c=n("./default_handlers").DefaultHandlers,s=n("./default_gutter_handler").GutterHandler,d=n("./mouse_event").MouseEvent,o=n("./dragdrop_handler").DragdropHandler,r=n("./touch_handler").addTouchListeners,a=n("../config"),l=function(){function h(f){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var p=this;this.editor=f,new c(this),new s(this),new o(this);var m=function(S){var b=!document.hasFocus||!document.hasFocus()||!f.isFocused()&&document.activeElement==(f.textInput&&f.textInput.getElement());b&&window.focus(),f.focus(),setTimeout(function(){f.isFocused()||f.focus()})},g=f.renderer.getMouseEventTarget();u.addListener(g,"click",this.onMouseEvent.bind(this,"click"),f),u.addListener(g,"mousemove",this.onMouseMove.bind(this,"mousemove"),f),u.addMultiMouseDownListener([g,f.renderer.scrollBarV&&f.renderer.scrollBarV.inner,f.renderer.scrollBarH&&f.renderer.scrollBarH.inner,f.textInput&&f.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",f),u.addMouseWheelListener(f.container,this.onMouseWheel.bind(this,"mousewheel"),f),r(f.container,f);var w=f.renderer.$gutter;u.addListener(w,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),f),u.addListener(w,"click",this.onMouseEvent.bind(this,"gutterclick"),f),u.addListener(w,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),f),u.addListener(w,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),f),u.addListener(g,"mousedown",m,f),u.addListener(w,"mousedown",m,f),y.isIE&&f.renderer.scrollBarV&&(u.addListener(f.renderer.scrollBarV.element,"mousedown",m,f),u.addListener(f.renderer.scrollBarH.element,"mousedown",m,f)),f.on("mousemove",function(S){if(!(p.state||p.$dragDelay||!p.$dragEnabled)){var b=f.renderer.screenToTextCoordinates(S.x,S.y),_=f.session.selection.getRange(),x=f.renderer;!_.isEmpty()&&_.insideStart(b.row,b.column)?x.setCursorStyle("default"):x.setCursorStyle("")}},f)}return h.prototype.onMouseEvent=function(f,p){this.editor.session&&this.editor._emit(f,new d(p,this.editor))},h.prototype.onMouseMove=function(f,p){var m=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!m||!m.length||this.editor._emit(f,new d(p,this.editor))},h.prototype.onMouseWheel=function(f,p){var m=new d(p,this.editor);m.speed=this.$scrollSpeed*2,m.wheelX=p.wheelX,m.wheelY=p.wheelY,this.editor._emit(f,m)},h.prototype.setState=function(f){this.state=f},h.prototype.captureMouse=function(f,p){this.x=f.x,this.y=f.y,this.isMousePressed=!0;var m=this.editor,g=this.editor.renderer;g.$isMousePressed=!0;var w=this,S=function(k){if(k){if(y.isWebKit&&!k.which&&w.releaseMouse)return w.releaseMouse();w.x=k.clientX,w.y=k.clientY,p&&p(k),w.mouseEvent=new d(k,w.editor),w.$mouseMoved=!0}},b=function(k){m.off("beforeEndOperation",x),clearInterval(C),m.session&&_(),w[w.state+"End"]&&w[w.state+"End"](k),w.state="",w.isMousePressed=g.$isMousePressed=!1,g.$keepTextAreaAtCursor&&g.$moveTextAreaToCursor(),w.$onCaptureMouseMove=w.releaseMouse=null,k&&w.onMouseEvent("mouseup",k),m.endOperation()},_=function(){w[w.state]&&w[w.state](),w.$mouseMoved=!1};if(y.isOldIE&&f.domEvent.type=="dblclick")return setTimeout(function(){b(f)});var x=function(k){w.releaseMouse&&m.curOp.command.name&&m.curOp.selectionChanged&&(w[w.state+"End"]&&w[w.state+"End"](),w.state="",w.releaseMouse())};m.on("beforeEndOperation",x),m.startOperation({command:{name:"mouse"}}),w.$onCaptureMouseMove=S,w.releaseMouse=u.capture(this.editor.container,S,b);var C=setInterval(_,20)},h.prototype.cancelContextMenu=function(){var f=(function(p){p&&p.domEvent&&p.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",f),p&&p.domEvent&&u.stopEvent(p.domEvent))}).bind(this);setTimeout(f,10),this.editor.on("nativecontextmenu",f)},h.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},h}();l.prototype.releaseMouse=null,a.defineOptions(l.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:y.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),i.MouseHandler=l}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,i,v){var u=n("../lib/dom"),y=function(){function c(s){s.on("click",function(d){var o=d.getDocumentPosition(),r=s.session,a=r.getFoldAt(o.row,o.column,1);a&&(d.getAccelKey()?r.removeFold(a):r.expandFold(a),d.stop());var l=d.domEvent&&d.domEvent.target;l&&u.hasCssClass(l,"ace_inline_button")&&u.hasCssClass(l,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(d){var o=s.renderer.$gutterLayer.getRegion(d);if(o=="foldWidgets"){var r=d.getDocumentPosition().row,a=s.session;a.foldWidgets&&a.foldWidgets[r]&&s.session.onFoldWidgetClick(r,d),s.isFocused()||s.focus(),d.stop()}}),s.on("gutterdblclick",function(d){var o=s.renderer.$gutterLayer.getRegion(d);if(o=="foldWidgets"){var r=d.getDocumentPosition().row,a=s.session,l=a.getParentFoldRangeData(r,!0),h=l.range||l.firstRange;if(h){r=h.start.row;var f=a.getFoldAt(r,a.getLine(r).length,1);f?a.removeFold(f):(a.addFold("...",h),s.renderer.scrollCursorIntoView({row:h.start.row,column:0}))}d.stop()}})}return c}();i.FoldHandler=y}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,i,v){var u=n("../lib/keys"),y=n("../lib/event"),c=function(){function s(d){this.$editor=d,this.$data={editor:d},this.$handlers=[],this.setDefaultHandler(d.commands)}return s.prototype.setDefaultHandler=function(d){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=d,this.addKeyboardHandler(d,0)},s.prototype.setKeyboardHandler=function(d){var o=this.$handlers;if(o[o.length-1]!=d){for(;o[o.length-1]&&o[o.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(o[o.length-1]);this.addKeyboardHandler(d,1)}},s.prototype.addKeyboardHandler=function(d,o){if(d){typeof d=="function"&&!d.handleKeyboard&&(d.handleKeyboard=d);var r=this.$handlers.indexOf(d);r!=-1&&this.$handlers.splice(r,1),o==null?this.$handlers.push(d):this.$handlers.splice(o,0,d),r==-1&&d.attach&&d.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(d){var o=this.$handlers.indexOf(d);return o==-1?!1:(this.$handlers.splice(o,1),d.detach&&d.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var d=this.$data,o=d.editor;return this.$handlers.map(function(r){return r.getStatusText&&r.getStatusText(o,d)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(d,o,r,a){for(var l,h=!1,f=this.$editor.commands,p=this.$handlers.length;p--&&(l=this.$handlers[p].handleKeyboard(this.$data,d,o,r,a),!(!(!l||!l.command)&&(l.command=="null"?h=!0:h=f.exec(l.command,this.$editor,l.args,a),h&&a&&d!=-1&&l.passEvent!=!0&&l.command.passEvent!=!0&&y.stopEvent(a),h))););return!h&&d==-1&&(l={command:"insertstring"},h=f.exec("insertstring",this.$editor,o)),h&&this.$editor._signal&&this.$editor._signal("keyboardActivity",l),h},s.prototype.onCommandKey=function(d,o,r){var a=u.keyCodeToString(r);return this.$callKeyboardHandlers(o,a,r,d)},s.prototype.onTextInput=function(d){return this.$callKeyboardHandlers(-1,d)},s}();i.KeyBinding=c}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,i,v){var u=0,y=0,c=!1,s=!1,d=!1,o=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],r=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],a=0,l=1,h=0,f=1,p=2,m=3,g=4,w=5,S=6,b=7,_=8,x=9,C=10,k=11,M=12,T=13,L=14,E=15,A=16,R=17,I=18,D=[I,I,I,I,I,I,I,I,I,S,w,S,_,w,I,I,I,I,I,I,I,I,I,I,I,I,I,I,w,w,w,S,_,g,g,k,k,k,g,g,g,g,g,C,x,C,x,x,p,p,p,p,p,p,p,p,p,p,x,g,g,g,g,g,g,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,g,g,g,g,g,g,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,g,g,g,g,I,I,I,I,I,I,w,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,x,g,k,k,k,k,g,g,g,g,h,g,g,I,g,g,k,k,p,p,g,h,g,g,g,p,h,g,g,g,g,g],P=[_,_,_,_,_,_,_,_,_,_,_,I,I,I,h,f,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,_,w,T,L,E,A,R,x,k,k,k,k,k,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,x,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,_];function O(B,z,U,V){var W=u?r:o,F=null,Y=null,G=null,Q=0,J=null,ce=null,me=-1,de=null,ke=null,le=[];if(!V)for(de=0,V=[];de<U;de++)V[de]=H(B[de]);for(y=u,c=!1,s=!1,d=!1,ke=0;ke<U;ke++){if(F=Q,le[ke]=Y=N(B,V,le,ke),Q=W[F][Y],J=Q&240,Q&=15,z[ke]=G=W[Q][5],J>0)if(J==16){for(de=me;de<ke;de++)z[de]=1;me=-1}else me=-1;if(ce=W[Q][6],ce)me==-1&&(me=ke);else if(me>-1){for(de=me;de<ke;de++)z[de]=G;me=-1}V[ke]==w&&(z[ke]=0),y|=G}if(d){for(de=0;de<U;de++)if(V[de]==S){z[de]=u;for(var nt=de-1;nt>=0&&V[nt]==_;nt--)z[nt]=u}}}function $(B,z,U){if(!(y<B)){if(B==1&&u==l&&!s){U.reverse();return}for(var V=U.length,W=0,F,Y,G,Q;W<V;){if(z[W]>=B){for(F=W+1;F<V&&z[F]>=B;)F++;for(Y=W,G=F-1;Y<G;Y++,G--)Q=U[Y],U[Y]=U[G],U[G]=Q;W=F}W++}}}function N(B,z,U,V){var W=z[V],F,Y,G,Q;switch(W){case h:case f:c=!1;case g:case m:return W;case p:return c?m:p;case b:return c=!0,f;case _:return g;case x:return V<1||V+1>=z.length||(F=U[V-1])!=p&&F!=m||(Y=z[V+1])!=p&&Y!=m?g:(c&&(Y=m),Y==F?Y:g);case C:return F=V>0?U[V-1]:w,F==p&&V+1<z.length&&z[V+1]==p?p:g;case k:if(V>0&&U[V-1]==p)return p;if(c)return g;for(Q=V+1,G=z.length;Q<G&&z[Q]==k;)Q++;return Q<G&&z[Q]==p?p:g;case M:for(G=z.length,Q=V+1;Q<G&&z[Q]==M;)Q++;if(Q<G){var J=B[V],ce=J>=1425&&J<=2303||J==64286;if(F=z[Q],ce&&(F==f||F==b))return f}return V<1||(F=z[V-1])==w?g:U[V-1];case w:return c=!1,s=!0,u;case S:return d=!0,g;case T:case L:case A:case R:case E:c=!1;case I:return g}}function H(B){var z=B.charCodeAt(0),U=z>>8;return U==0?z>191?h:D[z]:U==5?/[\u0591-\u05f4]/.test(B)?f:h:U==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(B)?M:/[\u0660-\u0669\u066b-\u066c]/.test(B)?m:z==1642?k:/[\u06f0-\u06f9]/.test(B)?p:b:U==32&&z<=8287?P[z&255]:U==254&&z>=65136?b:g}i.L=h,i.R=f,i.EN=p,i.ON_R=3,i.AN=4,i.R_H=5,i.B=6,i.RLE=7,i.DOT="·",i.doBidiReorder=function(B,z,U){if(B.length<2)return{};var V=B.split(""),W=new Array(V.length),F=new Array(V.length),Y=[];u=U?l:a,O(V,Y,V.length,z);for(var G=0;G<W.length;W[G]=G,G++);$(2,Y,W),$(1,Y,W);for(var G=0;G<W.length-1;G++)z[G]===m?Y[G]=i.AN:Y[G]===f&&(z[G]>b&&z[G]<T||z[G]===g||z[G]===I)?Y[G]=i.ON_R:G>0&&V[G-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(V[G])&&(Y[G-1]=Y[G]=i.R_H,G++);V[V.length-1]===i.DOT&&(Y[V.length-1]=i.B),V[0]==="‫"&&(Y[0]=i.RLE);for(var G=0;G<W.length;G++)F[G]=Y[W[G]];return{logicalFromVisual:W,bidiLevels:F}},i.hasBidiCharacters=function(B,z){for(var U=!1,V=0;V<B.length;V++)z[V]=H(B.charAt(V)),!U&&(z[V]==f||z[V]==b||z[V]==m)&&(U=!0);return U},i.getVisualFromLogicalIdx=function(B,z){for(var U=0;U<z.logicalFromVisual.length;U++)if(z.logicalFromVisual[U]==B)return U;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,i,v){var u=n("./lib/bidiutil"),y=n("./lib/lang"),c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function d(o){this.session=o,this.bidiMap={},this.currentRow=null,this.bidiUtil=u,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=c.test(o.getValue())}return d.prototype.isBidiRow=function(o,r,a){return this.seenBidi?(o!==this.currentRow&&(this.currentRow=o,this.updateRowLine(r,a),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},d.prototype.onChange=function(o){this.seenBidi?this.currentRow=null:o.action=="insert"&&c.test(o.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},d.prototype.getDocumentRow=function(){var o=0,r=this.session.$screenRowCache;if(r.length){var a=this.session.$getRowCacheIndex(r,this.currentRow);a>=0&&(o=this.session.$docRowCache[a])}return o},d.prototype.getSplitIndex=function(){var o=0,r=this.session.$screenRowCache;if(r.length)for(var a,l=this.session.$getRowCacheIndex(r,this.currentRow);this.currentRow-o>0&&(a=this.session.$getRowCacheIndex(r,this.currentRow-o-1),a===l);)l=a,o++;else o=this.currentRow;return o},d.prototype.updateRowLine=function(o,r){o===void 0&&(o=this.getDocumentRow());var a=o===this.session.getLength()-1,l=a?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(o),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var h=this.session.$wrapData[o];h&&(r===void 0&&(r=this.getSplitIndex()),r>0&&h.length?(this.wrapIndent=h.indent,this.wrapOffset=this.wrapIndent*this.charWidths[u.L],this.line=r<h.length?this.line.substring(h[r-1],h[r]):this.line.substring(h[h.length-1])):this.line=this.line.substring(0,h[r]),r==h.length&&(this.line+=this.showInvisibles?l:u.DOT))}else this.line+=this.showInvisibles?l:u.DOT;var f=this.session,p=0,m;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(g,w){return g==="	"||f.isFullWidth(g.charCodeAt(0))?(m=g==="	"?f.getScreenTabSize(w+p):2,p+=m-1,y.stringRepeat(u.DOT,m)):g}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==u.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},d.prototype.updateBidiMap=function(){var o=[];u.hasBidiCharacters(this.line,o)||this.isRtlDir?this.bidiMap=u.doBidiReorder(this.line,o,this.isRtlDir):this.bidiMap={}},d.prototype.markAsDirty=function(){this.currentRow=null},d.prototype.updateCharacterWidths=function(o){if(this.characterWidth!==o.$characterSize.width){this.fontMetrics=o;var r=this.characterWidth=o.$characterSize.width,a=o.$measureCharWidth("ה");this.charWidths[u.L]=this.charWidths[u.EN]=this.charWidths[u.ON_R]=r,this.charWidths[u.R]=this.charWidths[u.AN]=a,this.charWidths[u.R_H]=a*.45,this.charWidths[u.B]=this.charWidths[u.RLE]=0,this.currentRow=null}},d.prototype.setShowInvisibles=function(o){this.showInvisibles=o,this.currentRow=null},d.prototype.setEolChar=function(o){this.EOL=o},d.prototype.setContentWidth=function(o){this.contentWidth=o},d.prototype.isRtlLine=function(o){return this.$isRtl?!0:o!=null?this.session.getLine(o).charAt(0)==this.RLE:this.isRtlDir},d.prototype.setRtlDirection=function(o,r){for(var a=o.getCursorPosition(),l=o.selection.getSelectionAnchor().row;l<=a.row;l++)!r&&o.session.getLine(l).charAt(0)===o.session.$bidiHandler.RLE?o.session.doc.removeInLine(l,0,1):r&&o.session.getLine(l).charAt(0)!==o.session.$bidiHandler.RLE&&o.session.doc.insert({column:0,row:l},o.session.$bidiHandler.RLE)},d.prototype.getPosLeft=function(o){o-=this.wrapIndent;var r=this.line.charAt(0)===this.RLE?1:0,a=o>r?this.session.getOverwrite()?o:o-1:r,l=u.getVisualFromLogicalIdx(a,this.bidiMap),h=this.bidiMap.bidiLevels,f=0;!this.session.getOverwrite()&&o<=r&&h[l]%2!==0&&l++;for(var p=0;p<l;p++)f+=this.charWidths[h[p]];return!this.session.getOverwrite()&&o>r&&h[l]%2===0&&(f+=this.charWidths[h[l]]),this.wrapIndent&&(f+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(f+=this.rtlLineOffset),f},d.prototype.getSelections=function(o,r){var a=this.bidiMap,l=a.bidiLevels,h,f=[],p=0,m=Math.min(o,r)-this.wrapIndent,g=Math.max(o,r)-this.wrapIndent,w=!1,S=!1,b=0;this.wrapIndent&&(p+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var _,x=0;x<l.length;x++)_=a.logicalFromVisual[x],h=l[x],w=_>=m&&_<g,w&&!S?b=p:!w&&S&&f.push({left:b,width:p-b}),p+=this.charWidths[h],S=w;if(w&&x===l.length&&f.push({left:b,width:p-b}),this.isRtlDir)for(var C=0;C<f.length;C++)f[C].left+=this.rtlLineOffset;return f},d.prototype.offsetToCol=function(a){this.isRtlDir&&(a-=this.rtlLineOffset);var r=0,a=Math.max(a,0),l=0,h=0,f=this.bidiMap.bidiLevels,p=this.charWidths[f[h]];for(this.wrapIndent&&(a-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);a>l+p/2;){if(l+=p,h===f.length-1){p=0;break}p=this.charWidths[f[++h]]}return h>0&&f[h-1]%2!==0&&f[h]%2===0?(a<l&&h--,r=this.bidiMap.logicalFromVisual[h]):h>0&&f[h-1]%2===0&&f[h]%2!==0?r=1+(a>l?this.bidiMap.logicalFromVisual[h]:this.bidiMap.logicalFromVisual[h-1]):this.isRtlDir&&h===f.length-1&&p===0&&f[h-1]%2===0||!this.isRtlDir&&h===0&&f[h]%2!==0?r=1+this.bidiMap.logicalFromVisual[h]:(h>0&&f[h-1]%2!==0&&p!==0&&h--,r=this.bidiMap.logicalFromVisual[h]),r===0&&this.isRtlDir&&r++,r+this.wrapIndent},d}();i.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,i,v){var u=n("./lib/oop"),y=n("./lib/lang"),c=n("./lib/event_emitter").EventEmitter,s=n("./range").Range,d=function(){function o(r){this.session=r,this.doc=r.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var a=this;this.cursor.on("change",function(l){a.$cursorChanged=!0,a.$silent||a._emit("changeCursor"),!a.$isEmpty&&!a.$silent&&a._emit("changeSelection"),!a.$keepDesiredColumnOnChange&&l.old.column!=l.value.column&&(a.$desiredColumn=null)}),this.anchor.on("change",function(){a.$anchorChanged=!0,!a.$isEmpty&&!a.$silent&&a._emit("changeSelection")})}return o.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},o.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},o.prototype.getCursor=function(){return this.lead.getPosition()},o.prototype.setAnchor=function(r,a){this.$isEmpty=!1,this.anchor.setPosition(r,a)},o.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},o.prototype.getSelectionLead=function(){return this.lead.getPosition()},o.prototype.isBackwards=function(){var r=this.anchor,a=this.lead;return r.row>a.row||r.row==a.row&&r.column>a.column},o.prototype.getRange=function(){var r=this.anchor,a=this.lead;return this.$isEmpty?s.fromPoints(a,a):this.isBackwards()?s.fromPoints(a,r):s.fromPoints(r,a)},o.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},o.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},o.prototype.setRange=function(r,a){var l=a?r.end:r.start,h=a?r.start:r.end;this.$setSelection(l.row,l.column,h.row,h.column)},o.prototype.$setSelection=function(r,a,l,h){if(!this.$silent){var f=this.$isEmpty,p=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(r,a),this.cursor.setPosition(l,h),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||f!=this.$isEmpty||p)&&this._emit("changeSelection")}},o.prototype.$moveSelection=function(r){var a=this.lead;this.$isEmpty&&this.setSelectionAnchor(a.row,a.column),r.call(this)},o.prototype.selectTo=function(r,a){this.$moveSelection(function(){this.moveCursorTo(r,a)})},o.prototype.selectToPosition=function(r){this.$moveSelection(function(){this.moveCursorToPosition(r)})},o.prototype.moveTo=function(r,a){this.clearSelection(),this.moveCursorTo(r,a)},o.prototype.moveToPosition=function(r){this.clearSelection(),this.moveCursorToPosition(r)},o.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},o.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},o.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},o.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},o.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},o.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},o.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},o.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},o.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},o.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},o.prototype.getWordRange=function(r,a){if(typeof a>"u"){var l=r||this.lead;r=l.row,a=l.column}return this.session.getWordRange(r,a)},o.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},o.prototype.selectAWord=function(){var r=this.getCursor(),a=this.session.getAWordRange(r.row,r.column);this.setSelectionRange(a)},o.prototype.getLineRange=function(r,a){var l=typeof r=="number"?r:this.lead.row,h,f=this.session.getFoldLine(l);return f?(l=f.start.row,h=f.end.row):h=l,a===!0?new s(l,0,h,this.session.getLine(h).length):new s(l,0,h+1,0)},o.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},o.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},o.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},o.prototype.wouldMoveIntoSoftTab=function(r,a,l){var h=r.column,f=r.column+a;return l<0&&(h=r.column-a,f=r.column),this.session.isTabStop(r)&&this.doc.getLine(r.row).slice(h,f).split(" ").length-1==a},o.prototype.moveCursorLeft=function(){var r=this.lead.getPosition(),a;if(a=this.session.getFoldAt(r.row,r.column,-1))this.moveCursorTo(a.start.row,a.start.column);else if(r.column===0)r.row>0&&this.moveCursorTo(r.row-1,this.doc.getLine(r.row-1).length);else{var l=this.session.getTabSize();this.wouldMoveIntoSoftTab(r,l,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-l):this.moveCursorBy(0,-1)}},o.prototype.moveCursorRight=function(){var r=this.lead.getPosition(),a;if(a=this.session.getFoldAt(r.row,r.column,1))this.moveCursorTo(a.end.row,a.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var l=this.session.getTabSize(),r=this.lead;this.wouldMoveIntoSoftTab(r,l,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,l):this.moveCursorBy(0,1)}},o.prototype.moveCursorLineStart=function(){var r=this.lead.row,a=this.lead.column,l=this.session.documentToScreenRow(r,a),h=this.session.screenToDocumentPosition(l,0),f=this.session.getDisplayLine(r,null,h.row,h.column),p=f.match(/^\s*/);p[0].length!=a&&!this.session.$useEmacsStyleLineStart&&(h.column+=p[0].length),this.moveCursorToPosition(h)},o.prototype.moveCursorLineEnd=function(){var r=this.lead,a=this.session.getDocumentLastRowColumnPosition(r.row,r.column);if(this.lead.column==a.column){var l=this.session.getLine(a.row);if(a.column==l.length){var h=l.search(/\s+$/);h>0&&(a.column=h)}}this.moveCursorTo(a.row,a.column)},o.prototype.moveCursorFileEnd=function(){var r=this.doc.getLength()-1,a=this.doc.getLine(r).length;this.moveCursorTo(r,a)},o.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},o.prototype.moveCursorLongWordRight=function(){var r=this.lead.row,a=this.lead.column,l=this.doc.getLine(r),h=l.substring(a);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var f=this.session.getFoldAt(r,a,1);if(f){this.moveCursorTo(f.end.row,f.end.column);return}if(this.session.nonTokenRe.exec(h)&&(a+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,h=l.substring(a)),a>=l.length){this.moveCursorTo(r,l.length),this.moveCursorRight(),r<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(h)&&(a+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(r,a)},o.prototype.moveCursorLongWordLeft=function(){var r=this.lead.row,a=this.lead.column,l;if(l=this.session.getFoldAt(r,a,-1)){this.moveCursorTo(l.start.row,l.start.column);return}var h=this.session.getFoldStringAt(r,a,-1);h==null&&(h=this.doc.getLine(r).substring(0,a));var f=y.stringReverse(h);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(f)&&(a-=this.session.nonTokenRe.lastIndex,f=f.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),a<=0){this.moveCursorTo(r,0),this.moveCursorLeft(),r>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(f)&&(a-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(r,a)},o.prototype.$shortWordEndIndex=function(r){var a=0,l,h=/\s/,f=this.session.tokenRe;if(f.lastIndex=0,this.session.tokenRe.exec(r))a=this.session.tokenRe.lastIndex;else{for(;(l=r[a])&&h.test(l);)a++;if(a<1){for(f.lastIndex=0;(l=r[a])&&!f.test(l);)if(f.lastIndex=0,a++,h.test(l))if(a>2){a--;break}else{for(;(l=r[a])&&h.test(l);)a++;if(a>2)break}}}return f.lastIndex=0,a},o.prototype.moveCursorShortWordRight=function(){var r=this.lead.row,a=this.lead.column,l=this.doc.getLine(r),h=l.substring(a),f=this.session.getFoldAt(r,a,1);if(f)return this.moveCursorTo(f.end.row,f.end.column);if(a==l.length){var p=this.doc.getLength();do r++,h=this.doc.getLine(r);while(r<p&&/^\s*$/.test(h));/^\s+/.test(h)||(h=""),a=0}var m=this.$shortWordEndIndex(h);this.moveCursorTo(r,a+m)},o.prototype.moveCursorShortWordLeft=function(){var r=this.lead.row,a=this.lead.column,l;if(l=this.session.getFoldAt(r,a,-1))return this.moveCursorTo(l.start.row,l.start.column);var h=this.session.getLine(r).substring(0,a);if(a===0){do r--,h=this.doc.getLine(r);while(r>0&&/^\s*$/.test(h));a=h.length,/\s+$/.test(h)||(h="")}var f=y.stringReverse(h),p=this.$shortWordEndIndex(f);return this.moveCursorTo(r,a-p)},o.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},o.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},o.prototype.moveCursorBy=function(r,a){var l=this.session.documentToScreenPosition(this.lead.row,this.lead.column),h;if(a===0&&(r!==0&&(this.session.$bidiHandler.isBidiRow(l.row,this.lead.row)?(h=this.session.$bidiHandler.getPosLeft(l.column),l.column=Math.round(h/this.session.$bidiHandler.charWidths[0])):h=l.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?l.column=this.$desiredColumn:this.$desiredColumn=l.column),r!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var f=this.session.lineWidgets[this.lead.row];r<0?r-=f.rowsAbove||0:r>0&&(r+=f.rowCount-(f.rowsAbove||0))}var p=this.session.screenToDocumentPosition(l.row+r,l.column,h);r!==0&&a===0&&p.row===this.lead.row&&(p.column,this.lead.column),this.moveCursorTo(p.row,p.column+a,a===0)},o.prototype.moveCursorToPosition=function(r){this.moveCursorTo(r.row,r.column)},o.prototype.moveCursorTo=function(r,a,l){var h=this.session.getFoldAt(r,a,1);h&&(r=h.start.row,a=h.start.column),this.$keepDesiredColumnOnChange=!0;var f=this.session.getLine(r);/[\uDC00-\uDFFF]/.test(f.charAt(a))&&f.charAt(a-1)&&(this.lead.row==r&&this.lead.column==a+1?a=a-1:a=a+1),this.lead.setPosition(r,a),this.$keepDesiredColumnOnChange=!1,l||(this.$desiredColumn=null)},o.prototype.moveCursorToScreen=function(r,a,l){var h=this.session.screenToDocumentPosition(r,a);this.moveCursorTo(h.row,h.column,l)},o.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},o.prototype.fromOrientedRange=function(r){this.setSelectionRange(r,r.cursor==r.start),this.$desiredColumn=r.desiredColumn||this.$desiredColumn},o.prototype.toOrientedRange=function(r){var a=this.getRange();return r?(r.start.column=a.start.column,r.start.row=a.start.row,r.end.column=a.end.column,r.end.row=a.end.row):r=a,r.cursor=this.isBackwards()?r.start:r.end,r.desiredColumn=this.$desiredColumn,r},o.prototype.getRangeOfMovements=function(r){var a=this.getCursor();try{r(this);var l=this.getCursor();return s.fromPoints(a,l)}catch{return s.fromPoints(a,a)}finally{this.moveCursorToPosition(a)}},o.prototype.toJSON=function(){if(this.rangeCount)var r=this.ranges.map(function(a){var l=a.clone();return l.isBackwards=a.cursor==a.start,l});else{var r=this.getRange();r.isBackwards=this.isBackwards()}return r},o.prototype.fromJSON=function(r){if(r.start==null)if(this.rangeList&&r.length>1){this.toSingleRange(r[0]);for(var a=r.length;a--;){var l=s.fromPoints(r[a].start,r[a].end);r[a].isBackwards&&(l.cursor=l.start),this.addRange(l,!0)}return}else r=r[0];this.rangeList&&this.toSingleRange(r),this.setSelectionRange(r,r.isBackwards)},o.prototype.isEqual=function(r){if((r.length||this.rangeCount)&&r.length!=this.rangeCount)return!1;if(!r.length||!this.ranges)return this.getRange().isEqual(r);for(var a=this.ranges.length;a--;)if(!this.ranges[a].isEqual(r[a]))return!1;return!0},o}();d.prototype.setSelectionAnchor=d.prototype.setAnchor,d.prototype.getSelectionAnchor=d.prototype.getAnchor,d.prototype.setSelectionRange=d.prototype.setRange,u.implement(d.prototype,c),i.Selection=d}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,i,v){var u=n("./lib/report_error").reportError,y=2e3,c=function(){function s(d){this.splitRegex,this.states=d,this.regExps={},this.matchMappings={};for(var o in this.states){for(var r=this.states[o],a=[],l=0,h=this.matchMappings[o]={defaultToken:"text"},f="g",p=[],m=0;m<r.length;m++){var g=r[m];if(g.defaultToken&&(h.defaultToken=g.defaultToken),g.caseInsensitive&&f.indexOf("i")===-1&&(f+="i"),g.unicode&&f.indexOf("u")===-1&&(f+="u"),g.regex!=null){g.regex instanceof RegExp&&(g.regex=g.regex.toString().slice(1,-1));var w=g.regex,S=new RegExp("(?:("+w+")|(.))").exec("a").length-2;Array.isArray(g.token)?g.token.length==1||S==1?g.token=g.token[0]:S-1!=g.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:g,groupCount:S-1}),g.token=g.token[0]):(g.tokenArray=g.token,g.token=null,g.onMatch=this.$arrayTokens):typeof g.token=="function"&&!g.onMatch&&(S>1?g.onMatch=this.$applyToken:g.onMatch=g.token),S>1&&(/\\\d/.test(g.regex)?w=g.regex.replace(/\\([0-9]+)/g,function(b,_){return"\\"+(parseInt(_,10)+l+1)}):(S=1,w=this.removeCapturingGroups(g.regex)),!g.splitRegex&&typeof g.token!="string"&&p.push(g)),h[l]=m,l+=S,a.push(w),g.onMatch||(g.onMatch=null)}}a.length||(h[0]=0,a.push("$")),p.forEach(function(b){b.splitRegex=this.createSplitterRegexp(b.regex,f)},this),this.regExps[o]=new RegExp("("+a.join(")|(")+")|($)",f)}}return s.prototype.$setMaxTokenCount=function(d){y=d|0},s.prototype.$applyToken=function(d){var o=this.splitRegex.exec(d).slice(1),r=this.token.apply(this,o);if(typeof r=="string")return[{type:r,value:d}];for(var a=[],l=0,h=r.length;l<h;l++)o[l]&&(a[a.length]={type:r[l],value:o[l]});return a},s.prototype.$arrayTokens=function(d){if(!d)return[];var o=this.splitRegex.exec(d);if(!o)return"text";for(var r=[],a=this.tokenArray,l=0,h=a.length;l<h;l++)o[l+1]&&(r[r.length]={type:a[l],value:o[l+1]});return r},s.prototype.removeCapturingGroups=function(d){var o=d.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(r,a){return a?"(?:":r});return o},s.prototype.createSplitterRegexp=function(d,o){if(d.indexOf("(?=")!=-1){var r=0,a=!1,l={};d.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(h,f,p,m,g,w){return a?a=g!="]":g?a=!0:m?(r==l.stack&&(l.end=w+1,l.stack=-1),r--):p&&(r++,p.length!=1&&(l.stack=r,l.start=w)),h}),l.end!=null&&/^\)*$/.test(d.substr(l.end))&&(d=d.substring(0,l.start)+d.substr(l.end))}return d.charAt(0)!="^"&&(d="^"+d),d.charAt(d.length-1)!="$"&&(d+="$"),new RegExp(d,(o||"").replace("g",""))},s.prototype.getLineTokens=function(d,o){if(o&&typeof o!="string"){var r=o.slice(0);o=r[0],o==="#tmp"&&(r.shift(),o=r.shift())}else var r=[];var a=o||"start",l=this.states[a];l||(a="start",l=this.states[a]);var h=this.matchMappings[a],f=this.regExps[a];f.lastIndex=0;for(var p,m=[],g=0,w=0,S={type:null,value:""};p=f.exec(d);){var b=h.defaultToken,_=null,x=p[0],C=f.lastIndex;if(C-x.length>g){var k=d.substring(g,C-x.length);S.type==b?S.value+=k:(S.type&&m.push(S),S={type:b,value:k})}for(var M=0;M<p.length-2;M++)if(p[M+1]!==void 0){_=l[h[M]],_.onMatch?b=_.onMatch(x,a,r,d):b=_.token,_.next&&(typeof _.next=="string"?a=_.next:a=_.next(a,r),l=this.states[a],l||(this.reportError("state doesn't exist",a),a="start",l=this.states[a]),h=this.matchMappings[a],g=C,f=this.regExps[a],f.lastIndex=C),_.consumeLineEnd&&(g=C);break}if(x){if(typeof b=="string")(!_||_.merge!==!1)&&S.type===b?S.value+=x:(S.type&&m.push(S),S={type:b,value:x});else if(b){S.type&&m.push(S),S={type:null,value:""};for(var M=0;M<b.length;M++)m.push(b[M])}}if(g==d.length)break;if(g=C,w++>y){for(w>2*d.length&&this.reportError("infinite loop with in ace tokenizer",{startState:o,line:d});g<d.length;)S.type&&m.push(S),S={value:d.substring(g,g+=500),type:"overflow"};a="start",r=[];break}}return S.type&&m.push(S),r.length>1&&r[0]!==a&&r.unshift("#tmp",a),{tokens:m,state:r.length?r:a}},s}();c.prototype.reportError=u,i.Tokenizer=c}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,i,v){var u=n("../lib/deep_copy").deepCopy,y;y=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(d,o){if(!o){for(var r in d)this.$rules[r]=d[r];return}for(var r in d){for(var a=d[r],l=0;l<a.length;l++){var h=a[l];(h.next||h.onMatch)&&(typeof h.next=="string"&&h.next.indexOf(o)!==0&&(h.next=o+h.next),h.nextState&&h.nextState.indexOf(o)!==0&&(h.nextState=o+h.nextState))}this.$rules[o+r]=a}},this.getRules=function(){return this.$rules},this.embedRules=function(d,o,r,a,l){var h=typeof d=="function"?new d().getRules():d;if(a)for(var f=0;f<a.length;f++)a[f]=o+a[f];else{a=[];for(var p in h)a.push(o+p)}if(this.addRules(h,o),r)for(var m=Array.prototype[l?"push":"unshift"],f=0;f<a.length;f++)m.apply(this.$rules[a[f]],u(r));this.$embeds||(this.$embeds=[]),this.$embeds.push(o)},this.getEmbeds=function(){return this.$embeds};var c=function(d,o){return(d!="start"||o.length)&&o.unshift(this.nextState,d),this.nextState},s=function(d,o){return o.shift(),o.shift()||"start"};this.normalizeRules=function(){var d=0,o=this.$rules;function r(a){var l=o[a];l.processed=!0;for(var h=0;h<l.length;h++){var f=l[h],p=null;Array.isArray(f)&&(p=f,f={}),!f.regex&&f.start&&(f.regex=f.start,f.next||(f.next=[]),f.next.push({defaultToken:f.token},{token:f.token+".end",regex:f.end||f.start,next:"pop"}),f.token=f.token+".start",f.push=!0);var m=f.next||f.push;if(m&&Array.isArray(m)){var g=f.stateName;g||(g=f.token,typeof g!="string"&&(g=g[0]||""),o[g]&&(g+=d++)),o[g]=m,f.next=g,r(g)}else m=="pop"&&(f.next=s);if(f.push&&(f.nextState=f.next||f.push,f.next=c,delete f.push),f.rules)for(var w in f.rules)o[w]?o[w].push&&o[w].push.apply(o[w],f.rules[w]):o[w]=f.rules[w];var S=typeof f=="string"?f:f.include;if(S&&(S==="$self"&&(S="start"),Array.isArray(S)?p=S.map(function(_){return o[_]}):p=o[S]),p){var b=[h,1].concat(p);f.noEscape&&(b=b.filter(function(_){return!_.next})),l.splice.apply(l,b),h--}f.keywordMap&&(f.token=this.createKeywordMapper(f.keywordMap,f.defaultToken||"text",f.caseInsensitive),delete f.defaultToken)}}Object.keys(o).forEach(r,this)},this.createKeywordMapper=function(d,o,r,a){var l=Object.create(null);return this.$keywordList=[],Object.keys(d).forEach(function(h){for(var f=d[h],p=f.split(a||"|"),m=p.length;m--;){var g=p[m];this.$keywordList.push(g),r&&(g=g.toLowerCase()),l[g]=h}},this),d=null,r?function(h){return l[h.toLowerCase()]||o}:function(h){return l[h]||o}},this.getKeywords=function(){return this.$keywords}}).call(y.prototype),i.TextHighlightRules=y}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,i,v){var u;u=function(){this.$behaviours={}},(function(){this.add=function(y,c,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[y]:this.$behaviours[y]={}}this.$behaviours[y][c]=s},this.addBehaviours=function(y){for(var c in y)for(var s in y[c])this.add(c,s,y[c][s])},this.remove=function(y){this.$behaviours&&this.$behaviours[y]&&delete this.$behaviours[y]},this.inherit=function(y,c){if(typeof y=="function")var s=new y().getBehaviours(c);else var s=y.getBehaviours(c);this.addBehaviours(s)},this.getBehaviours=function(y){if(y){for(var c={},s=0;s<y.length;s++)this.$behaviours[y[s]]&&(c[y[s]]=this.$behaviours[y[s]]);return c}else return this.$behaviours}}).call(u.prototype),i.Behaviour=u}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,i,v){var u=n("./range").Range,y=function(){function c(s,d,o){this.$session=s,this.$row=d,this.$rowTokens=s.getTokens(d);var r=s.getTokenAt(d,o);this.$tokenIndex=r?r.index:-1}return c.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},c.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},c.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},c.prototype.getCurrentTokenRow=function(){return this.$row},c.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,d=this.$tokenIndex,o=s[d].start;if(o!==void 0)return o;for(o=0;d>0;)d-=1,o+=s[d].value.length;return o},c.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},c.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],d=this.getCurrentTokenColumn();return new u(this.$row,d,this.$row,d+s.value.length)},c}();i.TokenIterator=y}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,i,v){var u=n("../../lib/oop"),y=n("../behaviour").Behaviour,c=n("../../token_iterator").TokenIterator,s=n("../../lib/lang"),d=["text","paren.rparen","rparen","paren","punctuation.operator"],o=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],r,a={},l={'"':'"',"'":"'"},h=function(m){var g=-1;if(m.multiSelect&&(g=m.selection.index,a.rangeCount!=m.multiSelect.rangeCount&&(a={rangeCount:m.multiSelect.rangeCount})),a[g])return r=a[g];r=a[g]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(m,g,w,S){var b=m.end.row-m.start.row;return{text:w+g+S,selection:[0,m.start.column+1,b,m.end.column+(b?0:1)]}},p;p=function(m){m=m||{},this.add("braces","insertion",function(g,w,S,b,_){var x=S.getCursorPosition(),C=b.doc.getLine(x.row);if(_=="{"){h(S);var k=S.getSelectionRange(),M=b.doc.getTextRange(k),T=b.getTokenAt(x.row,x.column);if(M!==""&&M!=="{"&&S.getWrapBehavioursEnabled())return f(k,M,"{","}");if(T&&/(?:string)\.quasi|\.xml/.test(T.type)){var L=[/tag\-(?:open|name)/,/attribute\-name/];return L.some(function(O){return O.test(T.type)})||/(string)\.quasi/.test(T.type)&&T.value[x.column-T.start-1]!=="$"?void 0:(p.recordAutoInsert(S,b,"}"),{text:"{}",selection:[1,1]})}else if(p.isSaneInsertion(S,b))return/[\]\}\)]/.test(C[x.column])||S.inMultiSelectMode||m.braces?(p.recordAutoInsert(S,b,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(S,b,"{"),{text:"{",selection:[1,1]})}else if(_=="}"){h(S);var E=C.substring(x.column,x.column+1);if(E=="}"){var A=b.$findOpeningBracket("}",{column:x.column+1,row:x.row});if(A!==null&&p.isAutoInsertedClosing(x,C,_))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(_==`
`||_==`\r
`){h(S);var R="";p.isMaybeInsertedClosing(x,C)&&(R=s.stringRepeat("}",r.maybeInsertedBrackets),p.clearMaybeInsertedClosing());var E=C.substring(x.column,x.column+1);if(E==="}"){var I=b.findMatchingBracket({row:x.row,column:x.column+1},"}");if(!I)return null;var D=this.$getIndent(b.getLine(I.row))}else if(R)var D=this.$getIndent(C);else{p.clearMaybeInsertedClosing();return}var P=D+b.getTabString();return{text:`
`+P+`
`+D+R,selection:[1,P.length,1,P.length]}}else p.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(g,w,S,b,_){var x=b.doc.getTextRange(_);if(!_.isMultiLine()&&x=="{"){h(S);var C=b.doc.getLine(_.start.row),k=C.substring(_.end.column,_.end.column+1);if(k=="}")return _.end.column++,_;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(g,w,S,b,_){if(_=="("){h(S);var x=S.getSelectionRange(),C=b.doc.getTextRange(x);if(C!==""&&S.getWrapBehavioursEnabled())return f(x,C,"(",")");if(p.isSaneInsertion(S,b))return p.recordAutoInsert(S,b,")"),{text:"()",selection:[1,1]}}else if(_==")"){h(S);var k=S.getCursorPosition(),M=b.doc.getLine(k.row),T=M.substring(k.column,k.column+1);if(T==")"){var L=b.$findOpeningBracket(")",{column:k.column+1,row:k.row});if(L!==null&&p.isAutoInsertedClosing(k,M,_))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(g,w,S,b,_){var x=b.doc.getTextRange(_);if(!_.isMultiLine()&&x=="("){h(S);var C=b.doc.getLine(_.start.row),k=C.substring(_.start.column+1,_.start.column+2);if(k==")")return _.end.column++,_}}),this.add("brackets","insertion",function(g,w,S,b,_){if(_=="["){h(S);var x=S.getSelectionRange(),C=b.doc.getTextRange(x);if(C!==""&&S.getWrapBehavioursEnabled())return f(x,C,"[","]");if(p.isSaneInsertion(S,b))return p.recordAutoInsert(S,b,"]"),{text:"[]",selection:[1,1]}}else if(_=="]"){h(S);var k=S.getCursorPosition(),M=b.doc.getLine(k.row),T=M.substring(k.column,k.column+1);if(T=="]"){var L=b.$findOpeningBracket("]",{column:k.column+1,row:k.row});if(L!==null&&p.isAutoInsertedClosing(k,M,_))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(g,w,S,b,_){var x=b.doc.getTextRange(_);if(!_.isMultiLine()&&x=="["){h(S);var C=b.doc.getLine(_.start.row),k=C.substring(_.start.column+1,_.start.column+2);if(k=="]")return _.end.column++,_}}),this.add("string_dquotes","insertion",function(g,w,S,b,_){var x=b.$mode.$quotes||l;if(_.length==1&&x[_]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(_)!=-1)return;h(S);var C=_,k=S.getSelectionRange(),M=b.doc.getTextRange(k);if(M!==""&&(M.length!=1||!x[M])&&S.getWrapBehavioursEnabled())return f(k,M,C,C);if(!M){var T=S.getCursorPosition(),L=b.doc.getLine(T.row),E=L.substring(T.column-1,T.column),A=L.substring(T.column,T.column+1),R=b.getTokenAt(T.row,T.column),I=b.getTokenAt(T.row,T.column+1);if(E=="\\"&&R&&/escape/.test(R.type))return null;var D=R&&/string|escape/.test(R.type),P=!I||/string|escape/.test(I.type),O;if(A==C)O=D!==P,O&&/string\.end/.test(I.type)&&(O=!1);else{if(D&&!P||D&&P)return null;var $=b.$mode.tokenRe;$.lastIndex=0;var N=$.test(E);$.lastIndex=0;var H=$.test(A),B=b.$mode.$pairQuotesAfter,z=B&&B[C]&&B[C].test(E);if(!z&&N||H||A&&!/[\s;,.})\]\\]/.test(A))return null;var U=L[T.column-2];if(E==C&&(U==C||$.test(U)))return null;O=!0}return{text:O?C+C:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(g,w,S,b,_){var x=b.$mode.$quotes||l,C=b.doc.getTextRange(_);if(!_.isMultiLine()&&x.hasOwnProperty(C)){h(S);var k=b.doc.getLine(_.start.row),M=k.substring(_.start.column+1,_.start.column+2);if(M==C)return _.end.column++,_}}),m.closeDocComment!==!1&&this.add("doc comment end","insertion",function(g,w,S,b,_){if(g==="doc-start"&&(_===`
`||_===`\r
`)&&S.selection.isEmpty()){var x=S.getCursorPosition(),C=b.doc.getLine(x.row),k=b.doc.getLine(x.row+1),M=this.$getIndent(C);if(/\s*\*/.test(k))return/^\s*\*/.test(C)?{text:_+M+"* ",selection:[1,3+M.length,1,3+M.length]}:{text:_+M+" * ",selection:[1,3+M.length,1,3+M.length]};if(/\/\*\*/.test(C.substring(0,x.column)))return{text:_+M+" * "+_+" "+M+"*/",selection:[1,4+M.length,1,4+M.length]}}})},p.isSaneInsertion=function(m,g){var w=m.getCursorPosition(),S=new c(g,w.row,w.column);if(!this.$matchTokenType(S.getCurrentToken()||"text",d)){if(/[)}\]]/.test(m.session.getLine(w.row)[w.column]))return!0;var b=new c(g,w.row,w.column+1);if(!this.$matchTokenType(b.getCurrentToken()||"text",d))return!1}return S.stepForward(),S.getCurrentTokenRow()!==w.row||this.$matchTokenType(S.getCurrentToken()||"text",o)},p.$matchTokenType=function(m,g){return g.indexOf(m.type||m)>-1},p.recordAutoInsert=function(m,g,w){var S=m.getCursorPosition(),b=g.doc.getLine(S.row);this.isAutoInsertedClosing(S,b,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=S.row,r.autoInsertedLineEnd=w+b.substr(S.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(m,g,w){var S=m.getCursorPosition(),b=g.doc.getLine(S.row);this.isMaybeInsertedClosing(S,b)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=S.row,r.maybeInsertedLineStart=b.substr(0,S.column)+w,r.maybeInsertedLineEnd=b.substr(S.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(m,g,w){return r.autoInsertedBrackets>0&&m.row===r.autoInsertedRow&&w===r.autoInsertedLineEnd[0]&&g.substr(m.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(m,g){return r.maybeInsertedBrackets>0&&m.row===r.maybeInsertedRow&&g.substr(m.column)===r.maybeInsertedLineEnd&&g.substr(0,m.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},u.inherits(p,y),i.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(n,i,v){for(var u=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],y=0,c=[],s=0;s<u.length;s+=2)c.push(y+=u[s]),u[s+1]&&c.push(45,y+=u[s+1]);i.wordChars=String.fromCharCode.apply(null,c)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,i,v){var u=n("../config"),y=n("../tokenizer").Tokenizer,c=n("./text_highlight_rules").TextHighlightRules,s=n("./behaviour/cstyle").CstyleBehaviour,d=n("../unicode"),o=n("../lib/lang"),r=n("../token_iterator").TokenIterator,a=n("../range").Range,l;l=function(){this.HighlightRules=c},(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+d.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+d.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new y(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(h,f,p,m){var g=f.doc,w=!0,S=!0,b=1/0,_=f.getTabSize(),x=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var M=this.lineCommentStart.map(o.escapeRegExp).join("|"),C=this.lineCommentStart[0];else var M=o.escapeRegExp(this.lineCommentStart),C=this.lineCommentStart;M=new RegExp("^(\\s*)(?:"+M+") ?"),x=f.getUseSoftTabs();var E=function(H,B){var z=H.match(M);if(z){var U=z[1].length,V=z[0].length;!I(H,U,V)&&z[0][V-1]==" "&&V--,g.removeInLine(B,U,V)}},R=C+" ",L=function(H,B){(!w||/\S/.test(H))&&(I(H,b,b)?g.insertInLine({row:B,column:b},R):g.insertInLine({row:B,column:b},C))},A=function(H,B){return M.test(H)},I=function(H,B,z){for(var U=0;B--&&H.charAt(B)==" ";)U++;if(U%_!=0)return!1;for(var U=0;H.charAt(z++)==" ";)U++;return _>2?U%_!=_-1:U%_==0}}else{if(!this.blockComment)return!1;var C=this.blockComment.start,k=this.blockComment.end,M=new RegExp("^(\\s*)(?:"+o.escapeRegExp(C)+")"),T=new RegExp("(?:"+o.escapeRegExp(k)+")\\s*$"),L=function(O,$){A(O,$)||(!w||/\S/.test(O))&&(g.insertInLine({row:$,column:O.length},k),g.insertInLine({row:$,column:b},C))},E=function(O,$){var N;(N=O.match(T))&&g.removeInLine($,O.length-N[0].length,O.length),(N=O.match(M))&&g.removeInLine($,N[1].length,N[0].length)},A=function(O,$){if(M.test(O))return!0;for(var N=f.getTokens($),H=0;H<N.length;H++)if(N[H].type==="comment")return!0}}function D(O){for(var $=p;$<=m;$++)O(g.getLine($),$)}var P=1/0;D(function(O,$){var N=O.search(/\S/);N!==-1?(N<b&&(b=N),S&&!A(O,$)&&(S=!1)):P>O.length&&(P=O.length)}),b==1/0&&(b=P,w=!1,S=!1),x&&b%_!=0&&(b=Math.floor(b/_)*_),D(S?E:L)},this.toggleBlockComment=function(h,f,p,m){var g=this.blockComment;if(g){!g.start&&g[0]&&(g=g[0]);var w=new r(f,m.row,m.column),S=w.getCurrentToken();f.selection;var b=f.selection.toOrientedRange(),_,x;if(S&&/comment/.test(S.type)){for(var C,k;S&&/comment/.test(S.type);){var M=S.value.indexOf(g.start);if(M!=-1){var T=w.getCurrentTokenRow(),L=w.getCurrentTokenColumn()+M;C=new a(T,L,T,L+g.start.length);break}S=w.stepBackward()}for(var w=new r(f,m.row,m.column),S=w.getCurrentToken();S&&/comment/.test(S.type);){var M=S.value.indexOf(g.end);if(M!=-1){var T=w.getCurrentTokenRow(),L=w.getCurrentTokenColumn()+M;k=new a(T,L,T,L+g.end.length);break}S=w.stepForward()}k&&f.remove(k),C&&(f.remove(C),_=C.start.row,x=-g.start.length)}else x=g.start.length,_=p.start.row,f.insert(p.end,g.end),f.insert(p.start,g.start);b.start.row==_&&(b.start.column+=x),b.end.row==_&&(b.end.column+=x),f.selection.fromOrientedRange(b)}},this.getNextLineIndent=function(h,f,p){return this.$getIndent(f)},this.checkOutdent=function(h,f,p){return!1},this.autoOutdent=function(h,f,p){},this.$getIndent=function(h){return h.match(/^\s*/)[0]},this.createWorker=function(h){return null},this.createModeDelegates=function(h){this.$embeds=[],this.$modes={};for(var f in h)if(h[f]){var p=h[f],m=p.prototype.$id,g=u.$modes[m];g||(u.$modes[m]=g=new p),u.$modes[f]||(u.$modes[f]=g),this.$embeds.push(f),this.$modes[f]=g}for(var w=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],S=function(_){(function(x){var C=w[_],k=x[C];x[w[_]]=function(){return this.$delegator(C,arguments,k)}})(b)},b=this,f=0;f<w.length;f++)S(f)},this.$delegator=function(h,f,p){var m=f[0]||"start";if(typeof m!="string"){if(Array.isArray(m[2])){var g=m[2][m[2].length-1],w=this.$modes[g];if(w)return w[h].apply(w,[m[1]].concat([].slice.call(f,1)))}m=m[0]||"start"}for(var S=0;S<this.$embeds.length;S++)if(this.$modes[this.$embeds[S]]){var b=m.split(this.$embeds[S]);if(!b[0]&&b[1]){f[0]=b[1];var w=this.$modes[this.$embeds[S]];return w[h].apply(w,f)}}var _=p.apply(this,f);return p?_:void 0},this.transformAction=function(h,f,p,m,g){if(this.$behaviour){var w=this.$behaviour.getBehaviours();for(var S in w)if(w[S][f]){var b=w[S][f].apply(this,arguments);if(b)return b}}},this.getKeywords=function(h){if(!this.completionKeywords){var f=this.$tokenizer.rules,p=[];for(var m in f)for(var g=f[m],w=0,S=g.length;w<S;w++)if(typeof g[w].token=="string")/keyword|support|storage/.test(g[w].token)&&p.push(g[w].regex);else if(typeof g[w].token=="object"){for(var b=0,_=g[w].token.length;b<_;b++)if(/keyword|support|storage/.test(g[w].token[b])){var m=g[w].regex.match(/\(.+?\)/g)[b];p.push(m.substr(1,m.length-2))}}this.completionKeywords=p}return h?p.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(h,f,p,m){var g=this.$keywordList||this.$createKeywordList();return g.map(function(w){return{name:w,value:w,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(l.prototype),i.Mode=l}),ace.define("ace/apply_delta",["require","exports","module"],function(n,i,v){i.applyDelta=function(u,y,c){var s=y.start.row,d=y.start.column,o=u[s]||"";switch(y.action){case"insert":var r=y.lines;if(r.length===1)u[s]=o.substring(0,d)+y.lines[0]+o.substring(d);else{var a=[s,1].concat(y.lines);u.splice.apply(u,a),u[s]=o.substring(0,d)+u[s],u[s+y.lines.length-1]+=o.substring(d)}break;case"remove":var l=y.end.column,h=y.end.row;s===h?u[s]=o.substring(0,d)+o.substring(l):u.splice(s,h-s+1,o.substring(0,d)+u[h].substring(l));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,i,v){var u=n("./lib/oop"),y=n("./lib/event_emitter").EventEmitter,c=function(){function o(r,a,l){this.$onChange=this.onChange.bind(this),this.attach(r),typeof a!="number"?this.setPosition(a.row,a.column):this.setPosition(a,l)}return o.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},o.prototype.getDocument=function(){return this.document},o.prototype.onChange=function(r){if(!(r.start.row==r.end.row&&r.start.row!=this.row)&&!(r.start.row>this.row)){var a=d(r,{row:this.row,column:this.column},this.$insertRight);this.setPosition(a.row,a.column,!0)}},o.prototype.setPosition=function(r,a,l){var h;if(l?h={row:r,column:a}:h=this.$clipPositionToDocument(r,a),!(this.row==h.row&&this.column==h.column)){var f={row:this.row,column:this.column};this.row=h.row,this.column=h.column,this._signal("change",{old:f,value:h})}},o.prototype.detach=function(){this.document.off("change",this.$onChange)},o.prototype.attach=function(r){this.document=r||this.document,this.document.on("change",this.$onChange)},o.prototype.$clipPositionToDocument=function(r,a){var l={};return r>=this.document.getLength()?(l.row=Math.max(0,this.document.getLength()-1),l.column=this.document.getLine(l.row).length):r<0?(l.row=0,l.column=0):(l.row=r,l.column=Math.min(this.document.getLine(l.row).length,Math.max(0,a))),a<0&&(l.column=0),l},o}();c.prototype.$insertRight=!1,u.implement(c.prototype,y);function s(o,r,a){var l=a?o.column<=r.column:o.column<r.column;return o.row<r.row||o.row==r.row&&l}function d(o,r,a){var l=o.action=="insert",h=(l?1:-1)*(o.end.row-o.start.row),f=(l?1:-1)*(o.end.column-o.start.column),p=o.start,m=l?p:o.end;return s(r,p,a)?{row:r.row,column:r.column}:s(m,r,!a)?{row:r.row+h,column:r.column+(r.row==m.row?f:0)}:{row:p.row,column:p.column}}i.Anchor=c}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,i,v){var u=n("./lib/oop"),y=n("./apply_delta").applyDelta,c=n("./lib/event_emitter").EventEmitter,s=n("./range").Range,d=n("./anchor").Anchor,o=function(){function r(a){this.$lines=[""],a.length===0?this.$lines=[""]:Array.isArray(a)?this.insertMergedLines({row:0,column:0},a):this.insert({row:0,column:0},a)}return r.prototype.setValue=function(a){var l=this.getLength()-1;this.remove(new s(0,0,l,this.getLine(l).length)),this.insert({row:0,column:0},a||"")},r.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},r.prototype.createAnchor=function(a,l){return new d(this,a,l)},r.prototype.$detectNewLine=function(a){var l=a.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=l?l[1]:`
`,this._signal("changeNewLineMode")},r.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},r.prototype.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a,this._signal("changeNewLineMode"))},r.prototype.getNewLineMode=function(){return this.$newLineMode},r.prototype.isNewLine=function(a){return a==`\r
`||a=="\r"||a==`
`},r.prototype.getLine=function(a){return this.$lines[a]||""},r.prototype.getLines=function(a,l){return this.$lines.slice(a,l+1)},r.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},r.prototype.getLength=function(){return this.$lines.length},r.prototype.getTextRange=function(a){return this.getLinesForRange(a).join(this.getNewLineCharacter())},r.prototype.getLinesForRange=function(a){var l;if(a.start.row===a.end.row)l=[this.getLine(a.start.row).substring(a.start.column,a.end.column)];else{l=this.getLines(a.start.row,a.end.row),l[0]=(l[0]||"").substring(a.start.column);var h=l.length-1;a.end.row-a.start.row==h&&(l[h]=l[h].substring(0,a.end.column))}return l},r.prototype.insertLines=function(a,l){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(a,l)},r.prototype.removeLines=function(a,l){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(a,l)},r.prototype.insertNewLine=function(a){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(a,["",""])},r.prototype.insert=function(a,l){return this.getLength()<=1&&this.$detectNewLine(l),this.insertMergedLines(a,this.$split(l))},r.prototype.insertInLine=function(a,l){var h=this.clippedPos(a.row,a.column),f=this.pos(a.row,a.column+l.length);return this.applyDelta({start:h,end:f,action:"insert",lines:[l]},!0),this.clonePos(f)},r.prototype.clippedPos=function(a,l){var h=this.getLength();a===void 0?a=h:a<0?a=0:a>=h&&(a=h-1,l=void 0);var f=this.getLine(a);return l==null&&(l=f.length),l=Math.min(Math.max(l,0),f.length),{row:a,column:l}},r.prototype.clonePos=function(a){return{row:a.row,column:a.column}},r.prototype.pos=function(a,l){return{row:a,column:l}},r.prototype.$clipPosition=function(a){var l=this.getLength();return a.row>=l?(a.row=Math.max(0,l-1),a.column=this.getLine(l-1).length):(a.row=Math.max(0,a.row),a.column=Math.min(Math.max(a.column,0),this.getLine(a.row).length)),a},r.prototype.insertFullLines=function(a,l){a=Math.min(Math.max(a,0),this.getLength());var h=0;a<this.getLength()?(l=l.concat([""]),h=0):(l=[""].concat(l),a--,h=this.$lines[a].length),this.insertMergedLines({row:a,column:h},l)},r.prototype.insertMergedLines=function(a,l){var h=this.clippedPos(a.row,a.column),f={row:h.row+l.length-1,column:(l.length==1?h.column:0)+l[l.length-1].length};return this.applyDelta({start:h,end:f,action:"insert",lines:l}),this.clonePos(f)},r.prototype.remove=function(a){var l=this.clippedPos(a.start.row,a.start.column),h=this.clippedPos(a.end.row,a.end.column);return this.applyDelta({start:l,end:h,action:"remove",lines:this.getLinesForRange({start:l,end:h})}),this.clonePos(l)},r.prototype.removeInLine=function(a,l,h){var f=this.clippedPos(a,l),p=this.clippedPos(a,h);return this.applyDelta({start:f,end:p,action:"remove",lines:this.getLinesForRange({start:f,end:p})},!0),this.clonePos(f)},r.prototype.removeFullLines=function(a,l){a=Math.min(Math.max(0,a),this.getLength()-1),l=Math.min(Math.max(0,l),this.getLength()-1);var h=l==this.getLength()-1&&a>0,f=l<this.getLength()-1,p=h?a-1:a,m=h?this.getLine(p).length:0,g=f?l+1:l,w=f?0:this.getLine(g).length,S=new s(p,m,g,w),b=this.$lines.slice(a,l+1);return this.applyDelta({start:S.start,end:S.end,action:"remove",lines:this.getLinesForRange(S)}),b},r.prototype.removeNewLine=function(a){a<this.getLength()-1&&a>=0&&this.applyDelta({start:this.pos(a,this.getLine(a).length),end:this.pos(a+1,0),action:"remove",lines:["",""]})},r.prototype.replace=function(a,l){if(a instanceof s||(a=s.fromPoints(a.start,a.end)),l.length===0&&a.isEmpty())return a.start;if(l==this.getTextRange(a))return a.end;this.remove(a);var h;return l?h=this.insert(a.start,l):h=a.start,h},r.prototype.applyDeltas=function(a){for(var l=0;l<a.length;l++)this.applyDelta(a[l])},r.prototype.revertDeltas=function(a){for(var l=a.length-1;l>=0;l--)this.revertDelta(a[l])},r.prototype.applyDelta=function(a,l){var h=a.action=="insert";(h?a.lines.length<=1&&!a.lines[0]:!s.comparePoints(a.start,a.end))||(h&&a.lines.length>2e4?this.$splitAndapplyLargeDelta(a,2e4):(y(this.$lines,a,l),this._signal("change",a)))},r.prototype.$safeApplyDelta=function(a){var l=this.$lines.length;(a.action=="remove"&&a.start.row<l&&a.end.row<l||a.action=="insert"&&a.start.row<=l)&&this.applyDelta(a)},r.prototype.$splitAndapplyLargeDelta=function(a,l){for(var h=a.lines,f=h.length-l+1,p=a.start.row,m=a.start.column,g=0,w=0;g<f;g=w){w+=l-1;var S=h.slice(g,w);S.push(""),this.applyDelta({start:this.pos(p+g,m),end:this.pos(p+w,m=0),action:a.action,lines:S},!0)}a.lines=h.slice(g),a.start.row=p+g,a.start.column=m,this.applyDelta(a,!0)},r.prototype.revertDelta=function(a){this.$safeApplyDelta({start:this.clonePos(a.start),end:this.clonePos(a.end),action:a.action=="insert"?"remove":"insert",lines:a.lines.slice()})},r.prototype.indexToPosition=function(a,l){for(var h=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,p=l||0,m=h.length;p<m;p++)if(a-=h[p].length+f,a<0)return{row:p,column:a+h[p].length+f};return{row:m-1,column:a+h[m-1].length+f}},r.prototype.positionToIndex=function(a,l){for(var h=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,p=0,m=Math.min(a.row,h.length),g=l||0;g<m;++g)p+=h[g].length+f;return p+a.column},r.prototype.$split=function(a){return a.split(/\r\n|\r|\n/)},r}();o.prototype.$autoNewLine="",o.prototype.$newLineMode="auto",u.implement(o.prototype,c),i.Document=o}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,i,v){var u=n("./lib/oop"),y=n("./lib/event_emitter").EventEmitter,c=function(){function s(d,o){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=d;var r=this;this.$worker=function(){if(r.running){for(var a=new Date,l=r.currentLine,h=-1,f=r.doc,p=l;r.lines[l];)l++;var m=f.getLength(),g=0;for(r.running=!1;l<m;){r.$tokenizeRow(l),h=l;do l++;while(r.lines[l]);if(g++,g%5===0&&new Date-a>20){r.running=setTimeout(r.$worker,20);break}}r.currentLine=l,h==-1&&(h=l),p<=h&&r.fireUpdateEvent(p,h)}}}return s.prototype.setTokenizer=function(d){this.tokenizer=d,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(d){this.doc=d,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(d,o){var r={first:d,last:o};this._signal("update",{data:r})},s.prototype.start=function(d){this.currentLine=Math.min(d||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(d){var o=d.start.row,r=d.end.row-o;if(r===0)this.lines[o]=null;else if(d.action=="remove")this.lines.splice(o,r+1,null),this.states.splice(o,r+1,null);else{var a=Array(r+1);a.unshift(o,1),this.lines.splice.apply(this.lines,a),this.states.splice.apply(this.states,a)}this.currentLine=Math.min(o,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(d){return this.lines[d]||this.$tokenizeRow(d)},s.prototype.getState=function(d){return this.currentLine==d&&this.$tokenizeRow(d),this.states[d]||"start"},s.prototype.$tokenizeRow=function(d){var o=this.doc.getLine(d),r=this.states[d-1],a=this.tokenizer.getLineTokens(o,r,d);return this.states[d]+""!=a.state+""?(this.states[d]=a.state,this.lines[d+1]=null,this.currentLine>d+1&&(this.currentLine=d+1)):this.currentLine==d&&(this.currentLine=d+1),this.lines[d]=a.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();u.implement(c.prototype,y),i.BackgroundTokenizer=c}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,i,v){var u=n("./lib/lang"),y=n("./range").Range,c=function(){function s(d,o,r){r===void 0&&(r="text"),this.setRegexp(d),this.clazz=o,this.type=r}return s.prototype.setRegexp=function(d){this.regExp+""!=d+""&&(this.regExp=d,this.cache=[])},s.prototype.update=function(d,o,r,a){if(this.regExp)for(var l=a.firstRow,h=a.lastRow,f={},p=l;p<=h;p++){var m=this.cache[p];m==null&&(m=u.getMatchOffsets(r.getLine(p),this.regExp),m.length>this.MAX_RANGES&&(m=m.slice(0,this.MAX_RANGES)),m=m.map(function(b){return new y(p,b.offset,p,b.offset+b.length)}),this.cache[p]=m.length?m:"");for(var g=m.length;g--;){var w=m[g].toScreenRange(r),S=w.toString();f[S]||(f[S]=!0,o.drawSingleLineMarker(d,w,this.clazz,a))}}},s}();c.prototype.MAX_RANGES=500,i.SearchHighlight=c}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,i,v){var u=function(){function b(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return b.prototype.addSession=function(_){this.$session=_},b.prototype.add=function(_,x,C){if(!this.$fromUndo&&_!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),x===!1||!this.lastDeltas){this.lastDeltas=[];var k=this.$undoStack.length;k>this.$undoDepth-1&&this.$undoStack.splice(0,k-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),_.id=this.$rev=++this.$maxRev}(_.action=="remove"||_.action=="insert")&&(this.$lastDelta=_),this.lastDeltas.push(_)}},b.prototype.addSelection=function(_,x){this.selections.push({value:_,rev:x||this.$rev})},b.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},b.prototype.markIgnored=function(_,x){x==null&&(x=this.$rev+1);for(var C=this.$undoStack,k=C.length;k--;){var M=C[k][0];if(M.id<=_)break;M.id<x&&(M.ignore=!0)}this.lastDeltas=null},b.prototype.getSelection=function(_,x){for(var C=this.selections,k=C.length;k--;){var M=C[k];if(M.rev<_)return x&&(M=C[k+1]),M}},b.prototype.getRevision=function(){return this.$rev},b.prototype.getDeltas=function(_,x){x==null&&(x=this.$rev+1);for(var C=this.$undoStack,k=null,M=0,T=C.length;T--;){var L=C[T][0];if(L.id<x&&!k&&(k=T+1),L.id<=_){M=T+1;break}}return C.slice(M,k)},b.prototype.getChangedRanges=function(_,x){x==null&&(x=this.$rev+1)},b.prototype.getChangedLines=function(_,x){x==null&&(x=this.$rev+1)},b.prototype.undo=function(_,x){this.lastDeltas=null;var C=this.$undoStack;if(y(C,C.length)){_||(_=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var k=C.pop(),M=null;return k&&(M=_.undoChanges(k,x),this.$redoStack.push(k),this.$syncRev()),this.$fromUndo=!1,M}},b.prototype.redo=function(_,x){if(this.lastDeltas=null,_||(_=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var C=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);S(this.$redoStack,C),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(T){T[0].id=++this.$maxRev},this)}var k=this.$redoStack.pop(),M=null;return k&&(M=_.redoChanges(k,x),this.$undoStack.push(k),this.$syncRev()),this.$fromUndo=!1,M},b.prototype.$syncRev=function(){var _=this.$undoStack,x=_[_.length-1],C=x&&x[0].id||0;this.$redoStackBaseRev=C,this.$rev=C},b.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},b.prototype.canUndo=function(){return this.$undoStack.length>0},b.prototype.canRedo=function(){return this.$redoStack.length>0},b.prototype.bookmark=function(_){_==null&&(_=this.$rev),this.mark=_},b.prototype.isAtBookmark=function(){return this.$rev===this.mark},b.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},b.prototype.fromJSON=function(_){this.reset(),this.$undoStack=_.$undoStack,this.$redoStack=_.$redoStack},b.prototype.$prettyPrint=function(_){return _?r(_):r(this.$undoStack)+`
---
`+r(this.$redoStack)},b}();u.prototype.hasUndo=u.prototype.canUndo,u.prototype.hasRedo=u.prototype.canRedo,u.prototype.isClean=u.prototype.isAtBookmark,u.prototype.markClean=u.prototype.bookmark;function y(b,_){for(var x=_;x--;){var C=b[x];if(C&&!C[0].ignore){for(;x<_-1;){var k=h(b[x],b[x+1]);b[x]=k[0],b[x+1]=k[1],x++}return!0}}}var c=n("./range").Range,s=c.comparePoints;c.comparePoints;function d(b){return{row:b.row,column:b.column}}function o(b){return{start:d(b.start),end:d(b.end),action:b.action,lines:b.lines.slice()}}function r(b){if(b=b||this,Array.isArray(b))return b.map(r).join(`
`);var _="";return b.action?(_=b.action=="insert"?"+":"-",_+="["+b.lines+"]"):b.value&&(Array.isArray(b.value)?_=b.value.map(a).join(`
`):_=a(b.value)),b.start&&(_+=a(b)),(b.id||b.rev)&&(_+="	("+(b.id||b.rev)+")"),_}function a(b){return b.start.row+":"+b.start.column+"=>"+b.end.row+":"+b.end.column}function l(b,_){var x=b.action=="insert",C=_.action=="insert";if(x&&C)if(s(_.start,b.end)>=0)p(_,b,-1);else if(s(_.start,b.start)<=0)p(b,_,1);else return null;else if(x&&!C)if(s(_.start,b.end)>=0)p(_,b,-1);else if(s(_.end,b.start)<=0)p(b,_,-1);else return null;else if(!x&&C)if(s(_.start,b.start)>=0)p(_,b,1);else if(s(_.start,b.start)<=0)p(b,_,1);else return null;else if(!x&&!C)if(s(_.start,b.start)>=0)p(_,b,1);else if(s(_.end,b.start)<=0)p(b,_,-1);else return null;return[_,b]}function h(b,_){for(var x=b.length;x--;)for(var C=0;C<_.length;C++)if(!l(b[x],_[C])){for(;x<b.length;){for(;C--;)l(_[C],b[x]);C=_.length,x++}return[b,_]}return b.selectionBefore=_.selectionBefore=b.selectionAfter=_.selectionAfter=null,[_,b]}function f(b,_){var x=b.action=="insert",C=_.action=="insert";if(x&&C)s(b.start,_.start)<0?p(_,b,1):p(b,_,1);else if(x&&!C)s(b.start,_.end)>=0?p(b,_,-1):(s(b.start,_.start)<=0||p(b,c.fromPoints(_.start,b.start),-1),p(_,b,1));else if(!x&&C)s(_.start,b.end)>=0?p(_,b,-1):(s(_.start,b.start)<=0||p(_,c.fromPoints(b.start,_.start),-1),p(b,_,1));else if(!x&&!C)if(s(_.start,b.end)>=0)p(_,b,-1);else if(s(_.end,b.start)<=0)p(b,_,-1);else{var k,M;return s(b.start,_.start)<0&&(k=b,b=g(b,_.start)),s(b.end,_.end)>0&&(M=g(b,_.end)),m(_.end,b.start,b.end,-1),M&&!k&&(b.lines=M.lines,b.start=M.start,b.end=M.end,M=b),[_,k,M].filter(Boolean)}return[_,b]}function p(b,_,x){m(b.start,_.start,_.end,x),m(b.end,_.start,_.end,x)}function m(b,_,x,C){b.row==(C==1?_:x).row&&(b.column+=C*(x.column-_.column)),b.row+=C*(x.row-_.row)}function g(b,_){var x=b.lines,C=b.end;b.end=d(_);var k=b.end.row-b.start.row,M=x.splice(k,x.length),T=k?_.column:_.column-b.start.column;x.push(M[0].substring(0,T)),M[0]=M[0].substr(T);var L={start:d(_),end:C,lines:M,action:b.action};return L}function w(b,_){_=o(_);for(var x=b.length;x--;){for(var C=b[x],k=0;k<C.length;k++){var M=C[k],T=f(M,_);_=T[0],T.length!=2&&(T[2]?(C.splice(k+1,1,T[1],T[2]),k++):T[1]||(C.splice(k,1),k--))}C.length||b.splice(x,1)}return b}function S(b,_){for(var x=0;x<_.length;x++)for(var C=_[x],k=0;k<C.length;k++)w(b,C[k])}i.UndoManager=u}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,i,v){var u=n("../range").Range,y=function(){function c(s,d){this.foldData=s,Array.isArray(d)?this.folds=d:d=this.folds=[d];var o=d[d.length-1];this.range=new u(d[0].start.row,d[0].start.column,o.end.row,o.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(r){r.setFoldLine(this)},this)}return c.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(d){d.start.row+=s,d.end.row+=s})},c.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(d,o){return-d.range.compareEnd(o.start.row,o.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},c.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},c.prototype.walk=function(s,d,o){var r=0,a=this.folds,l,h,f,p=!0;d==null&&(d=this.end.row,o=this.end.column);for(var m=0;m<a.length;m++){if(l=a[m],h=l.range.compareStart(d,o),h==-1){s(null,d,o,r,p);return}if(f=s(null,l.start.row,l.start.column,r,p),f=!f&&s(l.placeholder,l.start.row,l.start.column,r),f||h===0)return;p=!l.sameRow,r=l.end.column}s(null,d,o,r,p)},c.prototype.getNextFoldTo=function(s,d){for(var o,r,a=0;a<this.folds.length;a++){if(o=this.folds[a],r=o.range.compareEnd(s,d),r==-1)return{fold:o,kind:"after"};if(r===0)return{fold:o,kind:"inside"}}return null},c.prototype.addRemoveChars=function(s,d,o){var r=this.getNextFoldTo(s,d),a,l;if(r){if(a=r.fold,r.kind=="inside"&&a.start.column!=d&&a.start.row!=s)window.console&&window.console.log(s,d,a);else if(a.start.row==s){l=this.folds;var h=l.indexOf(a);for(h===0&&(this.start.column+=o),h;h<l.length;h++){if(a=l[h],a.start.column+=o,!a.sameRow)return;a.end.column+=o}this.end.column+=o}}},c.prototype.split=function(s,d){var o=this.getNextFoldTo(s,d);if(!o||o.kind=="inside")return null;var r=o.fold,a=this.folds,l=this.foldData,h=a.indexOf(r),f=a[h-1];this.end.row=f.end.row,this.end.column=f.end.column,a=a.splice(h,a.length-h);var p=new c(l,a);return l.splice(l.indexOf(this)+1,0,p),p},c.prototype.merge=function(s){for(var d=s.folds,o=0;o<d.length;o++)this.addFold(d[o]);var r=this.foldData;r.splice(r.indexOf(s),1)},c.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(d){s.push("  "+d.toString())}),s.push("]"),s.join(`
`)},c.prototype.idxToPosition=function(s){for(var d=0,o=0;o<this.folds.length;o++){var r=this.folds[o];if(s-=r.start.column-d,s<0)return{row:r.start.row,column:r.start.column+s};if(s-=r.placeholder.length,s<0)return r.start;d=r.end.column}return{row:this.end.row,column:this.end.column+s}},c}();i.FoldLine=y}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,i,v){var u=n("./range").Range,y=u.comparePoints,c=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(d,o,r){for(var a=this.ranges,l=r||0;l<a.length;l++){var h=a[l],f=y(d,h.end);if(!(f>0)){var p=y(d,h.start);return f===0?o&&p!==0?-l-2:l:p>0||p===0&&!o?l:-l-1}}return-l-1},s.prototype.add=function(d){var o=!d.isEmpty(),r=this.pointIndex(d.start,o);r<0&&(r=-r-1);var a=this.pointIndex(d.end,o,r);return a<0?a=-a-1:a++,this.ranges.splice(r,a-r,d)},s.prototype.addList=function(d){for(var o=[],r=d.length;r--;)o.push.apply(o,this.add(d[r]));return o},s.prototype.substractPoint=function(d){var o=this.pointIndex(d);if(o>=0)return this.ranges.splice(o,1)},s.prototype.merge=function(){var d=[],o=this.ranges;o=o.sort(function(f,p){return y(f.start,p.start)});for(var r=o[0],a,l=1;l<o.length;l++){a=r,r=o[l];var h=y(a.end,r.start);h<0||h==0&&!a.isEmpty()&&!r.isEmpty()||(y(a.end,r.end)<0&&(a.end.row=r.end.row,a.end.column=r.end.column),o.splice(l,1),d.push(r),r=a,l--)}return this.ranges=o,d},s.prototype.contains=function(d,o){return this.pointIndex({row:d,column:o})>=0},s.prototype.containsPoint=function(d){return this.pointIndex(d)>=0},s.prototype.rangeAtPoint=function(d){var o=this.pointIndex(d);if(o>=0)return this.ranges[o]},s.prototype.clipRows=function(d,o){var r=this.ranges;if(r[0].start.row>o||r[r.length-1].start.row<d)return[];var a=this.pointIndex({row:d,column:0});a<0&&(a=-a-1);var l=this.pointIndex({row:o,column:0},a);l<0&&(l=-l-1);for(var h=[],f=a;f<l;f++)h.push(r[f]);return h},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(d){this.session&&this.detach(),this.session=d,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(d){for(var o=d.start,r=d.end,a=o.row,l=r.row,h=this.ranges,f=0,p=h.length;f<p;f++){var m=h[f];if(m.end.row>=a)break}if(d.action=="insert")for(var g=l-a,w=-o.column+r.column;f<p;f++){var m=h[f];if(m.start.row>a)break;if(m.start.row==a&&m.start.column>=o.column&&(m.start.column==o.column&&this.$bias<=0||(m.start.column+=w,m.start.row+=g)),m.end.row==a&&m.end.column>=o.column){if(m.end.column==o.column&&this.$bias<0)continue;m.end.column==o.column&&w>0&&f<p-1&&m.end.column>m.start.column&&m.end.column==h[f+1].start.column&&(m.end.column-=w),m.end.column+=w,m.end.row+=g}}else for(var g=a-l,w=o.column-r.column;f<p;f++){var m=h[f];if(m.start.row>l)break;m.end.row<l&&(a<m.end.row||a==m.end.row&&o.column<m.end.column)?(m.end.row=a,m.end.column=o.column):m.end.row==l?m.end.column<=r.column?(g||m.end.column>o.column)&&(m.end.column=o.column,m.end.row=o.row):(m.end.column+=w,m.end.row+=g):m.end.row>l&&(m.end.row+=g),m.start.row<l&&(a<m.start.row||a==m.start.row&&o.column<m.start.column)?(m.start.row=a,m.start.column=o.column):m.start.row==l?m.start.column<=r.column?(g||m.start.column>o.column)&&(m.start.column=o.column,m.start.row=o.row):(m.start.column+=w,m.start.row+=g):m.start.row>l&&(m.start.row+=g)}if(g!=0&&f<p)for(;f<p;f++){var m=h[f];m.start.row+=g,m.end.row+=g}},s}();c.prototype.comparePoints=y,i.RangeList=c}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,i,v){var u=this&&this.__extends||function(){var a=function(l,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])},a(l,h)};return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");a(l,h);function f(){this.constructor=l}l.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),y=n("../range_list").RangeList,c=function(a){u(l,a);function l(h,f){var p=a.call(this)||this;return p.foldLine=null,p.placeholder=f,p.range=h,p.start=h.start,p.end=h.end,p.sameRow=h.start.row==h.end.row,p.subFolds=p.ranges=[],p}return l.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},l.prototype.setFoldLine=function(h){this.foldLine=h,this.subFolds.forEach(function(f){f.setFoldLine(h)})},l.prototype.clone=function(){var h=this.range.clone(),f=new l(h,this.placeholder);return this.subFolds.forEach(function(p){f.subFolds.push(p.clone())}),f.collapseChildren=this.collapseChildren,f},l.prototype.addSubFold=function(h){if(!this.range.isEqual(h)){d(h,this.start);for(var w=h.start.row,S=h.start.column,f=0,p=-1;f<this.subFolds.length&&(p=this.subFolds[f].range.compare(w,S),p==1);f++);var m=this.subFolds[f],g=0;if(p==0){if(m.range.containsRange(h))return m.addSubFold(h);g=1}for(var w=h.range.end.row,S=h.range.end.column,b=f,p=-1;b<this.subFolds.length&&(p=this.subFolds[b].range.compare(w,S),p==1);b++);p==0&&b++;for(var _=this.subFolds.splice(f,b-f,h),x=p==0?_.length-1:_.length,C=g;C<x;C++)h.addSubFold(_[C]);return h.setFoldLine(this.foldLine),h}},l.prototype.restoreRange=function(h){return r(h,this.start)},l}(y);function s(a,l){a.row-=l.row,a.row==0&&(a.column-=l.column)}function d(a,l){s(a.start,l),s(a.end,l)}function o(a,l){a.row==0&&(a.column+=l.column),a.row+=l.row}function r(a,l){o(a.start,l),o(a.end,l)}i.Fold=c}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,i,v){var u=n("../range").Range,y=n("./fold_line").FoldLine,c=n("./fold").Fold,s=n("../token_iterator").TokenIterator,d=n("../mouse/mouse_event").MouseEvent;function o(){this.getFoldAt=function(r,a,l){var h=this.getFoldLine(r);if(!h)return null;for(var f=h.folds,p=0;p<f.length;p++){var m=f[p].range;if(m.contains(r,a)){if(l==1&&m.isEnd(r,a)&&!m.isEmpty())continue;if(l==-1&&m.isStart(r,a)&&!m.isEmpty())continue;return f[p]}}},this.getFoldsInRange=function(r){var a=r.start,l=r.end,h=this.$foldData,f=[];a.column+=1,l.column-=1;for(var p=0;p<h.length;p++){var m=h[p].range.compareRange(r);if(m!=2){if(m==-2)break;for(var g=h[p].folds,w=0;w<g.length;w++){var S=g[w];if(m=S.range.compareRange(r),m==-2)break;if(m==2)continue;if(m==42)break;f.push(S)}}}return a.column-=1,l.column+=1,f},this.getFoldsInRangeList=function(r){if(Array.isArray(r)){var a=[];r.forEach(function(l){a=a.concat(this.getFoldsInRange(l))},this)}else var a=this.getFoldsInRange(r);return a},this.getAllFolds=function(){for(var r=[],a=this.$foldData,l=0;l<a.length;l++)for(var h=0;h<a[l].folds.length;h++)r.push(a[l].folds[h]);return r},this.getFoldStringAt=function(r,a,l,h){if(h=h||this.getFoldLine(r),!h)return null;for(var f={end:{column:0}},p,m,g=0;g<h.folds.length;g++){m=h.folds[g];var w=m.range.compareEnd(r,a);if(w==-1){p=this.getLine(m.start.row).substring(f.end.column,m.start.column);break}else if(w===0)return null;f=m}return p||(p=this.getLine(m.start.row).substring(f.end.column)),l==-1?p.substring(0,a-f.end.column):l==1?p.substring(a-f.end.column):p},this.getFoldLine=function(r,a){var l=this.$foldData,h=0;for(a&&(h=l.indexOf(a)),h==-1&&(h=0),h;h<l.length;h++){var f=l[h];if(f.start.row<=r&&f.end.row>=r)return f;if(f.end.row>r)return null}return null},this.getNextFoldLine=function(r,a){var l=this.$foldData,h=0;for(a&&(h=l.indexOf(a)),h==-1&&(h=0),h;h<l.length;h++){var f=l[h];if(f.end.row>=r)return f}return null},this.getFoldedRowCount=function(r,a){for(var l=this.$foldData,h=a-r+1,f=0;f<l.length;f++){var p=l[f],m=p.end.row,g=p.start.row;if(m>=a){g<a&&(g>=r?h-=a-g:h=0);break}else m>=r&&(g>=r?h-=m-g:h-=m-r+1)}return h},this.$addFoldLine=function(r){return this.$foldData.push(r),this.$foldData.sort(function(a,l){return a.start.row-l.start.row}),r},this.addFold=function(r,a){var l=this.$foldData,h=!1,f;r instanceof c?f=r:(f=new c(a,r),f.collapseChildren=a.collapseChildren),this.$clipRangeToDocument(f.range);var p=f.start.row,m=f.start.column,g=f.end.row,w=f.end.column,S=this.getFoldAt(p,m,1),b=this.getFoldAt(g,w,-1);if(S&&b==S)return S.addSubFold(f);S&&!S.range.isStart(p,m)&&this.removeFold(S),b&&!b.range.isEnd(g,w)&&this.removeFold(b);var _=this.getFoldsInRange(f.range);_.length>0&&(this.removeFolds(_),f.collapseChildren||_.forEach(function(M){f.addSubFold(M)}));for(var x=0;x<l.length;x++){var C=l[x];if(g==C.start.row){C.addFold(f),h=!0;break}else if(p==C.end.row){if(C.addFold(f),h=!0,!f.sameRow){var k=l[x+1];if(k&&k.start.row==g){C.merge(k);break}}break}else if(g<=C.start.row)break}return h||(C=this.$addFoldLine(new y(this.$foldData,f))),this.$useWrapMode?this.$updateWrapData(C.start.row,C.start.row):this.$updateRowLengthCache(C.start.row,C.start.row),this.$modified=!0,this._signal("changeFold",{data:f,action:"add"}),f},this.addFolds=function(r){r.forEach(function(a){this.addFold(a)},this)},this.removeFold=function(r){var a=r.foldLine,l=a.start.row,h=a.end.row,f=this.$foldData,p=a.folds;if(p.length==1)f.splice(f.indexOf(a),1);else if(a.range.isEnd(r.end.row,r.end.column))p.pop(),a.end.row=p[p.length-1].end.row,a.end.column=p[p.length-1].end.column;else if(a.range.isStart(r.start.row,r.start.column))p.shift(),a.start.row=p[0].start.row,a.start.column=p[0].start.column;else if(r.sameRow)p.splice(p.indexOf(r),1);else{var m=a.split(r.start.row,r.start.column);p=m.folds,p.shift(),m.start.row=p[0].start.row,m.start.column=p[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(l,h):this.$updateRowLengthCache(l,h)),this.$modified=!0,this._signal("changeFold",{data:r,action:"remove"})},this.removeFolds=function(r){for(var a=[],l=0;l<r.length;l++)a.push(r[l]);a.forEach(function(h){this.removeFold(h)},this),this.$modified=!0},this.expandFold=function(r){this.removeFold(r),r.subFolds.forEach(function(a){r.restoreRange(a),this.addFold(a)},this),r.collapseChildren>0&&this.foldAll(r.start.row+1,r.end.row,r.collapseChildren-1),r.subFolds=[]},this.expandFolds=function(r){r.forEach(function(a){this.expandFold(a)},this)},this.unfold=function(r,a){var l,h;if(r==null)l=new u(0,0,this.getLength(),0),a==null&&(a=!0);else if(typeof r=="number")l=new u(r,0,r,this.getLine(r).length);else if("row"in r)l=u.fromPoints(r,r);else{if(Array.isArray(r))return h=[],r.forEach(function(p){h=h.concat(this.unfold(p))},this),h;l=r}h=this.getFoldsInRangeList(l);for(var f=h;h.length==1&&u.comparePoints(h[0].start,l.start)<0&&u.comparePoints(h[0].end,l.end)>0;)this.expandFolds(h),h=this.getFoldsInRangeList(l);if(a!=!1?this.removeFolds(h):this.expandFolds(h),f.length)return f},this.isRowFolded=function(r,a){return!!this.getFoldLine(r,a)},this.getRowFoldEnd=function(r,a){var l=this.getFoldLine(r,a);return l?l.end.row:r},this.getRowFoldStart=function(r,a){var l=this.getFoldLine(r,a);return l?l.start.row:r},this.getFoldDisplayLine=function(r,a,l,h,f){h==null&&(h=r.start.row),f==null&&(f=0),a==null&&(a=r.end.row),l==null&&(l=this.getLine(a).length);var p=this.doc,m="";return r.walk(function(g,w,S,b){if(!(w<h)){if(w==h){if(S<f)return;b=Math.max(f,b)}g!=null?m+=g:m+=p.getLine(w).substring(b,S)}},a,l),m},this.getDisplayLine=function(r,a,l,h){var f=this.getFoldLine(r);if(f)return this.getFoldDisplayLine(f,r,a,l,h);var p;return p=this.doc.getLine(r),p.substring(h||0,a||p.length)},this.$cloneFoldData=function(){var r=[];return r=this.$foldData.map(function(a){var l=a.folds.map(function(h){return h.clone()});return new y(r,l)}),r},this.toggleFold=function(r){var a=this.selection,l=a.getRange(),h,f;if(l.isEmpty()){var p=l.start;if(h=this.getFoldAt(p.row,p.column),h){this.expandFold(h);return}else(f=this.findMatchingBracket(p))?l.comparePoint(f)==1?l.end=f:(l.start=f,l.start.column++,l.end.column--):(f=this.findMatchingBracket({row:p.row,column:p.column+1}))?(l.comparePoint(f)==1?l.end=f:l.start=f,l.start.column++):l=this.getCommentFoldRange(p.row,p.column)||l}else{var m=this.getFoldsInRange(l);if(r&&m.length){this.expandFolds(m);return}else m.length==1&&(h=m[0])}if(h||(h=this.getFoldAt(l.start.row,l.start.column)),h&&h.range.toString()==l.toString()){this.expandFold(h);return}var g="...";if(!l.isMultiLine()){if(g=this.getTextRange(l),g.length<4)return;g=g.trim().substring(0,2)+".."}this.addFold(g,l)},this.getCommentFoldRange=function(r,a,l){var h=new s(this,r,a),f=h.getCurrentToken(),p=f&&f.type;if(f&&/^comment|string/.test(p)){p=p.match(/comment|string/)[0],p=="comment"&&(p+="|doc-start|\\.doc");var m=new RegExp(p),g=new u;if(l!=1){do f=h.stepBackward();while(f&&m.test(f.type)&&!/^comment.end/.test(f.type));f=h.stepForward()}if(g.start.row=h.getCurrentTokenRow(),g.start.column=h.getCurrentTokenColumn()+(/^comment.start/.test(f.type)?f.value.length:2),h=new s(this,r,a),l!=-1){var w=-1;do if(f=h.stepForward(),w==-1){var S=this.getState(h.$row);m.test(S)||(w=h.$row)}else if(h.$row>w)break;while(f&&m.test(f.type)&&!/^comment.start/.test(f.type));f=h.stepBackward()}else f=h.getCurrentToken();return g.end.row=h.getCurrentTokenRow(),g.end.column=h.getCurrentTokenColumn(),/^comment.end/.test(f.type)||(g.end.column+=f.value.length-2),g}},this.foldAll=function(r,a,l,h){l==null&&(l=1e5);var f=this.foldWidgets;if(f){a=a||this.getLength(),r=r||0;for(var p=r;p<a;p++)if(f[p]==null&&(f[p]=this.getFoldWidget(p)),f[p]=="start"&&!(h&&!h(p))){var m=this.getFoldWidgetRange(p);m&&m.isMultiLine()&&m.end.row<=a&&m.start.row>=r&&(p=m.end.row,m.collapseChildren=l,this.addFold("...",m))}}},this.foldToLevel=function(r){for(this.foldAll();r-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var r=this;this.foldAll(null,null,null,function(a){for(var l=r.getTokens(a),h=0;h<l.length;h++){var f=l[h];if(!(f.type=="text"&&/^\s+$/.test(f.value)))return!!/comment/.test(f.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(r){if(!this.$foldStyles[r])throw new Error("invalid fold style: "+r+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=r){this.$foldStyle=r,r=="manual"&&this.unfold();var a=this.$foldMode;this.$setFolding(null),this.$setFolding(a)}},this.$setFolding=function(r){if(this.$foldMode!=r){if(this.$foldMode=r,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!r||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=r.getFoldWidget.bind(r,this,this.$foldStyle),this.getFoldWidgetRange=r.getFoldWidgetRange.bind(r,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(r,a){var l=this.foldWidgets;if(!l||a&&l[r])return{};for(var h=r-1,f;h>=0;){var p=l[h];if(p==null&&(p=l[h]=this.getFoldWidget(h)),p=="start"){var m=this.getFoldWidgetRange(h);if(f||(f=m),m&&m.end.row>=r)break}h--}return{range:h!==-1&&m,firstRange:f}},this.onFoldWidgetClick=function(r,a){a instanceof d&&(a=a.domEvent);var l={children:a.shiftKey,all:a.ctrlKey||a.metaKey,siblings:a.altKey},h=this.$toggleFoldWidget(r,l);if(!h){var f=a.target||a.srcElement;f&&/ace_fold-widget/.test(f.className)&&(f.className+=" ace_invalid")}},this.$toggleFoldWidget=function(r,a){if(this.getFoldWidget){var l=this.getFoldWidget(r),h=this.getLine(r),f=l==="end"?-1:1,p=this.getFoldAt(r,f===-1?0:h.length,f);if(p)return a.children||a.all?this.removeFold(p):this.expandFold(p),p;var m=this.getFoldWidgetRange(r,!0);if(m&&!m.isMultiLine()&&(p=this.getFoldAt(m.start.row,m.start.column,1),p&&m.isEqual(p.range)))return this.removeFold(p),p;if(a.siblings){var g=this.getParentFoldRangeData(r);if(g.range)var w=g.range.start.row+1,S=g.range.end.row;this.foldAll(w,S,a.all?1e4:0)}else a.children?(S=m?m.end.row:this.getLength(),this.foldAll(r+1,S,a.all?1e4:0)):m&&(a.all&&(m.collapseChildren=1e4),this.addFold("...",m));return m}},this.toggleFoldWidget=function(r){var a=this.selection.getCursor().row;a=this.getRowFoldStart(a);var l=this.$toggleFoldWidget(a,{});if(!l){var h=this.getParentFoldRangeData(a,!0);if(l=h.range||h.firstRange,l){a=l.start.row;var f=this.getFoldAt(a,this.getLine(a).length,1);f?this.removeFold(f):this.addFold("...",l)}}},this.updateFoldWidgets=function(r){var a=r.start.row,l=r.end.row-a;if(l===0)this.foldWidgets[a]=null;else if(r.action=="remove")this.foldWidgets.splice(a,l+1,null);else{var h=Array(l+1);h.unshift(a,1),this.foldWidgets.splice.apply(this.foldWidgets,h)}},this.tokenizerUpdateFoldWidgets=function(r){var a=r.data;a.first!=a.last&&this.foldWidgets.length>a.first&&this.foldWidgets.splice(a.first,this.foldWidgets.length)}}i.Folding=o}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,i,v){var u=n("../token_iterator").TokenIterator,y=n("../range").Range;function c(){this.findMatchingBracket=function(s,d){if(s.column==0)return null;var o=d||this.getLine(s.row).charAt(s.column-1);if(o=="")return null;var r=o.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],s):this.$findOpeningBracket(r[2],s):null},this.getBracketRange=function(s){var d=this.getLine(s.row),o=!0,r,a=d.charAt(s.column-1),l=a&&a.match(/([\(\[\{])|([\)\]\}])/);if(l||(a=d.charAt(s.column),s={row:s.row,column:s.column+1},l=a&&a.match(/([\(\[\{])|([\)\]\}])/),o=!1),!l)return null;if(l[1]){var h=this.$findClosingBracket(l[1],s);if(!h)return null;r=y.fromPoints(s,h),o||(r.end.column++,r.start.column--),r.cursor=r.end}else{var h=this.$findOpeningBracket(l[2],s);if(!h)return null;r=y.fromPoints(h,s),o||(r.start.column++,r.end.column--),r.cursor=r.start}return r},this.getMatchingBracketRanges=function(s,d){var o=this.getLine(s.row),r=/([\(\[\{])|([\)\]\}])/,a=!d&&o.charAt(s.column-1),l=a&&a.match(r);if(l||(a=(d===void 0||d)&&o.charAt(s.column),s={row:s.row,column:s.column+1},l=a&&a.match(r)),!l)return null;var h=new y(s.row,s.column-1,s.row,s.column),f=l[1]?this.$findClosingBracket(l[1],s):this.$findOpeningBracket(l[2],s);if(!f)return[h];var p=new y(f.row,f.column,f.row,f.column+1);return[h,p]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,d,o){var r=this.$brackets[s],a=1,l=new u(this,d.row,d.column),h=l.getCurrentToken();if(h||(h=l.stepForward()),!!h){o||(o=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var f=d.column-l.getCurrentTokenColumn()-2,p=h.value;;){for(;f>=0;){var m=p.charAt(f);if(m==r){if(a-=1,a==0)return{row:l.getCurrentTokenRow(),column:f+l.getCurrentTokenColumn()}}else m==s&&(a+=1);f-=1}do h=l.stepBackward();while(h&&!o.test(h.type));if(h==null)break;p=h.value,f=p.length-1}return null}},this.$findClosingBracket=function(s,d,o){var r=this.$brackets[s],a=1,l=new u(this,d.row,d.column),h=l.getCurrentToken();if(h||(h=l.stepForward()),!!h){o||(o=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var f=d.column-l.getCurrentTokenColumn();;){for(var p=h.value,m=p.length;f<m;){var g=p.charAt(f);if(g==r){if(a-=1,a==0)return{row:l.getCurrentTokenRow(),column:f+l.getCurrentTokenColumn()}}else g==s&&(a+=1);f+=1}do h=l.stepForward();while(h&&!o.test(h.type));if(h==null)break;f=0}return null}},this.getMatchingTags=function(s){var d=new u(this,s.row,s.column),o=this.$findTagName(d);if(o){var r=d.stepBackward();return r.value==="<"?this.$findClosingTag(d,o):this.$findOpeningTag(d,o)}},this.$findTagName=function(s){var d=s.getCurrentToken(),o=!1,r=!1;if(d&&d.type.indexOf("tag-name")===-1)do r?d=s.stepBackward():d=s.stepForward(),d&&(d.value==="/>"?r=!0:d.type.indexOf("tag-name")!==-1&&(o=!0));while(d&&!o);return d},this.$findClosingTag=function(s,d){var o,r=d.value,a=d.value,l=0,h=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);d=s.stepForward();var f=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+d.value.length),p=!1;do{if(o=d,o.type.indexOf("tag-close")!==-1&&!p){var m=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);p=!0}if(d=s.stepForward(),d){if(d.value===">"&&!p){var m=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);p=!0}if(d.type.indexOf("tag-name")!==-1){if(r=d.value,a===r){if(o.value==="<")l++;else if(o.value==="</"&&(l--,l<0)){s.stepBackward();var g=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);d=s.stepForward();var w=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=s.stepForward()),d&&d.value===">")var S=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(a===r&&d.value==="/>"&&(l--,l<0))var g=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),w=g,S=w,m=new y(f.end.row,f.end.column,f.end.row,f.end.column+1)}}while(d&&l>=0);if(h&&m&&g&&S&&f&&w)return{openTag:new y(h.start.row,h.start.column,m.end.row,m.end.column),closeTag:new y(g.start.row,g.start.column,S.end.row,S.end.column),openTagName:f,closeTagName:w}},this.$findOpeningTag=function(s,d){var o=s.getCurrentToken(),r=d.value,a=0,l=s.getCurrentTokenRow(),h=s.getCurrentTokenColumn(),f=h+2,p=new y(l,h,l,f);s.stepForward();var m=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=s.stepForward()),!(!d||d.value!==">")){var g=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(d=o,l=s.getCurrentTokenRow(),h=s.getCurrentTokenColumn(),f=h+d.value.length,o=s.stepBackward(),d){if(d.type.indexOf("tag-name")!==-1){if(r===d.value)if(o.value==="<"){if(a++,a>0){var w=new y(l,h,l,f),S=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do d=s.stepForward();while(d&&d.value!==">");var b=new y(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else o.value==="</"&&a--}else if(d.value==="/>"){for(var _=0,x=o;x;){if(x.type.indexOf("tag-name")!==-1&&x.value===r){a--;break}else if(x.value==="<")break;x=s.stepBackward(),_++}for(var C=0;C<_;C++)s.stepForward()}}while(o&&a<=0);if(S&&b&&p&&g&&w&&m)return{openTag:new y(S.start.row,S.start.column,b.end.row,b.end.column),closeTag:new y(p.start.row,p.start.column,g.end.row,g.end.column),openTagName:w,closeTagName:m}}}}i.BracketMatch=c}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,i,v){var u=n("./lib/oop"),y=n("./lib/lang"),c=n("./bidihandler").BidiHandler,s=n("./config"),d=n("./lib/event_emitter").EventEmitter,o=n("./selection").Selection,r=n("./mode/text").Mode,a=n("./range").Range,l=n("./document").Document,h=n("./background_tokenizer").BackgroundTokenizer,f=n("./search_highlight").SearchHighlight,p=n("./undomanager").UndoManager,m=function(){function T(L,E){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++T.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new h(new r().getTokenizer(),this);var A=this;this.bgTokenizer.on("update",function(R){A._signal("tokenizerUpdate",R)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof L!="object"||!L.getLine)&&(L=new l(L)),this.setDocument(L),this.selection=new o(this),this.$bidiHandler=new c(this),s.resetOptions(this),this.setMode(E),s._signal("session",this),this.destroyed=!1}return T.prototype.setDocument=function(L){this.doc&&this.doc.off("change",this.$onChange),this.doc=L,L.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},T.prototype.getDocument=function(){return this.doc},T.prototype.$resetRowCache=function(L){if(!L){this.$docRowCache=[],this.$screenRowCache=[];return}var E=this.$docRowCache.length,A=this.$getRowCacheIndex(this.$docRowCache,L)+1;E>A&&(this.$docRowCache.splice(A,E),this.$screenRowCache.splice(A,E))},T.prototype.$getRowCacheIndex=function(L,E){for(var A=0,R=L.length-1;A<=R;){var I=A+R>>1,D=L[I];if(E>D)A=I+1;else if(E<D)R=I-1;else return I}return A-1},T.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},T.prototype.onChangeFold=function(L){var E=L.data;this.$resetRowCache(E.start.row)},T.prototype.onChange=function(L){this.$modified=!0,this.$bidiHandler.onChange(L),this.$resetRowCache(L.start.row);var E=this.$updateInternalDataOnChange(L);!this.$fromUndo&&this.$undoManager&&(E&&E.length&&(this.$undoManager.add({action:"removeFolds",folds:E},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(L,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(L),this._signal("change",L)},T.prototype.setValue=function(L){this.doc.setValue(L),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},T.fromJSON=function(L){typeof L=="string"&&(L=JSON.parse(L));var E=new p;E.$undoStack=L.history.undo,E.$redoStack=L.history.redo,E.mark=L.history.mark,E.$rev=L.history.rev;var A=new T(L.value);return L.folds.forEach(function(R){A.addFold("...",a.fromPoints(R.start,R.end))}),A.setAnnotations(L.annotations),A.setBreakpoints(L.breakpoints),A.setMode(L.mode),A.setScrollLeft(L.scrollLeft),A.setScrollTop(L.scrollTop),A.setUndoManager(E),A.selection.fromJSON(L.selection),A},T.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(L){return L.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},T.prototype.toString=function(){return this.doc.getValue()},T.prototype.getSelection=function(){return this.selection},T.prototype.getState=function(L){return this.bgTokenizer.getState(L)},T.prototype.getTokens=function(L){return this.bgTokenizer.getTokens(L)},T.prototype.getTokenAt=function(L,E){var A=this.bgTokenizer.getTokens(L),R,I=0;if(E==null){var D=A.length-1;I=this.getLine(L).length}else for(var D=0;D<A.length&&(I+=A[D].value.length,!(I>=E));D++);return R=A[D],R?(R.index=D,R.start=I-R.value.length,R):null},T.prototype.setUndoManager=function(L){if(this.$undoManager=L,this.$informUndoManager&&this.$informUndoManager.cancel(),L){var E=this;L.addSession(this),this.$syncInformUndoManager=function(){E.$informUndoManager.cancel(),E.mergeUndoDeltas=!1},this.$informUndoManager=y.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},T.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},T.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},T.prototype.getTabString=function(){return this.getUseSoftTabs()?y.stringRepeat(" ",this.getTabSize()):"	"},T.prototype.setUseSoftTabs=function(L){this.setOption("useSoftTabs",L)},T.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},T.prototype.setTabSize=function(L){this.setOption("tabSize",L)},T.prototype.getTabSize=function(){return this.$tabSize},T.prototype.isTabStop=function(L){return this.$useSoftTabs&&L.column%this.$tabSize===0},T.prototype.setNavigateWithinSoftTabs=function(L){this.setOption("navigateWithinSoftTabs",L)},T.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},T.prototype.setOverwrite=function(L){this.setOption("overwrite",L)},T.prototype.getOverwrite=function(){return this.$overwrite},T.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},T.prototype.addGutterDecoration=function(L,E){this.$decorations[L]||(this.$decorations[L]=""),this.$decorations[L]+=" "+E,this._signal("changeBreakpoint",{})},T.prototype.removeGutterDecoration=function(L,E){this.$decorations[L]=(this.$decorations[L]||"").replace(" "+E,""),this._signal("changeBreakpoint",{})},T.prototype.getBreakpoints=function(){return this.$breakpoints},T.prototype.setBreakpoints=function(L){this.$breakpoints=[];for(var E=0;E<L.length;E++)this.$breakpoints[L[E]]="ace_breakpoint";this._signal("changeBreakpoint",{})},T.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},T.prototype.setBreakpoint=function(L,E){E===void 0&&(E="ace_breakpoint"),E?this.$breakpoints[L]=E:delete this.$breakpoints[L],this._signal("changeBreakpoint",{})},T.prototype.clearBreakpoint=function(L){delete this.$breakpoints[L],this._signal("changeBreakpoint",{})},T.prototype.addMarker=function(L,E,A,R){var I=this.$markerId++,D={range:L,type:A||"line",renderer:typeof A=="function"?A:null,clazz:E,inFront:!!R,id:I};return R?(this.$frontMarkers[I]=D,this._signal("changeFrontMarker")):(this.$backMarkers[I]=D,this._signal("changeBackMarker")),I},T.prototype.addDynamicMarker=function(L,E){if(L.update){var A=this.$markerId++;return L.id=A,L.inFront=!!E,E?(this.$frontMarkers[A]=L,this._signal("changeFrontMarker")):(this.$backMarkers[A]=L,this._signal("changeBackMarker")),L}},T.prototype.removeMarker=function(L){var E=this.$frontMarkers[L]||this.$backMarkers[L];if(E){var A=E.inFront?this.$frontMarkers:this.$backMarkers;delete A[L],this._signal(E.inFront?"changeFrontMarker":"changeBackMarker")}},T.prototype.getMarkers=function(L){return L?this.$frontMarkers:this.$backMarkers},T.prototype.highlight=function(L){if(!this.$searchHighlight){var E=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(E)}this.$searchHighlight.setRegexp(L)},T.prototype.highlightLines=function(L,E,A,R){typeof E!="number"&&(A=E,E=L),A||(A="ace_step");var I=new a(L,0,E,1/0);return I.id=this.addMarker(I,A,"fullLine",R),I},T.prototype.setAnnotations=function(L){this.$annotations=L,this._signal("changeAnnotation",{})},T.prototype.getAnnotations=function(){return this.$annotations||[]},T.prototype.clearAnnotations=function(){this.setAnnotations([])},T.prototype.$detectNewLine=function(L){var E=L.match(/^.*?(\r?\n)/m);E?this.$autoNewLine=E[1]:this.$autoNewLine=`
`},T.prototype.getWordRange=function(L,E){var A=this.getLine(L),R=!1;if(E>0&&(R=!!A.charAt(E-1).match(this.tokenRe)),R||(R=!!A.charAt(E).match(this.tokenRe)),R)var I=this.tokenRe;else if(/^\s+$/.test(A.slice(E-1,E+1)))var I=/\s/;else var I=this.nonTokenRe;var D=E;if(D>0){do D--;while(D>=0&&A.charAt(D).match(I));D++}for(var P=E;P<A.length&&A.charAt(P).match(I);)P++;return new a(L,D,L,P)},T.prototype.getAWordRange=function(L,E){for(var A=this.getWordRange(L,E),R=this.getLine(A.end.row);R.charAt(A.end.column).match(/[ \t]/);)A.end.column+=1;return A},T.prototype.setNewLineMode=function(L){this.doc.setNewLineMode(L)},T.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},T.prototype.setUseWorker=function(L){this.setOption("useWorker",L)},T.prototype.getUseWorker=function(){return this.$useWorker},T.prototype.onReloadTokenizer=function(L){var E=L.data;this.bgTokenizer.start(E.first),this._signal("tokenizerUpdate",L)},T.prototype.setMode=function(L,E){if(L&&typeof L=="object"){if(L.getTokenizer)return this.$onChangeMode(L);var A=L,R=A.path}else R=L||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new r),this.$modes[R]&&!A){this.$onChangeMode(this.$modes[R]),E&&E();return}this.$modeId=R,s.loadModule(["mode",R],(function(I){if(this.$modeId!==R)return E&&E();this.$modes[R]&&!A?this.$onChangeMode(this.$modes[R]):I&&I.Mode&&(I=new I.Mode(A),A||(this.$modes[R]=I,I.$id=R),this.$onChangeMode(I)),E&&E()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},T.prototype.$onChangeMode=function(L,E){if(E||(this.$modeId=L.$id),this.$mode!==L){var A=this.$mode;this.$mode=L,this.$stopWorker(),this.$useWorker&&this.$startWorker();var R=L.getTokenizer();if(R.on!==void 0){var I=this.onReloadTokenizer.bind(this);R.on("update",I)}this.bgTokenizer.setTokenizer(R),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=L.tokenRe,this.nonTokenRe=L.nonTokenRe,E||(L.attachToSession&&L.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(L.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:A,mode:L}))}},T.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},T.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(L){s.warn("Could not load worker",L),this.$worker=null}},T.prototype.getMode=function(){return this.$mode},T.prototype.setScrollTop=function(L){this.$scrollTop===L||isNaN(L)||(this.$scrollTop=L,this._signal("changeScrollTop",L))},T.prototype.getScrollTop=function(){return this.$scrollTop},T.prototype.setScrollLeft=function(L){this.$scrollLeft===L||isNaN(L)||(this.$scrollLeft=L,this._signal("changeScrollLeft",L))},T.prototype.getScrollLeft=function(){return this.$scrollLeft},T.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},T.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var L=0;return this.lineWidgets.forEach(function(E){E&&E.screenWidth>L&&(L=E.screenWidth)}),this.lineWidgetWidth=L},T.prototype.$computeWidth=function(L){if(this.$modified||L){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var E=this.doc.getAllLines(),A=this.$rowLengthCache,R=0,I=0,D=this.$foldData[I],P=D?D.start.row:1/0,O=E.length,$=0;$<O;$++){if($>P){if($=D.end.row+1,$>=O)break;D=this.$foldData[I++],P=D?D.start.row:1/0}A[$]==null&&(A[$]=this.$getStringScreenWidth(E[$])[0]),A[$]>R&&(R=A[$])}this.screenWidth=R}},T.prototype.getLine=function(L){return this.doc.getLine(L)},T.prototype.getLines=function(L,E){return this.doc.getLines(L,E)},T.prototype.getLength=function(){return this.doc.getLength()},T.prototype.getTextRange=function(L){return this.doc.getTextRange(L||this.selection.getRange())},T.prototype.insert=function(L,E){return this.doc.insert(L,E)},T.prototype.remove=function(L){return this.doc.remove(L)},T.prototype.removeFullLines=function(L,E){return this.doc.removeFullLines(L,E)},T.prototype.undoChanges=function(L,E){if(L.length){this.$fromUndo=!0;for(var A=L.length-1;A!=-1;A--){var R=L[A];R.action=="insert"||R.action=="remove"?this.doc.revertDelta(R):R.folds&&this.addFolds(R.folds)}!E&&this.$undoSelect&&(L.selectionBefore?this.selection.fromJSON(L.selectionBefore):this.selection.setRange(this.$getUndoSelection(L,!0))),this.$fromUndo=!1}},T.prototype.redoChanges=function(L,E){if(L.length){this.$fromUndo=!0;for(var A=0;A<L.length;A++){var R=L[A];(R.action=="insert"||R.action=="remove")&&this.doc.$safeApplyDelta(R)}!E&&this.$undoSelect&&(L.selectionAfter?this.selection.fromJSON(L.selectionAfter):this.selection.setRange(this.$getUndoSelection(L,!1))),this.$fromUndo=!1}},T.prototype.setUndoSelect=function(L){this.$undoSelect=L},T.prototype.$getUndoSelection=function(L,E){function A(O){return E?O.action!=="insert":O.action==="insert"}for(var R,I,D=0;D<L.length;D++){var P=L[D];if(P.start){if(!R){A(P)?R=a.fromPoints(P.start,P.end):R=a.fromPoints(P.start,P.start);continue}A(P)?(I=P.start,R.compare(I.row,I.column)==-1&&R.setStart(I),I=P.end,R.compare(I.row,I.column)==1&&R.setEnd(I)):(I=P.start,R.compare(I.row,I.column)==-1&&(R=a.fromPoints(P.start,P.start)))}}return R},T.prototype.replace=function(L,E){return this.doc.replace(L,E)},T.prototype.moveText=function(L,E,A){var R=this.getTextRange(L),I=this.getFoldsInRange(L),D=a.fromPoints(E,E);if(!A){this.remove(L);var P=L.start.row-L.end.row,O=P?-L.end.column:L.start.column-L.end.column;O&&(D.start.row==L.end.row&&D.start.column>L.end.column&&(D.start.column+=O),D.end.row==L.end.row&&D.end.column>L.end.column&&(D.end.column+=O)),P&&D.start.row>=L.end.row&&(D.start.row+=P,D.end.row+=P)}if(D.end=this.insert(D.start,R),I.length){var $=L.start,N=D.start,P=N.row-$.row,O=N.column-$.column;this.addFolds(I.map(function(z){return z=z.clone(),z.start.row==$.row&&(z.start.column+=O),z.end.row==$.row&&(z.end.column+=O),z.start.row+=P,z.end.row+=P,z}))}return D},T.prototype.indentRows=function(L,E,A){A=A.replace(/\t/g,this.getTabString());for(var R=L;R<=E;R++)this.doc.insertInLine({row:R,column:0},A)},T.prototype.outdentRows=function(L){for(var E=L.collapseRows(),A=new a(0,0,0,0),R=this.getTabSize(),I=E.start.row;I<=E.end.row;++I){var D=this.getLine(I);A.start.row=I,A.end.row=I;for(var P=0;P<R&&D.charAt(P)==" ";++P);P<R&&D.charAt(P)=="	"?(A.start.column=P,A.end.column=P+1):(A.start.column=0,A.end.column=P),this.remove(A)}},T.prototype.$moveLines=function(L,E,A){if(L=this.getRowFoldStart(L),E=this.getRowFoldEnd(E),A<0){var R=this.getRowFoldStart(L+A);if(R<0)return 0;var I=R-L}else if(A>0){var R=this.getRowFoldEnd(E+A);if(R>this.doc.getLength()-1)return 0;var I=R-E}else{L=this.$clipRowToDocument(L),E=this.$clipRowToDocument(E);var I=E-L+1}var D=new a(L,0,E,Number.MAX_VALUE),P=this.getFoldsInRange(D).map(function($){return $=$.clone(),$.start.row+=I,$.end.row+=I,$}),O=A==0?this.doc.getLines(L,E):this.doc.removeFullLines(L,E);return this.doc.insertFullLines(L+I,O),P.length&&this.addFolds(P),I},T.prototype.moveLinesUp=function(L,E){return this.$moveLines(L,E,-1)},T.prototype.moveLinesDown=function(L,E){return this.$moveLines(L,E,1)},T.prototype.duplicateLines=function(L,E){return this.$moveLines(L,E,0)},T.prototype.$clipRowToDocument=function(L){return Math.max(0,Math.min(L,this.doc.getLength()-1))},T.prototype.$clipColumnToRow=function(L,E){return E<0?0:Math.min(this.doc.getLine(L).length,E)},T.prototype.$clipPositionToDocument=function(L,E){if(E=Math.max(0,E),L<0)L=0,E=0;else{var A=this.doc.getLength();L>=A?(L=A-1,E=this.doc.getLine(A-1).length):E=Math.min(this.doc.getLine(L).length,E)}return{row:L,column:E}},T.prototype.$clipRangeToDocument=function(L){L.start.row<0?(L.start.row=0,L.start.column=0):L.start.column=this.$clipColumnToRow(L.start.row,L.start.column);var E=this.doc.getLength()-1;return L.end.row>E?(L.end.row=E,L.end.column=this.doc.getLine(E).length):L.end.column=this.$clipColumnToRow(L.end.row,L.end.column),L},T.prototype.setUseWrapMode=function(L){if(L!=this.$useWrapMode){if(this.$useWrapMode=L,this.$modified=!0,this.$resetRowCache(0),L){var E=this.getLength();this.$wrapData=Array(E),this.$updateWrapData(0,E-1)}this._signal("changeWrapMode")}},T.prototype.getUseWrapMode=function(){return this.$useWrapMode},T.prototype.setWrapLimitRange=function(L,E){(this.$wrapLimitRange.min!==L||this.$wrapLimitRange.max!==E)&&(this.$wrapLimitRange={min:L,max:E},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},T.prototype.adjustWrapLimit=function(L,E){var A=this.$wrapLimitRange;A.max<0&&(A={min:E,max:E});var R=this.$constrainWrapLimit(L,A.min,A.max);return R!=this.$wrapLimit&&R>1?(this.$wrapLimit=R,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},T.prototype.$constrainWrapLimit=function(L,E,A){return E&&(L=Math.max(E,L)),A&&(L=Math.min(A,L)),L},T.prototype.getWrapLimit=function(){return this.$wrapLimit},T.prototype.setWrapLimit=function(L){this.setWrapLimitRange(L,L)},T.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},T.prototype.$updateInternalDataOnChange=function(L){var E=this.$useWrapMode,A=L.action,R=L.start,I=L.end,D=R.row,P=I.row,O=P-D,$=null;if(this.$updating=!0,O!=0)if(A==="remove"){this[E?"$wrapData":"$rowLengthCache"].splice(D,O);var N=this.$foldData;$=this.getFoldsInRange(L),this.removeFolds($);var H=this.getFoldLine(I.row),B=0;if(H){H.addRemoveChars(I.row,I.column,R.column-I.column),H.shiftRow(-O);var z=this.getFoldLine(D);z&&z!==H&&(z.merge(H),H=z),B=N.indexOf(H)+1}for(B;B<N.length;B++){var H=N[B];H.start.row>=I.row&&H.shiftRow(-O)}P=D}else{var U=Array(O);U.unshift(D,0);var V=E?this.$wrapData:this.$rowLengthCache;V.splice.apply(V,U);var N=this.$foldData,H=this.getFoldLine(D),B=0;if(H){var W=H.range.compareInside(R.row,R.column);W==0?(H=H.split(R.row,R.column),H&&(H.shiftRow(O),H.addRemoveChars(P,0,I.column-R.column))):W==-1&&(H.addRemoveChars(D,0,I.column-R.column),H.shiftRow(O)),B=N.indexOf(H)+1}for(B;B<N.length;B++){var H=N[B];H.start.row>=D&&H.shiftRow(O)}}else{O=Math.abs(L.start.column-L.end.column),A==="remove"&&($=this.getFoldsInRange(L),this.removeFolds($),O=-O);var H=this.getFoldLine(D);H&&H.addRemoveChars(D,R.column,O)}return E&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,E?this.$updateWrapData(D,P):this.$updateRowLengthCache(D,P),$},T.prototype.$updateRowLengthCache=function(L,E){this.$rowLengthCache[L]=null,this.$rowLengthCache[E]=null},T.prototype.$updateWrapData=function(L,E){var A=this.doc.getAllLines(),R=this.getTabSize(),I=this.$wrapData,D=this.$wrapLimit,P,O,$=L;for(E=Math.min(E,A.length-1);$<=E;)O=this.getFoldLine($,O),O?(P=[],O.walk((function(N,H,B,z){var U;if(N!=null){U=this.$getDisplayTokens(N,P.length),U[0]=S;for(var V=1;V<U.length;V++)U[V]=b}else U=this.$getDisplayTokens(A[H].substring(z,B),P.length);P=P.concat(U)}).bind(this),O.end.row,A[O.end.row].length+1),I[O.start.row]=this.$computeWrapSplits(P,D,R),$=O.end.row+1):(P=this.$getDisplayTokens(A[$]),I[$]=this.$computeWrapSplits(P,D,R),$++)},T.prototype.$computeWrapSplits=function(L,E,A){if(L.length==0)return[];var R=[],I=L.length,D=0,P=0,O=this.$wrapAsCode,$=this.$indentedSoftWrap,N=E<=Math.max(2*A,8)||$===!1?0:Math.floor(E/2);function H(){var W=0;if(N===0)return W;if($)for(var F=0;F<L.length;F++){var Y=L[F];if(Y==x)W+=1;else if(Y==C)W+=A;else{if(Y==k)continue;break}}return O&&$!==!1&&(W+=A),Math.min(W,N)}function B(W){for(var F=W-D,Y=D;Y<W;Y++){var G=L[Y];(G===12||G===2)&&(F-=1)}R.length||(z=H(),R.indent=z),P+=F,R.push(P),D=W}for(var z=0;I-D>E-z;){var U=D+E-z;if(L[U-1]>=x&&L[U]>=x){B(U);continue}if(L[U]==S||L[U]==b){for(U;U!=D-1&&L[U]!=S;U--);if(U>D){B(U);continue}for(U=D+E,U;U<L.length&&L[U]==b;U++);if(U==L.length)break;B(U);continue}for(var V=Math.max(U-(E-(E>>2)),D-1);U>V&&L[U]<S;)U--;if(O){for(;U>V&&L[U]<S;)U--;for(;U>V&&L[U]==_;)U--}else for(;U>V&&L[U]<x;)U--;if(U>V){B(++U);continue}U=D+E,L[U]==w&&U--,B(U-z)}return R},T.prototype.$getDisplayTokens=function(L,E){var A=[],R;E=E||0;for(var I=0;I<L.length;I++){var D=L.charCodeAt(I);if(D==9){R=this.getScreenTabSize(A.length+E),A.push(C);for(var P=1;P<R;P++)A.push(k)}else D==32?A.push(x):D>39&&D<48||D>57&&D<64?A.push(_):D>=4352&&M(D)?A.push(g,w):A.push(g)}return A},T.prototype.$getStringScreenWidth=function(L,E,A){if(E==0)return[0,0];E==null&&(E=1/0),A=A||0;var R,I;for(I=0;I<L.length&&(R=L.charCodeAt(I),R==9?A+=this.getScreenTabSize(A):R>=4352&&M(R)?A+=2:A+=1,!(A>E));I++);return[A,I]},T.prototype.getRowLength=function(L){var E=1;return this.lineWidgets&&(E+=this.lineWidgets[L]&&this.lineWidgets[L].rowCount||0),!this.$useWrapMode||!this.$wrapData[L]?E:this.$wrapData[L].length+E},T.prototype.getRowLineCount=function(L){return!this.$useWrapMode||!this.$wrapData[L]?1:this.$wrapData[L].length+1},T.prototype.getRowWrapIndent=function(L){if(this.$useWrapMode){var E=this.screenToDocumentPosition(L,Number.MAX_VALUE),A=this.$wrapData[E.row];return A.length&&A[0]<E.column?A.indent:0}else return 0},T.prototype.getScreenLastRowColumn=function(L){var E=this.screenToDocumentPosition(L,Number.MAX_VALUE);return this.documentToScreenColumn(E.row,E.column)},T.prototype.getDocumentLastRowColumn=function(L,E){var A=this.documentToScreenRow(L,E);return this.getScreenLastRowColumn(A)},T.prototype.getDocumentLastRowColumnPosition=function(L,E){var A=this.documentToScreenRow(L,E);return this.screenToDocumentPosition(A,Number.MAX_VALUE/10)},T.prototype.getRowSplitData=function(L){if(this.$useWrapMode)return this.$wrapData[L]},T.prototype.getScreenTabSize=function(L){return this.$tabSize-(L%this.$tabSize|0)},T.prototype.screenToDocumentRow=function(L,E){return this.screenToDocumentPosition(L,E).row},T.prototype.screenToDocumentColumn=function(L,E){return this.screenToDocumentPosition(L,E).column},T.prototype.screenToDocumentPosition=function(L,E,A){if(L<0)return{row:0,column:0};var R,I=0,D=0,P,O=0,$=0,N=this.$screenRowCache,H=this.$getRowCacheIndex(N,L),B=N.length;if(B&&H>=0)var O=N[H],I=this.$docRowCache[H],z=L>N[B-1];else var z=!B;for(var U=this.getLength()-1,V=this.getNextFoldLine(I),W=V?V.start.row:1/0;O<=L&&($=this.getRowLength(I),!(O+$>L||I>=U));)O+=$,I++,I>W&&(I=V.end.row+1,V=this.getNextFoldLine(I,V),W=V?V.start.row:1/0),z&&(this.$docRowCache.push(I),this.$screenRowCache.push(O));if(V&&V.start.row<=I)R=this.getFoldDisplayLine(V),I=V.start.row;else{if(O+$<=L||I>U)return{row:U,column:this.getLine(U).length};R=this.getLine(I),V=null}var F=0,Y=Math.floor(L-O);if(this.$useWrapMode){var G=this.$wrapData[I];G&&(P=G[Y],Y>0&&G.length&&(F=G.indent,D=G[Y-1]||G[G.length-1],R=R.substring(D)))}return A!==void 0&&this.$bidiHandler.isBidiRow(O+Y,I,Y)&&(E=this.$bidiHandler.offsetToCol(A)),D+=this.$getStringScreenWidth(R,E-F)[1],this.$useWrapMode&&D>=P&&(D=P-1),V?V.idxToPosition(D):{row:I,column:D}},T.prototype.documentToScreenPosition=function(L,E){if(typeof E>"u")var A=this.$clipPositionToDocument(L.row,L.column);else A=this.$clipPositionToDocument(L,E);L=A.row,E=A.column;var R=0,I=null,D=null;D=this.getFoldAt(L,E,1),D&&(L=D.start.row,E=D.start.column);var P,O=0,$=this.$docRowCache,N=this.$getRowCacheIndex($,L),H=$.length;if(H&&N>=0)var O=$[N],R=this.$screenRowCache[N],B=L>$[H-1];else var B=!H;for(var z=this.getNextFoldLine(O),U=z?z.start.row:1/0;O<L;){if(O>=U){if(P=z.end.row+1,P>L)break;z=this.getNextFoldLine(P,z),U=z?z.start.row:1/0}else P=O+1;R+=this.getRowLength(O),O=P,B&&(this.$docRowCache.push(O),this.$screenRowCache.push(R))}var V="";z&&O>=U?(V=this.getFoldDisplayLine(z,L,E),I=z.start.row):(V=this.getLine(L).substring(0,E),I=L);var W=0;if(this.$useWrapMode){var F=this.$wrapData[I];if(F){for(var Y=0;V.length>=F[Y];)R++,Y++;V=V.substring(F[Y-1]||0,V.length),W=Y>0?F.indent:0}}return this.lineWidgets&&this.lineWidgets[O]&&this.lineWidgets[O].rowsAbove&&(R+=this.lineWidgets[O].rowsAbove),{row:R,column:W+this.$getStringScreenWidth(V)[0]}},T.prototype.documentToScreenColumn=function(L,E){return this.documentToScreenPosition(L,E).column},T.prototype.documentToScreenRow=function(L,E){return this.documentToScreenPosition(L,E).row},T.prototype.getScreenLength=function(){var L=0,E=null;if(this.$useWrapMode)for(var I=this.$wrapData.length,D=0,R=0,E=this.$foldData[R++],P=E?E.start.row:1/0;D<I;){var O=this.$wrapData[D];L+=O?O.length+1:1,D++,D>P&&(D=E.end.row+1,E=this.$foldData[R++],P=E?E.start.row:1/0)}else{L=this.getLength();for(var A=this.$foldData,R=0;R<A.length;R++)E=A[R],L-=E.end.row-E.start.row}return this.lineWidgets&&(L+=this.$getWidgetScreenLength()),L},T.prototype.$setFontMetrics=function(L){this.$enableVarChar&&(this.$getStringScreenWidth=function(E,A,R){if(A===0)return[0,0];A||(A=1/0),R=R||0;var I,D;for(D=0;D<E.length&&(I=E.charAt(D),I==="	"?R+=this.getScreenTabSize(R):R+=L.getCharacterWidth(I),!(R>A));D++);return[R,D]})},T.prototype.getPrecedingCharacter=function(){var L=this.selection.getCursor();if(L.column===0)return L.row===0?"":this.doc.getNewLineCharacter();var E=this.getLine(L.row);return E[L.column-1]},T.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},T}();m.$uid=0,m.prototype.$modes=s.$modes,m.prototype.getValue=m.prototype.toString,m.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},m.prototype.$overwrite=!1,m.prototype.$mode=null,m.prototype.$modeId=null,m.prototype.$scrollTop=0,m.prototype.$scrollLeft=0,m.prototype.$wrapLimit=80,m.prototype.$useWrapMode=!1,m.prototype.$wrapLimitRange={min:null,max:null},m.prototype.lineWidgets=null,m.prototype.isFullWidth=M,u.implement(m.prototype,d);var g=1,w=2,S=3,b=4,_=9,x=10,C=11,k=12;function M(T){return T<4352?!1:T>=4352&&T<=4447||T>=4515&&T<=4519||T>=4602&&T<=4607||T>=9001&&T<=9002||T>=11904&&T<=11929||T>=11931&&T<=12019||T>=12032&&T<=12245||T>=12272&&T<=12283||T>=12288&&T<=12350||T>=12353&&T<=12438||T>=12441&&T<=12543||T>=12549&&T<=12589||T>=12593&&T<=12686||T>=12688&&T<=12730||T>=12736&&T<=12771||T>=12784&&T<=12830||T>=12832&&T<=12871||T>=12880&&T<=13054||T>=13056&&T<=19903||T>=19968&&T<=42124||T>=42128&&T<=42182||T>=43360&&T<=43388||T>=44032&&T<=55203||T>=55216&&T<=55238||T>=55243&&T<=55291||T>=63744&&T<=64255||T>=65040&&T<=65049||T>=65072&&T<=65106||T>=65108&&T<=65126||T>=65128&&T<=65131||T>=65281&&T<=65376||T>=65504&&T<=65510}n("./edit_session/folding").Folding.call(m.prototype),n("./edit_session/bracket_match").BracketMatch.call(m.prototype),s.defineOptions(m.prototype,"session",{wrap:{set:function(T){if(!T||T=="off"?T=!1:T=="free"?T=!0:T=="printMargin"?T=-1:typeof T=="string"&&(T=parseInt(T,10)||!1),this.$wrap!=T)if(this.$wrap=T,!T)this.setUseWrapMode(!1);else{var L=typeof T=="number"?T:null;this.setWrapLimitRange(L,L),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(T){T=T=="auto"?this.$mode.type!="text":T!="text",T!=this.$wrapAsCode&&(this.$wrapAsCode=T,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(T){this.$useWorker=T,this.$stopWorker(),T&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(T){T=parseInt(T),T>0&&this.$tabSize!==T&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=T,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(T){this.setFoldStyle(T)},handlesSet:!0},overwrite:{set:function(T){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(T){this.doc.setNewLineMode(T)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(T){this.setMode(T)},get:function(){return this.$modeId},handlesSet:!0}}),i.EditSession=m}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,i,v){var u=n("./lib/lang"),y=n("./lib/oop"),c=n("./range").Range,s=function(){function o(){this.$options={}}return o.prototype.set=function(r){return y.mixin(this.$options,r),this},o.prototype.getOptions=function(){return u.copyObject(this.$options)},o.prototype.setOptions=function(r){this.$options=r},o.prototype.find=function(r){var a=this.$options,l=this.$matchIterator(r,a);if(!l)return!1;var h=null;return l.forEach(function(f,p,m,g){return h=new c(f,p,m,g),p==g&&a.start&&a.start.start&&a.skipCurrent!=!1&&h.isEqual(a.start)?(h=null,!1):!0}),h},o.prototype.findAll=function(r){var a=this.$options;if(!a.needle)return[];this.$assembleRegExp(a);var l=a.range,h=l?r.getLines(l.start.row,l.end.row):r.doc.getAllLines(),f=[],p=a.re;if(a.$isMultiLine){var m=p.length,g=h.length-m,w;e:for(var S=p.offset||0;S<=g;S++){for(var b=0;b<m;b++)if(h[S+b].search(p[b])==-1)continue e;var _=h[S],x=h[S+m-1],C=_.length-_.match(p[0])[0].length,k=x.match(p[m-1])[0].length;w&&w.end.row===S&&w.end.column>C||(f.push(w=new c(S,C,S+m-1,k)),m>2&&(S=S+m-2))}}else for(var M=0;M<h.length;M++)for(var T=u.getMatchOffsets(h[M],p),b=0;b<T.length;b++){var L=T[b];f.push(new c(M,L.offset,M,L.offset+L.length))}if(l){for(var E=l.start.column,A=l.end.column,M=0,b=f.length-1;M<b&&f[M].start.column<E&&f[M].start.row==0;)M++;for(var R=l.end.row-l.start.row;M<b&&f[b].end.column>A&&f[b].end.row==R;)b--;for(f=f.slice(M,b+1),M=0,b=f.length;M<b;M++)f[M].start.row+=l.start.row,f[M].end.row+=l.start.row}return f},o.prototype.replace=function(r,a){var l=this.$options,h=this.$assembleRegExp(l);if(l.$isMultiLine)return a;if(h){var f=h.exec(r);if(!f||f[0].length!=r.length)return null;if(l.regExp||(a=a.replace(/\$/g,"$$$$")),a=r.replace(h,a),l.preserveCase){a=a.split("");for(var p=Math.min(r.length,r.length);p--;){var m=r[p];m&&m.toLowerCase()!=m?a[p]=a[p].toUpperCase():a[p]=a[p].toLowerCase()}a=a.join("")}return a}},o.prototype.$assembleRegExp=function(r,a){if(r.needle instanceof RegExp)return r.re=r.needle;var l=r.needle;if(!r.needle)return r.re=!1;r.regExp||(l=u.escapeRegExp(l));var h=r.caseSensitive?"gm":"gmi";try{new RegExp(l,"u"),r.$supportsUnicodeFlag=!0,h+="u"}catch{r.$supportsUnicodeFlag=!1}if(r.wholeWord&&(l=d(l,r)),r.$isMultiLine=!a&&/[\n\r]/.test(l),r.$isMultiLine)return r.re=this.$assembleMultilineRegExp(l,h);try{var f=new RegExp(l,h)}catch{f=!1}return r.re=f},o.prototype.$assembleMultilineRegExp=function(r,a){for(var l=r.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),h=[],f=0;f<l.length;f++)try{h.push(new RegExp(l[f],a))}catch{return!1}return h},o.prototype.$matchIterator=function(r,a){var l=this.$assembleRegExp(a);if(!l)return!1;var h=a.backwards==!0,f=a.skipCurrent!=!1,p=l.unicode,m=a.range,g=a.start;g||(g=m?m[h?"end":"start"]:r.selection.getRange()),g.start&&(g=g[f!=h?"end":"start"]);var w=m?m.start.row:0,S=m?m.end.row:r.getLength()-1;if(h)var b=function(C){var k=g.row;if(!x(k,g.column,C)){for(k--;k>=w;k--)if(x(k,Number.MAX_VALUE,C))return;if(a.wrap!=!1){for(k=S,w=g.row;k>=w;k--)if(x(k,Number.MAX_VALUE,C))return}}};else var b=function(k){var M=g.row;if(!x(M,g.column,k)){for(M=M+1;M<=S;M++)if(x(M,0,k))return;if(a.wrap!=!1){for(M=w,S=g.row;M<=S;M++)if(x(M,0,k))return}}};if(a.$isMultiLine)var _=l.length,x=function(C,k,M){var T=h?C-_+1:C;if(!(T<0||T+_>r.getLength())){var L=r.getLine(T),E=L.search(l[0]);if(!(!h&&E<k||E===-1)){for(var A=1;A<_;A++)if(L=r.getLine(T+A),L.search(l[A])==-1)return;var R=L.match(l[_-1])[0].length;if(!(h&&R>k)&&M(T,E,T+_-1,R))return!0}}};else if(h)var x=function(k,M,T){var L=r.getLine(k),E=[],A,R=0;for(l.lastIndex=0;A=l.exec(L);){var I=A[0].length;if(R=A.index,!I){if(R>=L.length)break;l.lastIndex=R+=u.skipEmptyMatch(L,R,p)}if(A.index+I>M)break;E.push(A.index,I)}for(var D=E.length-1;D>=0;D-=2){var P=E[D-1],I=E[D];if(T(k,P,k,P+I))return!0}};else var x=function(k,M,T){var L=r.getLine(k),E,A;for(l.lastIndex=M;A=l.exec(L);){var R=A[0].length;if(E=A.index,T(k,E,k,E+R))return!0;if(!R&&(l.lastIndex=E+=u.skipEmptyMatch(L,E,p),E>=L.length))return!1}};return{forEach:b}},o}();function d(o,r){var a=u.supportsLookbehind();function l(m,g){g===void 0&&(g=!0);var w=a&&r.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return w.test(m)||r.regExp?a&&r.$supportsUnicodeFlag?g?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var h=Array.from(o),f=h[0],p=h[h.length-1];return l(f)+o+l(p,!1)}i.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,i,v){var u=this&&this.__extends||function(){var a=function(l,h){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(f[m]=p[m])},a(l,h)};return function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");a(l,h);function f(){this.constructor=l}l.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),y=n("../lib/keys"),c=n("../lib/useragent"),s=y.KEY_MODS,d=function(){function a(l,h){this.$init(l,h,!1)}return a.prototype.$init=function(l,h,f){this.platform=h||(c.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(l),this.$singleCommand=f},a.prototype.addCommand=function(l){this.commands[l.name]&&this.removeCommand(l),this.commands[l.name]=l,l.bindKey&&this._buildKeyHash(l)},a.prototype.removeCommand=function(l,h){var f=l&&(typeof l=="string"?l:l.name);l=this.commands[f],h||delete this.commands[f];var p=this.commandKeyBinding;for(var m in p){var g=p[m];if(g==l)delete p[m];else if(Array.isArray(g)){var w=g.indexOf(l);w!=-1&&(g.splice(w,1),g.length==1&&(p[m]=g[0]))}}},a.prototype.bindKey=function(l,h,f){if(typeof l=="object"&&l&&(f==null&&(f=l.position),l=l[this.platform]),!!l){if(typeof h=="function")return this.addCommand({exec:h,bindKey:l,name:h.name||l});l.split("|").forEach(function(p){var m="";if(p.indexOf(" ")!=-1){var g=p.split(/\s+/);p=g.pop(),g.forEach(function(b){var _=this.parseKeys(b),x=s[_.hashId]+_.key;m+=(m?" ":"")+x,this._addCommandToBinding(m,"chainKeys")},this),m+=" "}var w=this.parseKeys(p),S=s[w.hashId]+w.key;this._addCommandToBinding(m+S,h,f)},this)}},a.prototype._addCommandToBinding=function(l,h,f){var p=this.commandKeyBinding,m;if(!h)delete p[l];else if(!p[l]||this.$singleCommand)p[l]=h;else{Array.isArray(p[l])?(m=p[l].indexOf(h))!=-1&&p[l].splice(m,1):p[l]=[p[l]],typeof f!="number"&&(f=o(h));var g=p[l];for(m=0;m<g.length;m++){var w=g[m],S=o(w);if(S>f)break}g.splice(m,0,h)}},a.prototype.addCommands=function(l){l&&Object.keys(l).forEach(function(h){var f=l[h];if(f){if(typeof f=="string")return this.bindKey(f,h);typeof f=="function"&&(f={exec:f}),typeof f=="object"&&(f.name||(f.name=h),this.addCommand(f))}},this)},a.prototype.removeCommands=function(l){Object.keys(l).forEach(function(h){this.removeCommand(l[h])},this)},a.prototype.bindKeys=function(l){Object.keys(l).forEach(function(h){this.bindKey(h,l[h])},this)},a.prototype._buildKeyHash=function(l){this.bindKey(l.bindKey,l)},a.prototype.parseKeys=function(l){var h=l.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(S){return S}),f=h.pop(),p=y[f];if(y.FUNCTION_KEYS[p])f=y.FUNCTION_KEYS[p].toLowerCase();else if(h.length){if(h.length==1&&h[0]=="shift")return{key:f.toUpperCase(),hashId:-1}}else return{key:f,hashId:-1};for(var m=0,g=h.length;g--;){var w=y.KEY_MODS[h[g]];if(w==null)return typeof console<"u"&&console.error("invalid modifier "+h[g]+" in "+l),!1;m|=w}return{key:f,hashId:m}},a.prototype.findKeyCommand=function(l,h){var f=s[l]+h;return this.commandKeyBinding[f]},a.prototype.handleKeyboard=function(l,h,f,p){if(!(p<0)){var m=s[h]+f,g=this.commandKeyBinding[m];return l.$keyChain&&(l.$keyChain+=" "+m,g=this.commandKeyBinding[l.$keyChain]||g),g&&(g=="chainKeys"||g[g.length-1]=="chainKeys")?(l.$keyChain=l.$keyChain||m,{command:"null"}):(l.$keyChain&&((!h||h==4)&&f.length==1?l.$keyChain=l.$keyChain.slice(0,-m.length-1):(h==-1||p>0)&&(l.$keyChain="")),{command:g})}},a.prototype.getStatusText=function(l,h){return h.$keyChain||""},a}();function o(a){return typeof a=="object"&&a.bindKey&&a.bindKey.position||(a.isDefault?-100:0)}var r=function(a){u(l,a);function l(h,f){var p=a.call(this,h,f)||this;return p.$singleCommand=!0,p}return l}(d);r.call=function(a,l,h){d.prototype.$init.call(a,l,h,!0)},d.call=function(a,l,h){d.prototype.$init.call(a,l,h,!1)},i.HashHandler=r,i.MultiHashHandler=d}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,i,v){var u=this&&this.__extends||function(){var o=function(r,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(l[f]=h[f])},o(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(r,a);function l(){this.constructor=r}r.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),y=n("../lib/oop"),c=n("../keyboard/hash_handler").MultiHashHandler,s=n("../lib/event_emitter").EventEmitter,d=function(o){u(r,o);function r(a,l){var h=o.call(this,l,a)||this;return h.byName=h.commands,h.setDefaultHandler("exec",function(f){return f.args?f.command.exec(f.editor,f.args,f.event,!1):f.command.exec(f.editor,{},f.event,!0)}),h}return r.prototype.exec=function(a,l,h){if(Array.isArray(a)){for(var f=a.length;f--;)if(this.exec(a[f],l,h))return!0;return!1}if(typeof a=="string"&&(a=this.commands[a]),!a||l&&l.$readOnly&&!a.readOnly||this.$checkCommandState!=!1&&a.isAvailable&&!a.isAvailable(l))return!1;var p={editor:l,command:a,args:h};return p.returnValue=this._emit("exec",p),this._signal("afterExec",p),p.returnValue!==!1},r.prototype.toggleRecording=function(a){if(!this.$inReplay)return a&&a._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(l){this.macro.push([l.command,l.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},r.prototype.replay=function(a){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(a);try{this.$inReplay=!0,this.macro.forEach(function(l){typeof l=="string"?this.exec(l,a):this.exec(l[0],a,l[1])},this)}finally{this.$inReplay=!1}}},r.prototype.trimMacro=function(a){return a.map(function(l){return typeof l[0]!="string"&&(l[0]=l[0].name),l[1]||(l=l[0]),l})},r}(c);y.implement(d.prototype,s),i.CommandManager=d}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,i,v){var u=n("../lib/lang"),y=n("../config"),c=n("../range").Range;function s(o,r){return{win:o,mac:r}}i.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(o){y.loadModule("ace/ext/settings_menu",function(r){r.init(o),o.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(o){y.loadModule("ace/ext/error_marker",function(r){r.showErrorMarker(o,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(o){y.loadModule("ace/ext/error_marker",function(r){r.showErrorMarker(o,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(o){o.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(o){o.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(o,r){typeof r=="number"&&!isNaN(r)&&o.gotoLine(r),o.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(o){o.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(o){o.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(o){o.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(o){o.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(o){o.session.foldAll(),o.session.unfold(o.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(o){o.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(o){o.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(o){o.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(o){y.loadModule("ace/ext/searchbox",function(r){r.Search(o)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(o){o.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(o){o.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(o){o.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(o){o.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(o,r){o.navigateUp(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(o){o.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(o){o.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(o){o.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(o,r){o.navigateDown(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(o){o.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(o){o.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(o){o.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(o){o.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(o,r){o.navigateLeft(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(o){o.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(o){o.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(o){o.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(o){o.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(o,r){o.navigateRight(r.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(o){o.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(o){o.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(o){o.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(o){o.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(o){o.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(o){o.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(o){o.renderer.scrollBy(0,-2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(o){o.renderer.scrollBy(0,2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(o){o.commands.toggleRecording(o)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(o){o.commands.replay(o)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(o){o.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(o){o.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(o){o.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(o){},readOnly:!0},{name:"cut",description:"Cut",exec:function(o){var r=o.$copyWithEmptySelection&&o.selection.isEmpty(),a=r?o.selection.getLineRange():o.selection.getRange();o._emit("cut",a),a.isEmpty()||o.session.remove(a),o.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(o,r){o.$handlePaste(r)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(o){o.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(o){o.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(o){o.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(o){o.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(o){o.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(o){o.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(o){o.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(o){y.loadModule("ace/ext/searchbox",function(r){r.Search(o,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(o){o.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(o){o.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(o){o.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(o){o.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(o){o.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(o){o.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(o){o.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(o){o.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(o){if(o.selection.isEmpty())o.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(o){o.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(o){o.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(o){var r=o.selection.getRange();r.start.column=0,o.session.remove(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(o){var r=o.selection.getRange();r.end.column=Number.MAX_VALUE,o.session.remove(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(o){o.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(o){o.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(o){o.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(o){o.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(o){o.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(o){o.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(o,r){o.insert(r)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(o,r){o.insert(u.stringRepeat(r.text||"",r.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(o){o.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(o){o.transposeLetters()},multiSelectAction:function(o){o.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(o){o.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(o){o.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(o){o.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(o){var r=o.selection.getRange();r.start.column=r.end.column=0,r.end.row++,o.selection.setRange(r,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(o){o.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(o){for(var r=o.selection.isBackwards(),a=r?o.selection.getSelectionLead():o.selection.getSelectionAnchor(),l=r?o.selection.getSelectionAnchor():o.selection.getSelectionLead(),h=o.session.doc.getLine(a.row).length,f=o.session.doc.getTextRange(o.selection.getRange()),p=f.replace(/\n\s*/," ").length,m=o.session.doc.getLine(a.row),g=a.row+1;g<=l.row+1;g++){var w=u.stringTrimLeft(u.stringTrimRight(o.session.doc.getLine(g)));w.length!==0&&(w=" "+w),m+=w}l.row+1<o.session.doc.getLength()-1&&(m+=o.session.doc.getNewLineCharacter()),o.clearSelection(),o.session.doc.replace(new c(a.row,0,l.row+2,0),m),p>0?(o.selection.moveCursorTo(a.row,a.column),o.selection.selectTo(a.row,a.column+p)):(h=o.session.doc.getLine(a.row).length>h?h+1:h,o.selection.moveCursorTo(a.row,h))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(o){var r=o.session.doc.getLength()-1,a=o.session.doc.getLine(r).length,l=o.selection.rangeList.ranges,h=[];l.length<1&&(l=[o.selection.getRange()]);for(var f=0;f<l.length;f++)f==l.length-1&&(l[f].end.row===r&&l[f].end.column===a||h.push(new c(l[f].end.row,l[f].end.column,r,a))),f===0?l[f].start.row===0&&l[f].start.column===0||h.push(new c(0,0,l[f].start.row,l[f].start.column)):h.push(new c(l[f-1].end.row,l[f-1].end.column,l[f].start.row,l[f].start.column));o.exitMultiSelectMode(),o.clearSelection();for(var f=0;f<h.length;f++)o.selection.addRange(h[f],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(o){o.selection.clearSelection(),o.navigateLineEnd(),o.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(o){o.selection.clearSelection();var r=o.getCursorPosition();o.selection.moveTo(r.row-1,Number.MAX_VALUE),o.insert(`
`),r.row===0&&o.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(o){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),o.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(o){o.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(o){o.prompt({$type:"modes"})},readOnly:!0}];for(var d=1;d<9;d++)i.commands.push({name:"foldToLevel"+d,description:"Fold To Level "+d,level:d,exec:function(o){o.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,i,v){var u=n("./lib/dom"),y=function(){function c(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return c.prototype.getRowLength=function(s){var d;return this.lineWidgets?d=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:d=0,!this.$useWrapMode||!this.$wrapData[s]?1+d:this.$wrapData[s].length+1+d},c.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(d){d&&d.rowCount&&!d.hidden&&(s+=d.rowCount)}),s},c.prototype.$onChangeEditor=function(s){this.attach(s.editor)},c.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},c.prototype.detach=function(s){var d=this.editor;if(d){this.editor=null,d.widgetManager=null,d.renderer.off("beforeRender",this.measureWidgets),d.renderer.off("afterRender",this.renderWidgets);var o=this.session.lineWidgets;o&&o.forEach(function(r){r&&r.el&&r.el.parentNode&&(r._inDocument=!1,r.el.parentNode.removeChild(r.el))})}},c.prototype.updateOnFold=function(s,d){var o=d.lineWidgets;if(!(!o||!s.action)){for(var r=s.data,a=r.start.row,l=r.end.row,h=s.action=="add",f=a+1;f<l;f++)o[f]&&(o[f].hidden=h);o[l]&&(h?o[a]?o[l].hidden=h:o[a]=o[l]:(o[a]==o[l]&&(o[a]=void 0),o[l].hidden=h))}},c.prototype.updateOnChange=function(s){var d=this.session.lineWidgets;if(d){var o=s.start.row,r=s.end.row-o;if(r!==0)if(s.action=="remove"){var a=d.splice(o+1,r);!d[o]&&a[a.length-1]&&(d[o]=a.pop()),a.forEach(function(h){h&&this.removeLineWidget(h)},this),this.$updateRows()}else{var l=new Array(r);d[o]&&d[o].column!=null&&s.start.column>d[o].column&&o++,l.unshift(o,0),d.splice.apply(d,l),this.$updateRows()}}},c.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var d=!0;s.forEach(function(o,r){if(o)for(d=!1,o.row=r;o.$oldWidget;)o.$oldWidget.row=r,o=o.$oldWidget}),d&&(this.session.lineWidgets=null)}},c.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var d=this.session.lineWidgets[s.row];return d&&(s.$oldWidget=d,d.el&&d.el.parentNode&&(d.el.parentNode.removeChild(d.el),d._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},c.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var d=this.editor.renderer;s.html&&!s.el&&(s.el=u.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=u.createElement("div"),s.el.textContent=s.text),s.el&&(u.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&u.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex="5",d.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex="3"),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/d.layerConfig.lineHeight);var o=this.session.getFoldAt(s.row,0);if(s.$fold=o,o){var r=this.session.lineWidgets;s.row==o.end.row&&!r[o.start.row]?r[o.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,d),this.onWidgetChanged(s),s},c.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var d=this.session.lineWidgets[s.row];if(d==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;d;){if(d.$oldWidget==s){d.$oldWidget=s.$oldWidget;break}d=d.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},c.prototype.getWidgetsAtRow=function(s){for(var d=this.session.lineWidgets,o=d&&d[s],r=[];o;)r.push(o),o=o.$oldWidget;return r},c.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},c.prototype.measureWidgets=function(s,d){var o=this.session._changedWidgets,r=d.layerConfig;if(!(!o||!o.length)){for(var a=1/0,l=0;l<o.length;l++){var h=o[l];if(!(!h||!h.el)&&h.session==this.session){if(!h._inDocument){if(this.session.lineWidgets[h.row]!=h)continue;h._inDocument=!0,d.container.appendChild(h.el)}h.h=h.el.offsetHeight,h.fixedWidth||(h.w=h.el.offsetWidth,h.screenWidth=Math.ceil(h.w/r.characterWidth));var f=h.h/r.lineHeight;h.coverLine&&(f-=this.session.getRowLineCount(h.row),f<0&&(f=0)),h.rowCount!=f&&(h.rowCount=f,h.row<a&&(a=h.row))}}a!=1/0&&(this.session._emit("changeFold",{data:{start:{row:a}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},c.prototype.renderWidgets=function(s,d){var o=d.layerConfig,r=this.session.lineWidgets;if(r){for(var a=Math.min(this.firstRow,o.firstRow),l=Math.max(this.lastRow,o.lastRow,r.length);a>0&&!r[a];)a--;this.firstRow=o.firstRow,this.lastRow=o.lastRow,d.$cursorLayer.config=o;for(var h=a;h<=l;h++){var f=r[h];if(!(!f||!f.el)){if(f.hidden){f.el.style.top=-100-(f.pixelHeight||0)+"px";continue}f._inDocument||(f._inDocument=!0,d.container.appendChild(f.el));var p=d.$cursorLayer.getPixelPosition({row:h,column:0},!0).top;f.coverLine||(p+=o.lineHeight*this.session.getRowLineCount(f.row)),f.el.style.top=p-o.offset+"px";var m=f.coverGutter?0:d.gutterWidth;f.fixedWidth||(m-=d.scrollLeft),f.el.style.left=m+"px",f.fullWidth&&f.screenWidth&&(f.el.style.minWidth=o.width+2*o.padding+"px"),f.fixedWidth?f.el.style.right=d.scrollBar.getWidth()+"px":f.el.style.right=""}}}},c}();i.LineWidgets=y}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,i,v){var u=n("../lib/keys"),y=n("../mouse/default_gutter_handler").GutterTooltip,c=function(){function d(o){this.editor=o,this.gutterLayer=o.renderer.$gutterLayer,this.element=o.renderer.$gutter,this.lines=o.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new y(this.editor)}return d.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},d.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},d.prototype.$onGutterKeyDown=function(o){if(this.annotationTooltip.isOpen){o.preventDefault(),o.keyCode===u.escape&&this.annotationTooltip.hideTooltip();return}if(o.target===this.element){if(o.keyCode!=u.enter)return;o.preventDefault();var r=this.editor.getCursorPosition().row;this.editor.isRowVisible(r)||this.editor.scrollToLine(r,!0,!0),setTimeout((function(){var a=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),l=this.$findNearestFoldWidget(a),h=this.$findNearestAnnotation(a);if(!(l===null&&h===null)){if(l===null&&h!==null){this.activeRowIndex=h,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(l!==null&&h===null){this.activeRowIndex=l,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(h-a)<Math.abs(l-a)){this.activeRowIndex=h,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=l,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(o),setTimeout((function(){this.editor._signal("gutterkeydown",new s(o,this))}).bind(this),10)},d.prototype.$handleGutterKeyboardInteraction=function(o){if(o.keyCode===u.tab){o.preventDefault();return}if(o.keyCode===u.escape){o.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(o.keyCode===u.up){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(o.keyCode===u.down){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(o.keyCode===u.left){o.preventDefault(),this.$switchLane("annotation");return}if(o.keyCode===u.right){o.preventDefault(),this.$switchLane("fold");return}if(o.keyCode===u.enter||o.keyCode===u.space){switch(o.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var r=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),o),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==r&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(r),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var a=this.lines.cells[this.activeRowIndex].element.childNodes[2],l=a.getBoundingClientRect(),h=this.annotationTooltip.getElement().style;h.left=l.right+"px",h.top=l.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},d.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},d.prototype.$isFoldWidgetVisible=function(o){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),a=this.$getFoldWidget(o).style.display!=="none";return r&&a},d.prototype.$isAnnotationVisible=function(o){var r=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),a=this.$getAnnotation(o).style.display!=="none";return r&&a},d.prototype.$getFoldWidget=function(o){var r=this.lines.get(o),a=r.element;return a.childNodes[1]},d.prototype.$getAnnotation=function(o){var r=this.lines.get(o),a=r.element;return a.childNodes[2]},d.prototype.$findNearestFoldWidget=function(o){if(this.$isFoldWidgetVisible(o))return o;for(var r=0;o-r>0||o+r<this.lines.getLength()-1;){if(r++,o-r>=0&&this.$isFoldWidgetVisible(o-r))return o-r;if(o+r<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(o+r))return o+r}return null},d.prototype.$findNearestAnnotation=function(o){if(this.$isAnnotationVisible(o))return o;for(var r=0;o-r>0||o+r<this.lines.getLength()-1;){if(r++,o-r>=0&&this.$isAnnotationVisible(o-r))return o-r;if(o+r<=this.lines.getLength()-1&&this.$isAnnotationVisible(o+r))return o+r}return null},d.prototype.$focusFoldWidget=function(o){if(o!=null){var r=this.$getFoldWidget(o);r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus()}},d.prototype.$focusAnnotation=function(o){if(o!=null){var r=this.$getAnnotation(o);r.classList.add(this.editor.renderer.keyboardFocusClassName),r.focus()}},d.prototype.$blurFoldWidget=function(o){var r=this.$getFoldWidget(o);r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur()},d.prototype.$blurAnnotation=function(o){var r=this.$getAnnotation(o);r.classList.remove(this.editor.renderer.keyboardFocusClassName),r.blur()},d.prototype.$moveFoldWidgetUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},d.prototype.$moveFoldWidgetDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},d.prototype.$moveAnnotationUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$moveAnnotationDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$switchLane=function(o){switch(o){case"annotation":if(this.activeLane==="annotation")break;var r=this.$findNearestAnnotation(this.activeRowIndex);if(r==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=r,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var a=this.$findNearestFoldWidget(this.activeRowIndex);if(a==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=a,this.$focusFoldWidget(this.activeRowIndex);break}},d.prototype.$rowIndexToRow=function(o){var r=this.lines.get(o);return r?r.row:null},d.prototype.$rowToRowIndex=function(o){for(var r=0;r<this.lines.getLength();r++){var a=this.lines.get(r);if(a.row==o)return r}return null},d}();i.GutterKeyboardHandler=c;var s=function(){function d(o,r){this.gutterKeyboardHandler=r,this.domEvent=o}return d.prototype.getKey=function(){return u.keyCodeToString(this.domEvent.keyCode)},d.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},d.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},d.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},d}();i.GutterKeyboardEvent=s}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(n,i,v){var u=this&&this.__values||function(E){var A=typeof Symbol=="function"&&Symbol.iterator,R=A&&E[A],I=0;if(R)return R.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&I>=E.length&&(E=void 0),{value:E&&E[I++],done:!E}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},y=n("./lib/oop"),c=n("./lib/dom"),s=n("./lib/lang"),d=n("./lib/useragent"),o=n("./keyboard/textinput").TextInput,r=n("./mouse/mouse_handler").MouseHandler,a=n("./mouse/fold_handler").FoldHandler,l=n("./keyboard/keybinding").KeyBinding,h=n("./edit_session").EditSession,f=n("./search").Search,p=n("./range").Range,m=n("./lib/event_emitter").EventEmitter,g=n("./commands/command_manager").CommandManager,w=n("./commands/default_commands").commands,S=n("./config"),b=n("./token_iterator").TokenIterator,_=n("./line_widgets").LineWidgets,x=n("./keyboard/gutter_handler").GutterKeyboardHandler,C=n("./config").nls,k=n("./clipboard"),M=n("./lib/keys"),T=function(){function E(A,R,I){this.session,this.$toDestroy=[];var D=A.getContainerElement();this.container=D,this.renderer=A,this.id="editor"+ ++E.$uid,this.commands=new g(d.isMac?"mac":"win",w),typeof document=="object"&&(this.textInput=new o(A.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new r(this),new a(this)),this.keyBinding=new l(this),this.$search=new f().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(P,O){O._$emitInputEvent.schedule(31)}),this.setSession(R||I&&I.session||new h("")),S.resetOptions(this),I&&this.setOptions(I),S._signal("editor",this)}return E.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=s.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},E.prototype.startOperation=function(A){if(this.curOp){if(!A||this.curOp.command)return;this.prevOp=this.curOp}A||(this.previousCommand=null,A={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:A.command||{},args:A.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},E.prototype.endOperation=function(A){if(this.curOp&&this.session){if(A&&A.returnValue===!1||!this.session)return this.curOp=null;if(A==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var R=this.curOp.command,I=R&&R.scrollIntoView;if(I){switch(I){case"center-animate":I="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var D=this.selection.getRange(),P=this.renderer.layerConfig;(D.start.row>=P.lastRow||D.end.row<=P.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}I=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var O=this.selection.toJSON();this.curOp.selectionAfter=O,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(O),this.prevOp=this.curOp,this.curOp=null}},E.prototype.$historyTracker=function(A){if(this.$mergeUndoDeltas){var R=this.prevOp,I=this.$mergeableCommands,D=R.command&&A.command.name==R.command.name;if(A.command.name=="insertstring"){var P=A.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),D=D&&this.mergeNextCommand&&(!/\s/.test(P)||/\s/.test(R.args)),this.mergeNextCommand=!0}else D=D&&I.indexOf(A.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(D=!1),D?this.session.mergeUndoDeltas=!0:I.indexOf(A.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},E.prototype.setKeyboardHandler=function(A,R){if(A&&typeof A=="string"&&A!="ace"){this.$keybindingId=A;var I=this;S.loadModule(["keybinding",A],function(D){I.$keybindingId==A&&I.keyBinding.setKeyboardHandler(D&&D.handler),R&&R()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(A),R&&R()},E.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},E.prototype.setSession=function(A){if(this.session!=A){this.curOp&&this.endOperation(),this.curOp={};var R=this.session;if(R){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var I=this.session.getSelection();I.off("changeCursor",this.$onCursorChange),I.off("changeSelection",this.$onSelectionChange)}this.session=A,A?(this.$onDocumentChange=this.onDocumentChange.bind(this),A.on("change",this.$onDocumentChange),this.renderer.setSession(A),this.$onChangeMode=this.onChangeMode.bind(this),A.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),A.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),A.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),A.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),A.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),A.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=A.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(A)),this._signal("changeSession",{session:A,oldSession:R}),this.curOp=null,R&&R._signal("changeEditor",{oldEditor:this}),A&&A._signal("changeEditor",{editor:this}),A&&!A.destroyed&&A.bgTokenizer.scheduleStart()}},E.prototype.getSession=function(){return this.session},E.prototype.setValue=function(A,R){return this.session.doc.setValue(A),R?R==1?this.navigateFileEnd():R==-1&&this.navigateFileStart():this.selectAll(),A},E.prototype.getValue=function(){return this.session.getValue()},E.prototype.getSelection=function(){return this.selection},E.prototype.resize=function(A){this.renderer.onResize(A)},E.prototype.setTheme=function(A,R){this.renderer.setTheme(A,R)},E.prototype.getTheme=function(){return this.renderer.getTheme()},E.prototype.setStyle=function(A){this.renderer.setStyle(A)},E.prototype.unsetStyle=function(A){this.renderer.unsetStyle(A)},E.prototype.getFontSize=function(){return this.getOption("fontSize")||c.computedStyle(this.container).fontSize},E.prototype.setFontSize=function(A){this.setOption("fontSize",A)},E.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var A=this;this.$highlightPending=!0,setTimeout(function(){A.$highlightPending=!1;var R=A.session;if(!(!R||R.destroyed)){R.$bracketHighlight&&(R.$bracketHighlight.markerIds.forEach(function(z){R.removeMarker(z)}),R.$bracketHighlight=null);var I=A.getCursorPosition(),D=A.getKeyboardHandler(),P=D&&D.$getDirectionForHighlight&&D.$getDirectionForHighlight(A),O=R.getMatchingBracketRanges(I,P);if(!O){var $=new b(R,I.row,I.column),N=$.getCurrentToken();if(N&&/\b(?:tag-open|tag-name)/.test(N.type)){var H=R.getMatchingTags(I);H&&(O=[H.openTagName.isEmpty()?H.openTag:H.openTagName,H.closeTagName.isEmpty()?H.closeTag:H.closeTagName])}}if(!O&&R.$mode.getMatching&&(O=R.$mode.getMatching(A.session)),!O){A.getHighlightIndentGuides()&&A.renderer.$textLayer.$highlightIndentGuide();return}var B="ace_bracket";Array.isArray(O)?O.length==1&&(B="ace_error_bracket"):O=[O],O.length==2&&(p.comparePoints(O[0].end,O[1].start)==0?O=[p.fromPoints(O[0].start,O[1].end)]:p.comparePoints(O[0].start,O[1].end)==0&&(O=[p.fromPoints(O[1].start,O[0].end)])),R.$bracketHighlight={ranges:O,markerIds:O.map(function(z){return R.addMarker(z,B,"text")})},A.getHighlightIndentGuides()&&A.renderer.$textLayer.$highlightIndentGuide()}},50)}},E.prototype.focus=function(){this.textInput.focus()},E.prototype.isFocused=function(){return this.textInput.isFocused()},E.prototype.blur=function(){this.textInput.blur()},E.prototype.onFocus=function(A){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",A))},E.prototype.onBlur=function(A){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",A))},E.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},E.prototype.onDocumentChange=function(A){var R=this.session.$useWrapMode,I=A.start.row==A.end.row?A.end.row:1/0;this.renderer.updateLines(A.start.row,I,R),this._signal("change",A),this.$cursorChange()},E.prototype.onTokenizerUpdate=function(A){var R=A.data;this.renderer.updateLines(R.first,R.last)},E.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},E.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},E.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},E.prototype.$updateHighlightActiveLine=function(){var A=this.getSession(),R;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(R=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(R=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(R=!1)),A.$highlightLineMarker&&!R)A.removeMarker(A.$highlightLineMarker.id),A.$highlightLineMarker=null;else if(!A.$highlightLineMarker&&R){var I=new p(R.row,R.column,R.row,1/0);I.id=A.addMarker(I,"ace_active-line","screenLine"),A.$highlightLineMarker=I}else R&&(A.$highlightLineMarker.start.row=R.row,A.$highlightLineMarker.end.row=R.row,A.$highlightLineMarker.start.column=R.column,A._signal("changeBackMarker"))},E.prototype.onSelectionChange=function(A){var R=this.session;if(R.$selectionMarker&&R.removeMarker(R.$selectionMarker),R.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var I=this.selection.getRange(),D=this.getSelectionStyle();R.$selectionMarker=R.addMarker(I,"ace_selection",D)}var P=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(P),this._signal("changeSelection")},E.prototype.$getSelectionHighLightRegexp=function(){var A=this.session,R=this.getSelectionRange();if(!(R.isEmpty()||R.isMultiLine())){var I=R.start.column,D=R.end.column,P=A.getLine(R.start.row),O=P.substring(I,D);if(!(O.length>5e3||!/[\w\d]/.test(O))){var $=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:O}),N=P.substring(I-1,D+1);if($.test(N))return $}}},E.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},E.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},E.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},E.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},E.prototype.onChangeMode=function(A){this.renderer.updateText(),this._emit("changeMode",A)},E.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},E.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},E.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},E.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},E.prototype.getCopyText=function(){var A=this.getSelectedText(),R=this.session.doc.getNewLineCharacter(),I=!1;if(!A&&this.$copyWithEmptySelection){I=!0;for(var D=this.selection.getAllRanges(),P=0;P<D.length;P++){var O=D[P];P&&D[P-1].start.row==O.start.row||(A+=this.session.getLine(O.start.row)+R)}}var $={text:A};return this._signal("copy",$),k.lineMode=I?$.text:!1,$.text},E.prototype.onCopy=function(){this.commands.exec("copy",this)},E.prototype.onCut=function(){this.commands.exec("cut",this)},E.prototype.onPaste=function(A,R){var I={text:A,event:R};this.commands.exec("paste",this,I)},E.prototype.$handlePaste=function(A){typeof A=="string"&&(A={text:A}),this._signal("paste",A);var R=A.text,I=R===k.lineMode,D=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)I?D.insert({row:this.selection.lead.row,column:0},R):this.insert(R);else if(I)this.selection.rangeList.ranges.forEach(function(B){D.insert({row:B.start.row,column:0},R)});else{var P=R.split(/\r\n|\r|\n/),O=this.selection.rangeList.ranges,$=P.length==2&&(!P[0]||!P[1]);if(P.length!=O.length||$)return this.commands.exec("insertstring",this,R);for(var N=O.length;N--;){var H=O[N];H.isEmpty()||D.remove(H),D.insert(H.start,P[N])}}},E.prototype.execCommand=function(A,R){return this.commands.exec(A,this,R)},E.prototype.insert=function(A,R){var I=this.session,D=I.getMode(),P=this.getCursorPosition();if(this.getBehavioursEnabled()&&!R){var O=D.transformAction(I.getState(P.row),"insertion",this,I,A);O&&(A!==O.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),A=O.text)}if(A=="	"&&(A=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&A.indexOf(`
`)==-1){var $=p.fromPoints(P,P);$.end.column+=A.length,this.session.remove($)}}else{var $=this.getSelectionRange();P=this.session.remove($),this.clearSelection()}if(A==`
`||A==`\r
`){var z=I.getLine(P.row);if(P.column>z.search(/\S|$/)){var N=z.substr(P.column).search(/\S|$/);I.doc.removeInLine(P.row,P.column,P.column+N)}}this.clearSelection();var H=P.column,B=I.getState(P.row),z=I.getLine(P.row),U=D.checkOutdent(B,z,A);if(I.insert(P,A),O&&O.selection&&(O.selection.length==2?this.selection.setSelectionRange(new p(P.row,H+O.selection[0],P.row,H+O.selection[1])):this.selection.setSelectionRange(new p(P.row+O.selection[0],O.selection[1],P.row+O.selection[2],O.selection[3]))),this.$enableAutoIndent){if(I.getDocument().isNewLine(A)){var V=D.getNextLineIndent(B,z.slice(0,P.column),I.getTabString());I.insert({row:P.row+1,column:0},V)}U&&D.autoOutdent(B,I,P.row)}},E.prototype.autoIndent=function(){for(var A=this.session,R=A.getMode(),I=this.selection.isEmpty()?[new p(0,0,A.doc.getLength()-1,0)]:this.selection.getAllRanges(),D="",P="",O="",$=A.getTabString(),N=0;N<I.length;N++)for(var H=I[N].start.row,B=I[N].end.row,z=H;z<=B;z++){z>0&&(D=A.getState(z-1),P=A.getLine(z-1),O=R.getNextLineIndent(D,P,$));var U=A.getLine(z),V=R.$getIndent(U);if(O!==V){if(V.length>0){var W=new p(z,0,z,V.length);A.remove(W)}O.length>0&&A.insert({row:z,column:0},O)}R.autoOutdent(D,A,z)}},E.prototype.onTextInput=function(A,R){if(!R)return this.keyBinding.onTextInput(A);this.startOperation({command:{name:"insertstring"}});var I=this.applyComposition.bind(this,A,R);this.selection.rangeCount?this.forEachSelection(I):I(),this.endOperation()},E.prototype.applyComposition=function(A,R){if(R.extendLeft||R.extendRight){var I=this.selection.getRange();I.start.column-=R.extendLeft,I.end.column+=R.extendRight,I.start.column<0&&(I.start.row--,I.start.column+=this.session.getLine(I.start.row).length+1),this.selection.setRange(I),!A&&!I.isEmpty()&&this.remove()}if((A||!this.selection.isEmpty())&&this.insert(A,!0),R.restoreStart||R.restoreEnd){var I=this.selection.getRange();I.start.column-=R.restoreStart,I.end.column-=R.restoreEnd,this.selection.setRange(I)}},E.prototype.onCommandKey=function(A,R,I){return this.keyBinding.onCommandKey(A,R,I)},E.prototype.setOverwrite=function(A){this.session.setOverwrite(A)},E.prototype.getOverwrite=function(){return this.session.getOverwrite()},E.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},E.prototype.setScrollSpeed=function(A){this.setOption("scrollSpeed",A)},E.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},E.prototype.setDragDelay=function(A){this.setOption("dragDelay",A)},E.prototype.getDragDelay=function(){return this.getOption("dragDelay")},E.prototype.setSelectionStyle=function(A){this.setOption("selectionStyle",A)},E.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},E.prototype.setHighlightActiveLine=function(A){this.setOption("highlightActiveLine",A)},E.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},E.prototype.setHighlightGutterLine=function(A){this.setOption("highlightGutterLine",A)},E.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},E.prototype.setHighlightSelectedWord=function(A){this.setOption("highlightSelectedWord",A)},E.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},E.prototype.setAnimatedScroll=function(A){this.renderer.setAnimatedScroll(A)},E.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},E.prototype.setShowInvisibles=function(A){this.renderer.setShowInvisibles(A)},E.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},E.prototype.setDisplayIndentGuides=function(A){this.renderer.setDisplayIndentGuides(A)},E.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},E.prototype.setHighlightIndentGuides=function(A){this.renderer.setHighlightIndentGuides(A)},E.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},E.prototype.setShowPrintMargin=function(A){this.renderer.setShowPrintMargin(A)},E.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},E.prototype.setPrintMarginColumn=function(A){this.renderer.setPrintMarginColumn(A)},E.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},E.prototype.setReadOnly=function(A){this.setOption("readOnly",A)},E.prototype.getReadOnly=function(){return this.getOption("readOnly")},E.prototype.setBehavioursEnabled=function(A){this.setOption("behavioursEnabled",A)},E.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},E.prototype.setWrapBehavioursEnabled=function(A){this.setOption("wrapBehavioursEnabled",A)},E.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},E.prototype.setShowFoldWidgets=function(A){this.setOption("showFoldWidgets",A)},E.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},E.prototype.setFadeFoldWidgets=function(A){this.setOption("fadeFoldWidgets",A)},E.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},E.prototype.remove=function(A){this.selection.isEmpty()&&(A=="left"?this.selection.selectLeft():this.selection.selectRight());var R=this.getSelectionRange();if(this.getBehavioursEnabled()){var I=this.session,D=I.getState(R.start.row),P=I.getMode().transformAction(D,"deletion",this,I,R);if(R.end.column===0){var O=I.getTextRange(R);if(O[O.length-1]==`
`){var $=I.getLine(R.end.row);/^\s+$/.test($)&&(R.end.column=$.length)}}P&&(R=P)}this.session.remove(R),this.clearSelection()},E.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},E.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},E.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},E.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var A=this.getSelectionRange();A.start.column==A.end.column&&A.start.row==A.end.row&&(A.end.column=0,A.end.row++),this.session.remove(A),this.clearSelection()},E.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var A=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(A)},E.prototype.setGhostText=function(A,R){this.session.widgetManager||(this.session.widgetManager=new _(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(A,R)},E.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},E.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var A=this.getCursorPosition(),R=A.column;if(R!==0){var I=this.session.getLine(A.row),D,P;R<I.length?(D=I.charAt(R)+I.charAt(R-1),P=new p(A.row,R-1,A.row,R+1)):(D=I.charAt(R-1)+I.charAt(R-2),P=new p(A.row,R-2,A.row,R)),this.session.replace(P,D),this.session.selection.moveToPosition(P.end)}}},E.prototype.toLowerCase=function(){var A=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var R=this.getSelectionRange(),I=this.session.getTextRange(R);this.session.replace(R,I.toLowerCase()),this.selection.setSelectionRange(A)},E.prototype.toUpperCase=function(){var A=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var R=this.getSelectionRange(),I=this.session.getTextRange(R);this.session.replace(R,I.toUpperCase()),this.selection.setSelectionRange(A)},E.prototype.indent=function(){var A=this.session,R=this.getSelectionRange();if(R.start.row<R.end.row){var I=this.$getSelectedRows();A.indentRows(I.first,I.last,"	");return}else if(R.start.column<R.end.column){var D=A.getTextRange(R);if(!/^\s+$/.test(D)){var I=this.$getSelectedRows();A.indentRows(I.first,I.last,"	");return}}var P=A.getLine(R.start.row),O=R.start,$=A.getTabSize(),N=A.documentToScreenColumn(O.row,O.column);if(this.session.getUseSoftTabs())var H=$-N%$,B=s.stringRepeat(" ",H);else{for(var H=N%$;P[R.start.column-1]==" "&&H;)R.start.column--,H--;this.selection.setSelectionRange(R),B="	"}return this.insert(B)},E.prototype.blockIndent=function(){var A=this.$getSelectedRows();this.session.indentRows(A.first,A.last,"	")},E.prototype.blockOutdent=function(){var A=this.session.getSelection();this.session.outdentRows(A.getRange())},E.prototype.sortLines=function(){for(var A=this.$getSelectedRows(),R=this.session,I=[],D=A.first;D<=A.last;D++)I.push(R.getLine(D));I.sort(function($,N){return $.toLowerCase()<N.toLowerCase()?-1:$.toLowerCase()>N.toLowerCase()?1:0});for(var P=new p(0,0,0,0),D=A.first;D<=A.last;D++){var O=R.getLine(D);P.start.row=D,P.end.row=D,P.end.column=O.length,R.replace(P,I[D-A.first])}},E.prototype.toggleCommentLines=function(){var A=this.session.getState(this.getCursorPosition().row),R=this.$getSelectedRows();this.session.getMode().toggleCommentLines(A,this.session,R.first,R.last)},E.prototype.toggleBlockComment=function(){var A=this.getCursorPosition(),R=this.session.getState(A.row),I=this.getSelectionRange();this.session.getMode().toggleBlockComment(R,this.session,I,A)},E.prototype.getNumberAt=function(A,R){var I=/[\-]?[0-9]+(?:\.[0-9]+)?/g;I.lastIndex=0;for(var D=this.session.getLine(A);I.lastIndex<R;){var P=I.exec(D);if(P.index<=R&&P.index+P[0].length>=R){var O={value:P[0],start:P.index,end:P.index+P[0].length};return O}}return null},E.prototype.modifyNumber=function(A){var R=this.selection.getCursor().row,I=this.selection.getCursor().column,D=new p(R,I-1,R,I),P=this.session.getTextRange(D);if(!isNaN(parseFloat(P))&&isFinite(P)){var O=this.getNumberAt(R,I);if(O){var $=O.value.indexOf(".")>=0?O.start+O.value.indexOf(".")+1:O.end,N=O.start+O.value.length-$,H=parseFloat(O.value);H*=Math.pow(10,N),$!==O.end&&I<$?A*=Math.pow(10,O.end-I-1):A*=Math.pow(10,O.end-I),H+=A,H/=Math.pow(10,N);var B=H.toFixed(N),z=new p(R,O.start,R,O.end);this.session.replace(z,B),this.moveCursorTo(R,Math.max(O.start+1,I+B.length-O.value.length))}}else this.toggleWord()},E.prototype.toggleWord=function(){var A=this.selection.getCursor().row,R=this.selection.getCursor().column;this.selection.selectWord();var I=this.getSelectedText(),D=this.selection.getWordRange().start.column,P=I.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),O=R-D-1;O<0&&(O=0);var $=0,N=0,H=this;I.match(/[A-Za-z0-9_]+/)&&P.forEach(function(Q,J){N=$+Q.length,O>=$&&O<=N&&(I=Q,H.selection.clearSelection(),H.moveCursorTo(A,$+D),H.selection.selectTo(A,N+D)),$=N});for(var B=this.$toggleWordPairs,z,U=0;U<B.length;U++)for(var V=B[U],W=0;W<=1;W++){var F=+!W,Y=I.match(new RegExp("^\\s?_?("+s.escapeRegExp(V[W])+")\\s?$","i"));if(Y){var G=I.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(Y[1])+")($|\\s)","g"));G&&(z=I.replace(new RegExp(s.escapeRegExp(V[W]),"i"),function(Q){var J=V[F];return Q.toUpperCase()==Q?J=J.toUpperCase():Q.charAt(0).toUpperCase()==Q.charAt(0)&&(J=J.substr(0,0)+V[F].charAt(0).toUpperCase()+J.substr(1)),J}),this.insert(z),z="")}}},E.prototype.findLinkAt=function(A,R){var I,D,P=this.session.getLine(A),O=P.split(/((?:https?|ftp):\/\/[\S]+)/),$=R;$<0&&($=0);var N=0,H=0,B;try{for(var z=u(O),U=z.next();!U.done;U=z.next()){var V=U.value;if(H=N+V.length,$>=N&&$<=H&&V.match(/((?:https?|ftp):\/\/[\S]+)/)){B=V.replace(/[\s:.,'";}\]]+$/,"");break}N=H}}catch(W){I={error:W}}finally{try{U&&!U.done&&(D=z.return)&&D.call(z)}finally{if(I)throw I.error}}return B},E.prototype.openLink=function(){var A=this.selection.getCursor(),R=this.findLinkAt(A.row,A.column);return R&&window.open(R,"_blank"),R!=null},E.prototype.removeLines=function(){var A=this.$getSelectedRows();this.session.removeFullLines(A.first,A.last),this.clearSelection()},E.prototype.duplicateSelection=function(){var A=this.selection,R=this.session,I=A.getRange(),D=A.isBackwards();if(I.isEmpty()){var P=I.start.row;R.duplicateLines(P,P)}else{var O=D?I.start:I.end,$=R.insert(O,R.getTextRange(I));I.start=O,I.end=$,A.setSelectionRange(I,D)}},E.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},E.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},E.prototype.moveText=function(A,R,I){return this.session.moveText(A,R,I)},E.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},E.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},E.prototype.$moveLines=function(A,R){var I,D,P=this.selection;if(!P.inMultiSelectMode||this.inVirtualSelectionMode){var O=P.toOrientedRange();I=this.$getSelectedRows(O),D=this.session.$moveLines(I.first,I.last,R?0:A),R&&A==-1&&(D=0),O.moveBy(D,0),P.fromOrientedRange(O)}else{var $=P.rangeList.ranges;P.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var N=0,H=0,B=$.length,z=0;z<B;z++){var U=z;$[z].moveBy(N,0),I=this.$getSelectedRows($[z]);for(var V=I.first,W=I.last;++z<B;){H&&$[z].moveBy(H,0);var F=this.$getSelectedRows($[z]);if(R&&F.first!=W)break;if(!R&&F.first>W+1)break;W=F.last}for(z--,N=this.session.$moveLines(V,W,R?0:A),R&&A==-1&&(U=z+1);U<=z;)$[U].moveBy(N,0),U++;R||(N=0),H+=N}P.fromOrientedRange(P.ranges[0]),P.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},E.prototype.$getSelectedRows=function(A){return A=(A||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(A.start.row),last:this.session.getRowFoldEnd(A.end.row)}},E.prototype.onCompositionStart=function(A){this.renderer.showComposition(A)},E.prototype.onCompositionUpdate=function(A){this.renderer.setCompositionText(A)},E.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},E.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},E.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},E.prototype.isRowVisible=function(A){return A>=this.getFirstVisibleRow()&&A<=this.getLastVisibleRow()},E.prototype.isRowFullyVisible=function(A){return A>=this.renderer.getFirstFullyVisibleRow()&&A<=this.renderer.getLastFullyVisibleRow()},E.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},E.prototype.$moveByPage=function(A,R){var I=this.renderer,D=this.renderer.layerConfig,P=A*Math.floor(D.height/D.lineHeight);R===!0?this.selection.$moveSelection(function(){this.moveCursorBy(P,0)}):R===!1&&(this.selection.moveCursorBy(P,0),this.selection.clearSelection());var O=I.scrollTop;I.scrollBy(0,P*D.lineHeight),R!=null&&I.scrollCursorIntoView(null,.5),I.animateScrolling(O)},E.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},E.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},E.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},E.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},E.prototype.scrollPageDown=function(){this.$moveByPage(1)},E.prototype.scrollPageUp=function(){this.$moveByPage(-1)},E.prototype.scrollToRow=function(A){this.renderer.scrollToRow(A)},E.prototype.scrollToLine=function(A,R,I,D){this.renderer.scrollToLine(A,R,I,D)},E.prototype.centerSelection=function(){var A=this.getSelectionRange(),R={row:Math.floor(A.start.row+(A.end.row-A.start.row)/2),column:Math.floor(A.start.column+(A.end.column-A.start.column)/2)};this.renderer.alignCursor(R,.5)},E.prototype.getCursorPosition=function(){return this.selection.getCursor()},E.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},E.prototype.getSelectionRange=function(){return this.selection.getRange()},E.prototype.selectAll=function(){this.selection.selectAll()},E.prototype.clearSelection=function(){this.selection.clearSelection()},E.prototype.moveCursorTo=function(A,R){this.selection.moveCursorTo(A,R)},E.prototype.moveCursorToPosition=function(A){this.selection.moveCursorToPosition(A)},E.prototype.jumpToMatching=function(A,R){var I=this.getCursorPosition(),D=new b(this.session,I.row,I.column),P=D.getCurrentToken(),O=0;P&&P.type.indexOf("tag-name")!==-1&&(P=D.stepBackward());var $=P||D.stepForward();if($){var N,H=!1,B={},z=I.column-$.start,U,V={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if($.value.match(/[{}()\[\]]/g)){for(;z<$.value.length&&!H;z++)if(V[$.value[z]])switch(U=V[$.value[z]]+"."+$.type.replace("rparen","lparen"),isNaN(B[U])&&(B[U]=0),$.value[z]){case"(":case"[":case"{":B[U]++;break;case")":case"]":case"}":B[U]--,B[U]===-1&&(N="bracket",H=!0);break}}else $.type.indexOf("tag-name")!==-1&&(isNaN(B[$.value])&&(B[$.value]=0),P.value==="<"&&O>1?B[$.value]++:P.value==="</"&&B[$.value]--,B[$.value]===-1&&(N="tag",H=!0));H||(P=$,O++,$=D.stepForward(),z=0)}while($&&!H);if(N){var W,F;if(N==="bracket")W=this.session.getBracketRange(I),W||(W=new p(D.getCurrentTokenRow(),D.getCurrentTokenColumn()+z-1,D.getCurrentTokenRow(),D.getCurrentTokenColumn()+z-1),F=W.start,(R||F.row===I.row&&Math.abs(F.column-I.column)<2)&&(W=this.session.getBracketRange(F)));else if(N==="tag"){if(!$||$.type.indexOf("tag-name")===-1)return;if(W=new p(D.getCurrentTokenRow(),D.getCurrentTokenColumn()-2,D.getCurrentTokenRow(),D.getCurrentTokenColumn()-2),W.compare(I.row,I.column)===0){var Y=this.session.getMatchingTags(I);Y&&(Y.openTag.contains(I.row,I.column)?(W=Y.closeTag,F=W.start):(W=Y.openTag,Y.closeTag.start.row===I.row&&Y.closeTag.start.column===I.column?F=W.end:F=W.start))}F=F||W.start}F=W&&W.cursor||F,F&&(A?W&&R?this.selection.setRange(W):W&&W.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(F.row,F.column):this.selection.moveTo(F.row,F.column))}}},E.prototype.gotoLine=function(A,R,I){this.selection.clearSelection(),this.session.unfold({row:A-1,column:R||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(A-1,R||0),this.isRowFullyVisible(A-1)||this.scrollToLine(A-1,!0,I)},E.prototype.navigateTo=function(A,R){this.selection.moveTo(A,R)},E.prototype.navigateUp=function(A){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var R=this.selection.anchor.getPosition();return this.moveCursorToPosition(R)}this.selection.clearSelection(),this.selection.moveCursorBy(-A||-1,0)},E.prototype.navigateDown=function(A){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var R=this.selection.anchor.getPosition();return this.moveCursorToPosition(R)}this.selection.clearSelection(),this.selection.moveCursorBy(A||1,0)},E.prototype.navigateLeft=function(A){if(this.selection.isEmpty())for(A=A||1;A--;)this.selection.moveCursorLeft();else{var R=this.getSelectionRange().start;this.moveCursorToPosition(R)}this.clearSelection()},E.prototype.navigateRight=function(A){if(this.selection.isEmpty())for(A=A||1;A--;)this.selection.moveCursorRight();else{var R=this.getSelectionRange().end;this.moveCursorToPosition(R)}this.clearSelection()},E.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},E.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},E.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},E.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},E.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},E.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},E.prototype.replace=function(A,R){R&&this.$search.set(R);var I=this.$search.find(this.session),D=0;return I&&(this.$tryReplace(I,A)&&(D=1),this.selection.setSelectionRange(I),this.renderer.scrollSelectionIntoView(I.start,I.end)),D},E.prototype.replaceAll=function(A,R){R&&this.$search.set(R);var I=this.$search.findAll(this.session),D=0;if(!I.length)return D;var P=this.getSelectionRange();this.selection.moveTo(0,0);for(var O=I.length-1;O>=0;--O)this.$tryReplace(I[O],A)&&D++;return this.selection.setSelectionRange(P),D},E.prototype.$tryReplace=function(A,R){var I=this.session.getTextRange(A);return R=this.$search.replace(I,R),R!==null?(A.end=this.session.replace(A,R),A):null},E.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},E.prototype.find=function(A,R,I){R||(R={}),typeof A=="string"||A instanceof RegExp?R.needle=A:typeof A=="object"&&y.mixin(R,A);var D=this.selection.getRange();R.needle==null&&(A=this.session.getTextRange(D)||this.$search.$options.needle,A||(D=this.session.getWordRange(D.start.row,D.start.column),A=this.session.getTextRange(D)),this.$search.set({needle:A})),this.$search.set(R),R.start||this.$search.set({start:D});var P=this.$search.find(this.session);if(R.preventScroll)return P;if(P)return this.revealRange(P,I),P;R.backwards?D.start=D.end:D.end=D.start,this.selection.setRange(D)},E.prototype.findNext=function(A,R){this.find({skipCurrent:!0,backwards:!1},A,R)},E.prototype.findPrevious=function(A,R){this.find(A,{skipCurrent:!0,backwards:!0},R)},E.prototype.revealRange=function(A,R){this.session.unfold(A),this.selection.setSelectionRange(A);var I=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(A.start,A.end,.5),R!==!1&&this.renderer.animateScrolling(I)},E.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},E.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},E.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(A){A.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},E.prototype.setAutoScrollEditorIntoView=function(A){if(A){var R,I=this,D=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var P=this.$scrollAnchor;P.style.cssText="position:absolute",this.container.insertBefore(P,this.container.firstChild);var O=this.on("changeSelection",function(){D=!0}),$=this.renderer.on("beforeRender",function(){D&&(R=I.renderer.container.getBoundingClientRect())}),N=this.renderer.on("afterRender",function(){if(D&&R&&(I.isFocused()||I.searchBox&&I.searchBox.isFocused())){var H=I.renderer,B=H.$cursorLayer.$pixelPos,z=H.layerConfig,U=B.top-z.offset;B.top>=0&&U+R.top<0?D=!0:B.top<z.height&&B.top+R.top+z.lineHeight>window.innerHeight?D=!1:D=null,D!=null&&(P.style.top=U+"px",P.style.left=B.left+"px",P.style.height=z.lineHeight+"px",P.scrollIntoView(D)),D=R=null}});this.setAutoScrollEditorIntoView=function(H){H||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",O),this.renderer.off("afterRender",N),this.renderer.off("beforeRender",$))}}},E.prototype.$resetCursorStyle=function(){var A=this.$cursorStyle||"ace",R=this.renderer.$cursorLayer;R&&(R.setSmoothBlinking(/smooth/.test(A)),R.isBlinking=!this.$readOnly&&A!="wide",c.setCssClass(R.element,"ace_slim-cursors",/slim/.test(A)))},E.prototype.prompt=function(A,R,I){var D=this;S.loadModule("ace/ext/prompt",function(P){P.prompt(D,A,R,I)})},E}();T.$uid=0,T.prototype.curOp=null,T.prototype.prevOp={},T.prototype.$mergeableCommands=["backspace","del","insertstring"],T.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],y.implement(T.prototype,m),S.defineOptions(T.prototype,"editor",{selectionStyle:{set:function(E){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:E})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(E){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(E){this.textInput.setReadOnly(E),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(E){this.textInput.setCopyWithEmptySelection(E)},initialValue:!1},cursorStyle:{set:function(E){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(E){this.setAutoScrollEditorIntoView(E)}},keyboardHandler:{set:function(E){this.setKeyboardHandler(E)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(E){this.session.setValue(E)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(E){this.setSession(E)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(E){this.renderer.$gutterLayer.setShowLineNumbers(E),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),E&&this.$relativeLineNumbers?L.attach(this):L.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(E){this.$showLineNumbers&&E?L.attach(this):L.detach(this)}},placeholder:{set:function(E){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var A=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(A&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),c.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!A&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),c.addCssClass(this.container,"ace_hasPlaceholder");var R=c.createElement("div");R.className="ace_placeholder",R.textContent=this.$placeholder||"",this.renderer.placeholderNode=R,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!A&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(E){var A={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(D){D.blur(),D.renderer.scroller.focus()},readOnly:!0},R=function(D){if(D.target==this.renderer.scroller&&D.keyCode===M.enter){D.preventDefault();var P=this.getCursorPosition().row;this.isRowVisible(P)||this.scrollToLine(P,!0,!0),this.focus()}},I;E?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(d.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",C("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",C("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",R.bind(this)),this.commands.addCommand(A),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",C("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",C("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),I||(I=new x(this)),I.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",R.bind(this)),this.commands.removeCommand(A),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),I&&I.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var L={getText:function(E,A){return(Math.abs(E.selection.lead.row-A)||A+1+(A<9?"·":""))+""},getWidth:function(E,A,R){return Math.max(A.toString().length,(R.lastRow+1).toString().length,2)*R.characterWidth},update:function(E,A){A.renderer.$loop.schedule(A.renderer.CHANGE_GUTTER)},attach:function(E){E.renderer.$gutterLayer.$renderer=this,E.on("changeSelection",this.update),this.update(null,E)},detach:function(E){E.renderer.$gutterLayer.$renderer==this&&(E.renderer.$gutterLayer.$renderer=null),E.off("changeSelection",this.update),this.update(null,E)}};i.Editor=T}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,i,v){var u=n("../lib/dom"),y=function(){function c(s,d){this.element=s,this.canvasHeight=d||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return c.prototype.moveContainer=function(s){u.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},c.prototype.pageChanged=function(s,d){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)},c.prototype.computeLineTop=function(s,d,o){var r=d.firstRowScreen*d.lineHeight,a=Math.floor(r/this.canvasHeight),l=o.documentToScreenRow(s,0)*d.lineHeight;return l-a*this.canvasHeight},c.prototype.computeLineHeight=function(s,d,o){return d.lineHeight*o.getRowLineCount(s)},c.prototype.getLength=function(){return this.cells.length},c.prototype.get=function(s){return this.cells[s]},c.prototype.shift=function(){this.$cacheCell(this.cells.shift())},c.prototype.pop=function(){this.$cacheCell(this.cells.pop())},c.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var d=u.createFragment(this.element),o=0;o<s.length;o++)d.appendChild(s[o].element);this.element.appendChild(d)}else this.cells.push(s),this.element.appendChild(s.element)},c.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var d=u.createFragment(this.element),o=0;o<s.length;o++)d.appendChild(s[o].element);this.element.firstChild?this.element.insertBefore(d,this.element.firstChild):this.element.appendChild(d)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},c.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},c.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},c.prototype.createCell=function(s,d,o,r){var a=this.cellCache.pop();if(!a){var l=u.createElement("div");r&&r(l),this.element.appendChild(l),a={element:l,text:"",row:s}}return a.row=s,a},c}();i.Lines=y}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,i,v){var u=n("../lib/dom"),y=n("../lib/oop"),c=n("../lib/lang"),s=n("../lib/event_emitter").EventEmitter,d=n("./lines").Lines,o=n("../config").nls,r=function(){function l(h){this.element=u.createElement("div"),this.element.className="ace_layer ace_gutter-layer",h.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new d(this.element),this.$lines.$offsetCoefficient=1}return l.prototype.setSession=function(h){this.session&&this.session.off("change",this.$updateAnnotations),this.session=h,h&&h.on("change",this.$updateAnnotations)},l.prototype.addGutterDecoration=function(h,f){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(h,f)},l.prototype.removeGutterDecoration=function(h,f){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(h,f)},l.prototype.setAnnotations=function(h){this.$annotations=[];for(var f=0;f<h.length;f++){var p=h[f],m=p.row,g=this.$annotations[m];g||(g=this.$annotations[m]={text:[],type:[]});var w=p.text,S=p.type;w=w?c.escapeHTML(w):p.html||"",g.text.indexOf(w)===-1&&(g.text.push(w),g.type.push(S));var b=p.className;b?g.className=b:S=="error"?g.className=" ace_error":S=="warning"&&g.className!=" ace_error"?g.className=" ace_warning":S=="info"&&!g.className&&(g.className=" ace_info")}},l.prototype.$updateAnnotations=function(h){if(this.$annotations.length){var f=h.start.row,p=h.end.row-f;if(p!==0)if(h.action=="remove")this.$annotations.splice(f,p+1,null);else{var m=new Array(p+1);m.unshift(f,1),this.$annotations.splice.apply(this.$annotations,m)}}},l.prototype.update=function(h){this.config=h;var f=this.session,p=h.firstRow,m=Math.min(h.lastRow+h.gutterOffset,f.getLength()-1);this.oldLastRow=m,this.config=h,this.$lines.moveContainer(h),this.$updateCursorRow();for(var g=f.getNextFoldLine(p),w=g?g.start.row:1/0,S=null,b=-1,_=p;;){if(_>w&&(_=g.end.row+1,g=f.getNextFoldLine(_,g),w=g?g.start.row:1/0),_>m){for(;this.$lines.getLength()>b+1;)this.$lines.pop();break}S=this.$lines.get(++b),S?S.row=_:(S=this.$lines.createCell(_,h,this.session,a),this.$lines.push(S)),this.$renderCell(S,h,g,_),_++}this._signal("afterRender"),this.$updateGutterWidth(h)},l.prototype.$updateGutterWidth=function(h){var f=this.session,p=f.gutterRenderer||this.$renderer,m=f.$firstLineNumber,g=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||f.$useWrapMode)&&(g=f.getLength()+m-1);var w=p?p.getWidth(f,g,h):g.toString().length*h.characterWidth,S=this.$padding||this.$computePadding();w+=S.left+S.right,w!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",w))},l.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var h=this.session.selection.getCursor();this.$cursorRow!==h.row&&(this.$cursorRow=h.row)}},l.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var h=this.session.selection.cursor.row;if(this.$cursorRow=h,!(this.$cursorCell&&this.$cursorCell.row==h)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var f=this.$lines.cells;this.$cursorCell=null;for(var p=0;p<f.length;p++){var m=f[p];if(m.row>=this.$cursorRow){if(m.row>this.$cursorRow){var g=this.session.getFoldLine(this.$cursorRow);if(p>0&&g&&g.start.row==f[p-1].row)m=f[p-1];else break}m.element.className="ace_gutter-active-line "+m.element.className,this.$cursorCell=m;break}}}}},l.prototype.scrollLines=function(h){var f=this.config;if(this.config=h,this.$updateCursorRow(),this.$lines.pageChanged(f,h))return this.update(h);this.$lines.moveContainer(h);var p=Math.min(h.lastRow+h.gutterOffset,this.session.getLength()-1),m=this.oldLastRow;if(this.oldLastRow=p,!f||m<h.firstRow)return this.update(h);if(p<f.firstRow)return this.update(h);if(f.firstRow<h.firstRow)for(var g=this.session.getFoldedRowCount(f.firstRow,h.firstRow-1);g>0;g--)this.$lines.shift();if(m>p)for(var g=this.session.getFoldedRowCount(p+1,m);g>0;g--)this.$lines.pop();h.firstRow<f.firstRow&&this.$lines.unshift(this.$renderLines(h,h.firstRow,f.firstRow-1)),p>m&&this.$lines.push(this.$renderLines(h,m+1,p)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(h)},l.prototype.$renderLines=function(h,f,p){for(var m=[],g=f,w=this.session.getNextFoldLine(g),S=w?w.start.row:1/0;g>S&&(g=w.end.row+1,w=this.session.getNextFoldLine(g,w),S=w?w.start.row:1/0),!(g>p);){var b=this.$lines.createCell(g,h,this.session,a);this.$renderCell(b,h,w,g),m.push(b),g++}return m},l.prototype.$renderCell=function(h,f,p,m){var g=h.element,w=this.session,S=g.childNodes[0],b=g.childNodes[1],_=g.childNodes[2],x=_.firstChild,C=w.$firstLineNumber,k=w.$breakpoints,M=w.$decorations,T=w.gutterRenderer||this.$renderer,L=this.$showFoldWidgets&&w.foldWidgets,E=p?p.start.row:Number.MAX_VALUE,A=f.lineHeight+"px",R=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",I=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",D=(T?T.getText(w,m):m+C).toString();if(this.$highlightGutterLine&&(m==this.$cursorRow||p&&m<this.$cursorRow&&m>=E&&this.$cursorRow<=p.end.row)&&(R+="ace_gutter-active-line ",this.$cursorCell!=h&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=h)),k[m]&&(R+=k[m]),M[m]&&(R+=M[m]),this.$annotations[m]&&m!==E&&(R+=this.$annotations[m].className),L){var P=L[m];P==null&&(P=L[m]=w.getFoldWidget(m))}if(P){var O="ace_fold-widget ace_"+P,$=P=="start"&&m==E&&m<p.end.row;if($){O+=" ace_closed";for(var N="",H=!1,B=m+1;B<=p.end.row;B++)if(this.$annotations[B]){if(this.$annotations[B].className===" ace_error"){H=!0,N=" ace_error_fold";break}if(this.$annotations[B].className===" ace_warning"){H=!0,N=" ace_warning_fold";continue}}R+=N}else O+=" ace_open";b.className!=O&&(b.className=O),u.setStyle(b.style,"height",A),u.setStyle(b.style,"display","inline-block"),b.setAttribute("role","button"),b.setAttribute("tabindex","-1");var z=w.getFoldWidgetRange(m);z?b.setAttribute("aria-label",o("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[z.start.row+1,z.end.row+1])):p?b.setAttribute("aria-label",o("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[p.start.row+1,p.end.row+1])):b.setAttribute("aria-label",o("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[m+1])),$?(b.setAttribute("aria-expanded","false"),b.setAttribute("title",o("gutter.code-folding.closed.title","Unfold code"))):(b.setAttribute("aria-expanded","true"),b.setAttribute("title",o("gutter.code-folding.open.title","Fold code")))}else b&&(u.setStyle(b.style,"display","none"),b.setAttribute("tabindex","0"),b.removeAttribute("role"),b.removeAttribute("aria-label"));if(H&&this.$showFoldedAnnotations){_.className="ace_gutter_annotation",x.className=I,x.className+=N,u.setStyle(x.style,"height",A),u.setStyle(_.style,"display","block"),u.setStyle(_.style,"height",A);var U;switch(N){case" ace_error_fold":U=o("gutter.annotation.aria-label.error","Read annotations row $0",[D]);break;case" ace_warning_fold":U=o("gutter.annotation.aria-label.warning","Read annotations row $0",[D]);break}_.setAttribute("aria-label",U),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")}else if(this.$annotations[m]){_.className="ace_gutter_annotation",x.className=I,this.$useSvgGutterIcons?x.className+=this.$annotations[m].className:g.classList.add(this.$annotations[m].className.replace(" ","")),u.setStyle(x.style,"height",A),u.setStyle(_.style,"display","block"),u.setStyle(_.style,"height",A);var U;switch(this.$annotations[m].className){case" ace_error":U=o("gutter.annotation.aria-label.error","Read annotations row $0",[D]);break;case" ace_warning":U=o("gutter.annotation.aria-label.warning","Read annotations row $0",[D]);break;case" ace_info":U=o("gutter.annotation.aria-label.info","Read annotations row $0",[D]);break}_.setAttribute("aria-label",U),_.setAttribute("tabindex","-1"),_.setAttribute("role","button")}else u.setStyle(_.style,"display","none"),_.removeAttribute("aria-label"),_.removeAttribute("role"),_.setAttribute("tabindex","0");return D!==S.data&&(S.data=D),g.className!=R&&(g.className=R),u.setStyle(h.element.style,"height",this.$lines.computeLineHeight(m,f,w)+"px"),u.setStyle(h.element.style,"top",this.$lines.computeLineTop(m,f,w)+"px"),h.text=D,_.style.display==="none"&&b.style.display==="none"?h.element.setAttribute("aria-hidden",!0):h.element.setAttribute("aria-hidden",!1),h},l.prototype.setHighlightGutterLine=function(h){this.$highlightGutterLine=h},l.prototype.setShowLineNumbers=function(h){this.$renderer=!h&&{getWidth:function(){return 0},getText:function(){return""}}},l.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},l.prototype.setShowFoldWidgets=function(h){h?u.addCssClass(this.element,"ace_folding-enabled"):u.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=h,this.$padding=null},l.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},l.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var h=u.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(h.borderLeftWidth)||0)+(parseInt(h.paddingLeft)||0)+1,this.$padding.right=(parseInt(h.borderRightWidth)||0)+(parseInt(h.paddingRight)||0),this.$padding},l.prototype.getRegion=function(h){var f=this.$padding||this.$computePadding(),p=this.element.getBoundingClientRect();if(h.x<f.left+p.left)return"markers";if(this.$showFoldWidgets&&h.x>p.right-f.right)return"foldWidgets"},l}();r.prototype.$fixedWidth=!1,r.prototype.$highlightGutterLine=!0,r.prototype.$renderer="",r.prototype.$showLineNumbers=!0,r.prototype.$showFoldWidgets=!0,y.implement(r.prototype,s);function a(l){var h=document.createTextNode("");l.appendChild(h);var f=u.createElement("span");l.appendChild(f);var p=u.createElement("span");l.appendChild(p);var m=u.createElement("span");return p.appendChild(m),l}i.Gutter=r}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,i,v){var u=n("../range").Range,y=n("../lib/dom"),c=function(){function d(o){this.element=y.createElement("div"),this.element.className="ace_layer ace_marker-layer",o.appendChild(this.element)}return d.prototype.setPadding=function(o){this.$padding=o},d.prototype.setSession=function(o){this.session=o},d.prototype.setMarkers=function(o){this.markers=o},d.prototype.elt=function(o,r){var a=this.i!=-1&&this.element.childNodes[this.i];a?this.i++:(a=document.createElement("div"),this.element.appendChild(a),this.i=-1),a.style.cssText=r,a.className=o},d.prototype.update=function(o){if(o){this.config=o,this.i=0;var r;for(var a in this.markers){var l=this.markers[a];if(!l.range){l.update(r,this,this.session,o);continue}var h=l.range.clipRows(o.firstRow,o.lastRow);if(!h.isEmpty())if(h=h.toScreenRange(this.session),l.renderer){var f=this.$getTop(h.start.row,o),p=this.$padding+h.start.column*o.characterWidth;l.renderer(r,h,p,f,o)}else l.type=="fullLine"?this.drawFullLineMarker(r,h,l.clazz,o):l.type=="screenLine"?this.drawScreenLineMarker(r,h,l.clazz,o):h.isMultiLine()?l.type=="text"?this.drawTextMarker(r,h,l.clazz,o):this.drawMultiLineMarker(r,h,l.clazz,o):this.drawSingleLineMarker(r,h,l.clazz+" ace_start ace_br15",o)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},d.prototype.$getTop=function(o,r){return(o-r.firstRowScreen)*r.lineHeight},d.prototype.drawTextMarker=function(o,r,a,l,h){for(var f=this.session,p=r.start.row,m=r.end.row,g=p,w=0,S=0,b=f.getScreenLastRowColumn(g),_=new u(g,r.start.column,g,S);g<=m;g++)_.start.row=_.end.row=g,_.start.column=g==p?r.start.column:f.getRowWrapIndent(g),_.end.column=b,w=S,S=b,b=g+1<m?f.getScreenLastRowColumn(g+1):g==m?0:r.end.column,this.drawSingleLineMarker(o,_,a+(g==p?" ace_start":"")+" ace_br"+s(g==p||g==p+1&&r.start.column,w<S,S>b,g==m),l,g==m?0:1,h)},d.prototype.drawMultiLineMarker=function(o,r,a,l,h){var f=this.$padding,p=l.lineHeight,m=this.$getTop(r.start.row,l),g=f+r.start.column*l.characterWidth;if(h=h||"",this.session.$bidiHandler.isBidiRow(r.start.row)){var w=r.clone();w.end.row=w.start.row,w.end.column=this.session.getLine(w.start.row).length,this.drawBidiSingleLineMarker(o,w,a+" ace_br1 ace_start",l,null,h)}else this.elt(a+" ace_br1 ace_start","height:"+p+"px;right:0;top:"+m+"px;left:"+g+"px;"+(h||""));if(this.session.$bidiHandler.isBidiRow(r.end.row)){var w=r.clone();w.start.row=w.end.row,w.start.column=0,this.drawBidiSingleLineMarker(o,w,a+" ace_br12",l,null,h)}else{m=this.$getTop(r.end.row,l);var S=r.end.column*l.characterWidth;this.elt(a+" ace_br12","height:"+p+"px;width:"+S+"px;top:"+m+"px;left:"+f+"px;"+(h||""))}if(p=(r.end.row-r.start.row-1)*l.lineHeight,!(p<=0)){m=this.$getTop(r.start.row+1,l);var b=(r.start.column?1:0)|(r.end.column?0:8);this.elt(a+(b?" ace_br"+b:""),"height:"+p+"px;right:0;top:"+m+"px;left:"+f+"px;"+(h||""))}},d.prototype.drawSingleLineMarker=function(o,r,a,l,h,f){if(this.session.$bidiHandler.isBidiRow(r.start.row))return this.drawBidiSingleLineMarker(o,r,a,l,h,f);var p=l.lineHeight,m=(r.end.column+(h||0)-r.start.column)*l.characterWidth,g=this.$getTop(r.start.row,l),w=this.$padding+r.start.column*l.characterWidth;this.elt(a,"height:"+p+"px;width:"+m+"px;top:"+g+"px;left:"+w+"px;"+(f||""))},d.prototype.drawBidiSingleLineMarker=function(o,r,a,l,h,f){var p=l.lineHeight,m=this.$getTop(r.start.row,l),g=this.$padding,w=this.session.$bidiHandler.getSelections(r.start.column,r.end.column);w.forEach(function(S){this.elt(a,"height:"+p+"px;width:"+(S.width+(h||0))+"px;top:"+m+"px;left:"+(g+S.left)+"px;"+(f||""))},this)},d.prototype.drawFullLineMarker=function(o,r,a,l,h){var f=this.$getTop(r.start.row,l),p=l.lineHeight;r.start.row!=r.end.row&&(p+=this.$getTop(r.end.row,l)-f),this.elt(a,"height:"+p+"px;top:"+f+"px;left:0;right:0;"+(h||""))},d.prototype.drawScreenLineMarker=function(o,r,a,l,h){var f=this.$getTop(r.start.row,l),p=l.lineHeight;this.elt(a,"height:"+p+"px;top:"+f+"px;left:0;right:0;"+(h||""))},d}();c.prototype.$padding=0;function s(d,o,r,a){return(d?1:0)|(o?2:0)|(r?4:0)|(a?8:0)}i.Marker=c}),ace.define("ace/layer/text_util",["require","exports","module"],function(n,i,v){var u=new Set(["text","rparen","lparen"]);i.isTextToken=function(y){return u.has(y)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,i,v){var u=n("../lib/oop"),y=n("../lib/dom"),c=n("../lib/lang"),s=n("./lines").Lines,d=n("../lib/event_emitter").EventEmitter,o=n("../config").nls,r=n("./text_util").isTextToken,a=function(){function l(h){this.dom=y,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",h.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return l.prototype.$updateEolChar=function(){var h=this.session.doc,f=h.getNewLineCharacter()==`
`&&h.getNewLineMode()!="windows",p=f?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=p)return this.EOL_CHAR=p,!0},l.prototype.setPadding=function(h){this.$padding=h,this.element.style.margin="0 "+h+"px"},l.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},l.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},l.prototype.$setFontMetrics=function(h){this.$fontMetrics=h,this.$fontMetrics.on("changeCharacterSize",(function(f){this._signal("changeCharacterSize",f)}).bind(this)),this.$pollSizeChanges()},l.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},l.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},l.prototype.setSession=function(h){this.session=h,h&&this.$computeTabString()},l.prototype.setShowInvisibles=function(h){return this.showInvisibles==h?!1:(this.showInvisibles=h,typeof h=="string"?(this.showSpaces=/tab/i.test(h),this.showTabs=/space/i.test(h),this.showEOL=/eol/i.test(h)):this.showSpaces=this.showTabs=this.showEOL=h,this.$computeTabString(),!0)},l.prototype.setDisplayIndentGuides=function(h){return this.displayIndentGuides==h?!1:(this.displayIndentGuides=h,this.$computeTabString(),!0)},l.prototype.setHighlightIndentGuides=function(h){return this.$highlightIndentGuides===h?!1:(this.$highlightIndentGuides=h,h)},l.prototype.$computeTabString=function(){var h=this.session.getTabSize();this.tabSize=h;for(var f=this.$tabStrings=[0],p=1;p<h+1;p++)if(this.showTabs){var m=this.dom.createElement("span");m.className="ace_invisible ace_invisible_tab",m.textContent=c.stringRepeat(this.TAB_CHAR,p),f.push(m)}else f.push(this.dom.createTextNode(c.stringRepeat(" ",p),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var g="ace_indent-guide",w=this.showSpaces?" ace_invisible ace_invisible_space":"",S=this.showSpaces?c.stringRepeat(this.SPACE_CHAR,this.tabSize):c.stringRepeat(" ",this.tabSize),b=this.showTabs?" ace_invisible ace_invisible_tab":"",_=this.showTabs?c.stringRepeat(this.TAB_CHAR,this.tabSize):S,m=this.dom.createElement("span");m.className=g+w,m.textContent=S,this.$tabStrings[" "]=m;var m=this.dom.createElement("span");m.className=g+b,m.textContent=_,this.$tabStrings["	"]=m}},l.prototype.updateLines=function(h,f,p){if(this.config.lastRow!=h.lastRow||this.config.firstRow!=h.firstRow)return this.update(h);this.config=h;for(var m=Math.max(f,h.firstRow),g=Math.min(p,h.lastRow),w=this.element.childNodes,S=0,_=h.firstRow;_<m;_++){var x=this.session.getFoldLine(_);if(x)if(x.containsRow(m)){m=x.start.row;break}else _=x.end.row;S++}for(var b=!1,_=m,x=this.session.getNextFoldLine(_),C=x?x.start.row:1/0;_>C&&(_=x.end.row+1,x=this.session.getNextFoldLine(_,x),C=x?x.start.row:1/0),!(_>g);){var k=w[S++];if(k){this.dom.removeChildren(k),this.$renderLine(k,_,_==C?x:!1),b&&(k.style.top=this.$lines.computeLineTop(_,h,this.session)+"px");var M=h.lineHeight*this.session.getRowLength(_)+"px";k.style.height!=M&&(b=!0,k.style.height=M)}_++}if(b)for(;S<this.$lines.cells.length;){var T=this.$lines.cells[S++];T.element.style.top=this.$lines.computeLineTop(T.row,h,this.session)+"px"}},l.prototype.scrollLines=function(h){var f=this.config;if(this.config=h,this.$lines.pageChanged(f,h))return this.update(h);this.$lines.moveContainer(h);var p=h.lastRow,m=f?f.lastRow:-1;if(!f||m<h.firstRow)return this.update(h);if(p<f.firstRow)return this.update(h);if(!f||f.lastRow<h.firstRow)return this.update(h);if(h.lastRow<f.firstRow)return this.update(h);if(f.firstRow<h.firstRow)for(var g=this.session.getFoldedRowCount(f.firstRow,h.firstRow-1);g>0;g--)this.$lines.shift();if(f.lastRow>h.lastRow)for(var g=this.session.getFoldedRowCount(h.lastRow+1,f.lastRow);g>0;g--)this.$lines.pop();h.firstRow<f.firstRow&&this.$lines.unshift(this.$renderLinesFragment(h,h.firstRow,f.firstRow-1)),h.lastRow>f.lastRow&&this.$lines.push(this.$renderLinesFragment(h,f.lastRow+1,h.lastRow)),this.$highlightIndentGuide()},l.prototype.$renderLinesFragment=function(h,f,p){for(var m=[],g=f,w=this.session.getNextFoldLine(g),S=w?w.start.row:1/0;g>S&&(g=w.end.row+1,w=this.session.getNextFoldLine(g,w),S=w?w.start.row:1/0),!(g>p);){var b=this.$lines.createCell(g,h,this.session),_=b.element;this.dom.removeChildren(_),y.setStyle(_.style,"height",this.$lines.computeLineHeight(g,h,this.session)+"px"),y.setStyle(_.style,"top",this.$lines.computeLineTop(g,h,this.session)+"px"),this.$renderLine(_,g,g==S?w:!1),this.$useLineGroups()?_.className="ace_line_group":_.className="ace_line",m.push(b),g++}return m},l.prototype.update=function(h){this.$lines.moveContainer(h),this.config=h;for(var f=h.firstRow,p=h.lastRow,m=this.$lines;m.getLength();)m.pop();m.push(this.$renderLinesFragment(h,f,p))},l.prototype.$renderToken=function(h,f,p,m){for(var g=this,w=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,S=this.dom.createFragment(this.element),b,_=0;b=w.exec(m);){var x=b[1],C=b[2],k=b[3],M=b[4],T=b[5];if(!(!g.showSpaces&&C)){var L=_!=b.index?m.slice(_,b.index):"";if(_=b.index+b[0].length,L&&S.appendChild(this.dom.createTextNode(L,this.element)),x){var E=g.session.getScreenTabSize(f+b.index);S.appendChild(g.$tabStrings[E].cloneNode(!0)),f+=E-1}else if(C)if(g.showSpaces){var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_space",A.textContent=c.stringRepeat(g.SPACE_CHAR,C.length),S.appendChild(A)}else S.appendChild(this.dom.createTextNode(C,this.element));else if(k){var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_space ace_invalid",A.textContent=c.stringRepeat(g.SPACE_CHAR,k.length),S.appendChild(A)}else if(M){f+=1;var A=this.dom.createElement("span");A.style.width=g.config.characterWidth*2+"px",A.className=g.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",A.textContent=g.showSpaces?g.SPACE_CHAR:M,S.appendChild(A)}else if(T){f+=1;var A=this.dom.createElement("span");A.style.width=g.config.characterWidth*2+"px",A.className="ace_cjk",A.textContent=T,S.appendChild(A)}}}if(S.appendChild(this.dom.createTextNode(_?m.slice(_):m,this.element)),r(p.type))h.appendChild(S);else{var R="ace_"+p.type.replace(/\./g," ace_"),A=this.dom.createElement("span");p.type=="fold"&&(A.style.width=p.value.length*this.config.characterWidth+"px",A.setAttribute("title",o("inline-fold.closed.title","Unfold code"))),A.className=R,A.appendChild(S),h.appendChild(A)}return f+m.length},l.prototype.renderIndentGuide=function(h,f,p){var m=f.search(this.$indentGuideRe);if(m<=0||m>=p)return f;if(f[0]==" "){m-=m%this.tabSize;for(var g=m/this.tabSize,w=0;w<g;w++)h.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),f.substr(m)}else if(f[0]=="	"){for(var w=0;w<m;w++)h.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),f.substr(m)}return this.$highlightIndentGuide(),f},l.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var h=this.session.doc.$lines;if(h){var f=this.session.selection.getCursor(),p=/^\s*/.exec(this.session.doc.getLine(f.row))[0].length,m=Math.floor(p/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:m,start:f.row};var g=this.session.$bracketHighlight;if(g){for(var w=this.session.$bracketHighlight.ranges,S=0;S<w.length;S++)if(f.row!==w[S].start.row){this.$highlightIndentGuideMarker.end=w[S].start.row,f.row>w[S].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&h[f.row]!==""&&f.column===h[f.row].length){this.$highlightIndentGuideMarker.dir=1;for(var S=f.row+1;S<h.length;S++){var b=h[S],_=/^\s*/.exec(b)[0].length;if(b!==""&&(this.$highlightIndentGuideMarker.end=S,_<=p))break}}this.$renderHighlightIndentGuide()}}},l.prototype.$clearActiveIndentGuide=function(){for(var h=this.$lines.cells,f=0;f<h.length;f++){var p=h[f],m=p.element.childNodes;if(m.length>0){for(var g=0;g<m.length;g++)if(m[g].classList&&m[g].classList.contains("ace_indent-guide-active")){m[g].classList.remove("ace_indent-guide-active");break}}}},l.prototype.$setIndentGuideActive=function(h,f){var p=this.session.doc.getLine(h.row);if(p!==""){var m=h.element.childNodes;if(m){var g=m[f-1];g&&g.classList&&g.classList.contains("ace_indent-guide")&&g.classList.add("ace_indent-guide-active")}}},l.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var h=this.$lines.cells;this.$clearActiveIndentGuide();var f=this.$highlightIndentGuideMarker.indentLevel;if(f!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var p=0;p<h.length;p++){var m=h[p];if(this.$highlightIndentGuideMarker.end&&m.row>=this.$highlightIndentGuideMarker.start+1){if(m.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(m,f)}}else for(var p=h.length-1;p>=0;p--){var m=h[p];if(this.$highlightIndentGuideMarker.end&&m.row<this.$highlightIndentGuideMarker.start){if(m.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(m,f)}}}},l.prototype.$createLineElement=function(h){var f=this.dom.createElement("div");return f.className="ace_line",f.style.height=this.config.lineHeight+"px",f},l.prototype.$renderWrappedLine=function(h,f,p){var m=0,g=0,w=p[0],S=0,b=this.$createLineElement();h.appendChild(b);for(var _=0;_<f.length;_++){var x=f[_],C=x.value;if(_==0&&this.displayIndentGuides){if(m=C.length,C=this.renderIndentGuide(b,C,w),!C)continue;m-=C.length}if(m+C.length<w)S=this.$renderToken(b,S,x,C),m+=C.length;else{for(;m+C.length>=w;)S=this.$renderToken(b,S,x,C.substring(0,w-m)),C=C.substring(w-m),m=w,b=this.$createLineElement(),h.appendChild(b),b.appendChild(this.dom.createTextNode(c.stringRepeat(" ",p.indent),this.element)),g++,S=0,w=p[g]||Number.MAX_VALUE;C.length!=0&&(m+=C.length,S=this.$renderToken(b,S,x,C))}}p[p.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(b,S,null,"",!0)},l.prototype.$renderSimpleLine=function(h,f){for(var p=0,m=0;m<f.length;m++){var g=f[m],w=g.value;if(!(m==0&&this.displayIndentGuides&&(w=this.renderIndentGuide(h,w),!w))){if(p+w.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(h,p,g,w);p=this.$renderToken(h,p,g,w)}}},l.prototype.$renderOverflowMessage=function(h,f,p,m,g){p&&this.$renderToken(h,f,p,m.slice(0,this.MAX_LINE_LENGTH-f));var w=this.dom.createElement("span");w.className="ace_inline_button ace_keyword ace_toggle_wrap",w.textContent=g?"<hide>":"<click to see more...>",h.appendChild(w)},l.prototype.$renderLine=function(h,f,p){if(!p&&p!=!1&&(p=this.session.getFoldLine(f)),p)var m=this.$getFoldLineTokens(f,p);else var m=this.session.getTokens(f);var g=h;if(m.length){var w=this.session.getRowSplitData(f);if(w&&w.length){this.$renderWrappedLine(h,m,w);var g=h.lastChild}else{var g=h;this.$useLineGroups()&&(g=this.$createLineElement(),h.appendChild(g)),this.$renderSimpleLine(g,m)}}else this.$useLineGroups()&&(g=this.$createLineElement(),h.appendChild(g));if(this.showEOL&&g){p&&(f=p.end.row);var S=this.dom.createElement("span");S.className="ace_invisible ace_invisible_eol",S.textContent=f==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,g.appendChild(S)}},l.prototype.$getFoldLineTokens=function(h,f){var p=this.session,m=[];function g(S,b,_){for(var x=0,C=0;C+S[x].value.length<b;)if(C+=S[x].value.length,x++,x==S.length)return;if(C!=b){var k=S[x].value.substring(b-C);k.length>_-b&&(k=k.substring(0,_-b)),m.push({type:S[x].type,value:k}),C=b+k.length,x+=1}for(;C<_&&x<S.length;){var k=S[x].value;k.length+C>_?m.push({type:S[x].type,value:k.substring(0,_-C)}):m.push(S[x]),C+=k.length,x+=1}}var w=p.getTokens(h);return f.walk(function(S,b,_,x,C){S!=null?m.push({type:"fold",value:S}):(C&&(w=p.getTokens(b)),w.length&&g(w,x,_))},f.end.row,this.session.getLine(f.end.row).length),m},l.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},l}();a.prototype.EOF_CHAR="¶",a.prototype.EOL_CHAR_LF="¬",a.prototype.EOL_CHAR_CRLF="¤",a.prototype.EOL_CHAR=a.prototype.EOL_CHAR_LF,a.prototype.TAB_CHAR="—",a.prototype.SPACE_CHAR="·",a.prototype.$padding=0,a.prototype.MAX_LINE_LENGTH=1e4,a.prototype.showInvisibles=!1,a.prototype.showSpaces=!1,a.prototype.showTabs=!1,a.prototype.showEOL=!1,a.prototype.displayIndentGuides=!0,a.prototype.$highlightIndentGuides=!0,a.prototype.$tabStrings=[],a.prototype.destroy={},a.prototype.onChangeTabSize=a.prototype.$computeTabString,u.implement(a.prototype,d),i.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,i,v){var u=n("../lib/dom"),y=function(){function c(s){this.element=u.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),u.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return c.prototype.$updateOpacity=function(s){for(var d=this.cursors,o=d.length;o--;)u.setStyle(d[o].style,"opacity",s?"":"0")},c.prototype.$startCssAnimation=function(){for(var s=this.cursors,d=s.length;d--;)s[d].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&u.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},c.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,u.removeCssClass(this.element,"ace_animate-blinking")},c.prototype.setPadding=function(s){this.$padding=s},c.prototype.setSession=function(s){this.session=s},c.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},c.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},c.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,u.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},c.prototype.addCursor=function(){var s=u.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},c.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},c.prototype.hideCursor=function(){this.isVisible=!1,u.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},c.prototype.showCursor=function(){this.isVisible=!0,u.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},c.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,u.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&u.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),u.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var d=(function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){s(!0),d()},this.blinkInterval),d()}},c.prototype.getPixelPosition=function(s,d){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var o=this.session.documentToScreenPosition(s),r=this.$padding+(this.session.$bidiHandler.isBidiRow(o.row,s.row)?this.session.$bidiHandler.getPosLeft(o.column):o.column*this.config.characterWidth),a=(o.row-(d?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:a}},c.prototype.isCursorInView=function(s,d){return s.top>=0&&s.top<d.maxHeight},c.prototype.update=function(s){this.config=s;var d=this.session.$selectionMarkers,o=0,r=0;(d===void 0||d.length===0)&&(d=[{cursor:null}]);for(var o=0,a=d.length;o<a;o++){var l=this.getPixelPosition(d[o].cursor,!0);if(!((l.top>s.height+s.offset||l.top<0)&&o>1)){var h=this.cursors[r++]||this.addCursor(),f=h.style;this.drawCursor?this.drawCursor(h,l,s,d[o],this.session):this.isCursorInView(l,s)?(u.setStyle(f,"display","block"),u.translate(h,l.left,l.top),u.setStyle(f,"width",Math.round(s.characterWidth)+"px"),u.setStyle(f,"height",s.lineHeight+"px")):u.setStyle(f,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var p=this.session.getOverwrite();this.$setOverwrite(p),this.$pixelPos=l,this.restartTimer()},c.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?u.addCssClass(this.element,"ace_overwrite-cursors"):u.removeCssClass(this.element,"ace_overwrite-cursors"))},c.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},c}();y.prototype.$padding=0,y.prototype.drawCursor=null,i.Cursor=y}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,i,v){var u=this&&this.__extends||function(){var h=function(f,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(m[w]=g[w])},h(f,p)};return function(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(f,p);function m(){this.constructor=f}f.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),y=n("./lib/oop"),c=n("./lib/dom"),s=n("./lib/event"),d=n("./lib/event_emitter").EventEmitter,o=32768,r=function(){function h(f,p){this.element=c.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+p,this.inner=c.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),f.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return h.prototype.setVisible=function(f){this.element.style.display=f?"":"none",this.isVisible=f,this.coeff=1},h}();y.implement(r.prototype,d);var a=function(h){u(f,h);function f(p,m){var g=h.call(this,p,"-v")||this;return g.scrollTop=0,g.scrollHeight=0,m.$scrollbarWidth=g.width=c.scrollbarWidth(p.ownerDocument),g.inner.style.width=g.element.style.width=(g.width||15)+5+"px",g.$minWidth=0,g}return f.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var p=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-p)/(this.coeff-p)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},f.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},f.prototype.setHeight=function(p){this.element.style.height=p+"px"},f.prototype.setScrollHeight=function(p){this.scrollHeight=p,p>o?(this.coeff=o/p,p=o):this.coeff!=1&&(this.coeff=1),this.inner.style.height=p+"px"},f.prototype.setScrollTop=function(p){this.scrollTop!=p&&(this.skipEvent=!0,this.scrollTop=p,this.element.scrollTop=p*this.coeff)},f}(r);a.prototype.setInnerHeight=a.prototype.setScrollHeight;var l=function(h){u(f,h);function f(p,m){var g=h.call(this,p,"-h")||this;return g.scrollLeft=0,g.height=m.$scrollbarWidth,g.inner.style.height=g.element.style.height=(g.height||15)+5+"px",g}return f.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},f.prototype.getHeight=function(){return this.isVisible?this.height:0},f.prototype.setWidth=function(p){this.element.style.width=p+"px"},f.prototype.setInnerWidth=function(p){this.inner.style.width=p+"px"},f.prototype.setScrollWidth=function(p){this.inner.style.width=p+"px"},f.prototype.setScrollLeft=function(p){this.scrollLeft!=p&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=p)},f}(r);i.ScrollBar=a,i.ScrollBarV=a,i.ScrollBarH=l,i.VScrollBar=a,i.HScrollBar=l}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,i,v){var u=this&&this.__extends||function(){var l=function(h,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(p[g]=m[g])},l(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");l(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),y=n("./lib/oop"),c=n("./lib/dom"),s=n("./lib/event"),d=n("./lib/event_emitter").EventEmitter;c.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var o=function(){function l(h,f){this.element=c.createElement("div"),this.element.className="ace_sb"+f,this.inner=c.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,h.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return l.prototype.setVisible=function(h){this.element.style.display=h?"":"none",this.isVisible=h,this.coeff=1},l}();y.implement(o.prototype,d);var r=function(l){u(h,l);function h(f,p){var m=l.call(this,f,"-v")||this;return m.scrollTop=0,m.scrollHeight=0,m.parent=f,m.width=m.VScrollWidth,m.renderer=p,m.inner.style.width=m.element.style.width=(m.width||15)+"px",m.$minWidth=0,m}return h.prototype.onMouseDown=function(f,p){if(f==="mousedown"&&!(s.getButton(p)!==0||p.detail===2)){if(p.target===this.inner){var m=this,g=p.clientY,w=function(M){g=M.clientY},S=function(){clearInterval(C)},b=p.clientY,_=this.thumbTop,x=function(){if(g!==void 0){var M=m.scrollTopFromThumbTop(_+g-b);M!==m.scrollTop&&m._emit("scroll",{data:M})}};s.capture(this.inner,w,S);var C=setInterval(x,20);return s.preventDefault(p)}var k=p.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(k)}),s.preventDefault(p)}},h.prototype.getHeight=function(){return this.height},h.prototype.scrollTopFromThumbTop=function(f){var p=f*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return p=p>>0,p<0?p=0:p>this.pageHeight-this.viewHeight&&(p=this.pageHeight-this.viewHeight),p},h.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},h.prototype.setHeight=function(f){this.height=Math.max(0,f),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},h.prototype.setScrollHeight=function(f,p){this.pageHeight===f&&!p||(this.pageHeight=f,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},h.prototype.setScrollTop=function(f){this.scrollTop=f,f<0&&(f=0),this.thumbTop=f*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},h}(o);r.prototype.setInnerHeight=r.prototype.setScrollHeight;var a=function(l){u(h,l);function h(f,p){var m=l.call(this,f,"-h")||this;return m.scrollLeft=0,m.scrollWidth=0,m.height=m.HScrollHeight,m.inner.style.height=m.element.style.height=(m.height||12)+"px",m.renderer=p,m}return h.prototype.onMouseDown=function(f,p){if(f==="mousedown"&&!(s.getButton(p)!==0||p.detail===2)){if(p.target===this.inner){var m=this,g=p.clientX,w=function(M){g=M.clientX},S=function(){clearInterval(C)},b=p.clientX,_=this.thumbLeft,x=function(){if(g!==void 0){var M=m.scrollLeftFromThumbLeft(_+g-b);M!==m.scrollLeft&&m._emit("scroll",{data:M})}};s.capture(this.inner,w,S);var C=setInterval(x,20);return s.preventDefault(p)}var k=p.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(k)}),s.preventDefault(p)}},h.prototype.getHeight=function(){return this.isVisible?this.height:0},h.prototype.scrollLeftFromThumbLeft=function(f){var p=f*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return p=p>>0,p<0?p=0:p>this.pageWidth-this.viewWidth&&(p=this.pageWidth-this.viewWidth),p},h.prototype.setWidth=function(f){this.width=Math.max(0,f),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},h.prototype.setScrollWidth=function(f,p){this.pageWidth===f&&!p||(this.pageWidth=f,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},h.prototype.setScrollLeft=function(f){this.scrollLeft=f,f<0&&(f=0),this.thumbLeft=f*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},h}(o);a.prototype.setInnerWidth=a.prototype.setScrollWidth,i.ScrollBar=r,i.ScrollBarV=r,i.ScrollBarH=a,i.VScrollBar=r,i.HScrollBar=a}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,i,v){var u=n("./lib/event"),y=function(){function c(s,d){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=d||window;var o=this;this._flush=function(r){o.pending=!1;var a=o.changes;if(a&&(u.blockIdle(100),o.changes=0,o.onRender(a)),o.changes){if(o.$recursionLimit--<0)return;o.schedule()}else o.$recursionLimit=2}}return c.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(u.nextFrame(this._flush),this.pending=!0)},c.prototype.clear=function(s){var d=this.changes;return this.changes=0,d},c}();i.RenderLoop=y}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,i,v){var u=n("../lib/oop"),y=n("../lib/dom"),c=n("../lib/lang"),s=n("../lib/event"),d=n("../lib/useragent"),o=n("../lib/event_emitter").EventEmitter,r=512,a=typeof ResizeObserver=="function",l=200,h=function(){function f(p){this.el=y.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=y.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=y.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),p.appendChild(this.el),this.$measureNode.textContent=c.stringRepeat("X",r),this.$characterSize={width:0,height:0},a?this.$addObserver():this.checkForSizeChanges()}return f.prototype.$setMeasureNodeStyles=function(p,m){p.width=p.height="auto",p.left=p.top="0px",p.visibility="hidden",p.position="absolute",p.whiteSpace="pre",d.isIE<8?p["font-family"]="inherit":p.font="inherit",p.overflow=m?"hidden":"visible"},f.prototype.checkForSizeChanges=function(p){if(p===void 0&&(p=this.$measureSizes()),p&&(this.$characterSize.width!==p.width||this.$characterSize.height!==p.height)){this.$measureNode.style.fontWeight="bold";var m=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=p,this.charSizes=Object.create(null),this.allowBoldFonts=m&&m.width===p.width&&m.height===p.height,this._emit("changeCharacterSize",{data:p})}},f.prototype.$addObserver=function(){var p=this;this.$observer=new window.ResizeObserver(function(m){p.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},f.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var p=this;return this.$pollSizeChangesTimer=s.onIdle(function m(){p.checkForSizeChanges(),s.onIdle(m,500)},500)},f.prototype.setPolling=function(p){p?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},f.prototype.$measureSizes=function(p){var m={height:(p||this.$measureNode).clientHeight,width:(p||this.$measureNode).clientWidth/r};return m.width===0||m.height===0?null:m},f.prototype.$measureCharWidth=function(p){this.$main.textContent=c.stringRepeat(p,r);var m=this.$main.getBoundingClientRect();return m.width/r},f.prototype.getCharacterWidth=function(p){var m=this.charSizes[p];return m===void 0&&(m=this.charSizes[p]=this.$measureCharWidth(p)/this.$characterSize.width),m},f.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},f.prototype.$getZoom=function(p){return!p||!p.parentElement?1:(window.getComputedStyle(p).zoom||1)*this.$getZoom(p.parentElement)},f.prototype.$initTransformMeasureNodes=function(){var p=function(m,g){return["div",{style:"position: absolute;top:"+m+"px;left:"+g+"px;"}]};this.els=y.buildDom([p(0,0),p(l,0),p(0,l),p(l,l)],this.el)},f.prototype.transformCoordinates=function(p,m){if(p){var g=this.$getZoom(this.el);p=_(1/g,p)}function w($,N,H){var B=$[1]*N[0]-$[0]*N[1];return[(-N[1]*H[0]+N[0]*H[1])/B,(+$[1]*H[0]-$[0]*H[1])/B]}function S($,N){return[$[0]-N[0],$[1]-N[1]]}function b($,N){return[$[0]+N[0],$[1]+N[1]]}function _($,N){return[$*N[0],$*N[1]]}this.els||this.$initTransformMeasureNodes();function x($){var N=$.getBoundingClientRect();return[N.left,N.top]}var C=x(this.els[0]),k=x(this.els[1]),M=x(this.els[2]),T=x(this.els[3]),L=w(S(T,k),S(T,M),S(b(k,M),b(T,C))),E=_(1+L[0],S(k,C)),A=_(1+L[1],S(M,C));if(m){var R=m,I=L[0]*R[0]/l+L[1]*R[1]/l+1,D=b(_(R[0],E),_(R[1],A));return b(_(1/I/l,D),C)}var P=S(p,C),O=w(S(E,_(L[0],P)),S(A,_(L[1],P)),P);return _(l,O)},f}();h.prototype.$characterSize={width:0,height:0},u.implement(h.prototype,o),i.FontMetrics=h}),ace.define("ace/css/editor-css",["require","exports","module"],function(n,i,v){v.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,i,v){var u=n("../lib/dom"),y=n("../lib/oop"),c=n("../lib/event_emitter").EventEmitter,s=function(){function d(o,r){this.canvas=u.createElement("canvas"),this.renderer=r,this.pixelRatio=1,this.maxHeight=r.layerConfig.maxHeight,this.lineHeight=r.layerConfig.lineHeight,this.canvasHeight=o.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=o.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},o.element.appendChild(this.canvas)}return d.prototype.$updateDecorators=function(o){var r=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(o){this.maxHeight=o.maxHeight,this.lineHeight=o.lineHeight,this.canvasHeight=o.height;var a=(o.lastRow+1)*this.lineHeight;a<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var l=this.canvas.getContext("2d");function h(T,L){return T.priority<L.priority?-1:T.priority>L.priority?1:0}var f=this.renderer.session.$annotations;if(l.clearRect(0,0,this.canvas.width,this.canvas.height),f){var p={info:1,warning:2,error:3};f.forEach(function(T){T.priority=p[T.type]||null}),f=f.sort(h);for(var m=this.renderer.session.$foldData,g=0;g<f.length;g++){var w=f[g].row,S=this.compensateFoldRows(w,m),b=Math.round((w-S)*this.lineHeight*this.heightRatio),_=Math.round((w-S)*this.lineHeight*this.heightRatio),x=Math.round(((w-S)*this.lineHeight+this.lineHeight)*this.heightRatio),C=x-_;if(C<this.minDecorationHeight){var k=(_+x)/2|0;k<this.halfMinDecorationHeight?k=this.halfMinDecorationHeight:k+this.halfMinDecorationHeight>this.canvasHeight&&(k=this.canvasHeight-this.halfMinDecorationHeight),_=Math.round(k-this.halfMinDecorationHeight),x=Math.round(k+this.halfMinDecorationHeight)}l.fillStyle=r[f[g].type]||null,l.fillRect(0,b,this.canvasWidth,x-_)}}var M=this.renderer.session.selection.getCursor();if(M){var S=this.compensateFoldRows(M.row,m),b=Math.round((M.row-S)*this.lineHeight*this.heightRatio);l.fillStyle="rgba(0, 0, 0, 0.5)",l.fillRect(0,b,this.canvasWidth,2)}},d.prototype.compensateFoldRows=function(o,r){var a=0;if(r&&r.length>0)for(var l=0;l<r.length;l++)o>r[l].start.row&&o<r[l].end.row?a+=o-r[l].start.row:o>=r[l].end.row&&(a+=r[l].end.row-r[l].start.row);return a},d}();y.implement(s.prototype,c),i.Decorator=s}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(n,i,v){var u=n("./lib/oop"),y=n("./lib/dom"),c=n("./lib/lang"),s=n("./config"),d=n("./layer/gutter").Gutter,o=n("./layer/marker").Marker,r=n("./layer/text").Text,a=n("./layer/cursor").Cursor,l=n("./scrollbar").HScrollBar,h=n("./scrollbar").VScrollBar,f=n("./scrollbar_custom").HScrollBar,p=n("./scrollbar_custom").VScrollBar,m=n("./renderloop").RenderLoop,g=n("./layer/font_metrics").FontMetrics,w=n("./lib/event_emitter").EventEmitter,S=n("./css/editor-css"),b=n("./layer/decorators").Decorator,_=n("./lib/useragent");y.importCssString(S,"ace_editor.css",!1);var x=function(){function C(k,M){var T=this;this.container=k||y.createElement("div"),y.addCssClass(this.container,"ace_editor"),y.HI_DPI&&y.addCssClass(this.container,"ace_hidpi"),this.setTheme(M),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=y.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=y.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=y.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new d(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new o(this.content);var L=this.$textLayer=new r(this.content);this.canvas=L.element,this.$markerFront=new o(this.content),this.$cursorLayer=new a(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.on("scroll",function(E){T.$scrollAnimation||T.session.setScrollTop(E.data-T.scrollMargin.top)}),this.scrollBarH.on("scroll",function(E){T.$scrollAnimation||T.session.setScrollLeft(E.data-T.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(E){T.updateCharacterSize(),T.onResize(!0,T.gutterWidth,T.$size.width,T.$size.height),T._signal("changeCharacterSize",E)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!_.isIOS,this.$loop=new m(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return C.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),y.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},C.prototype.setSession=function(k){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=k,k&&this.scrollMargin.top&&k.getScrollTop()<=0&&k.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(k),this.$markerBack.setSession(k),this.$markerFront.setSession(k),this.$gutterLayer.setSession(k),this.$textLayer.setSession(k),k&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},C.prototype.updateLines=function(k,M,T){if(M===void 0&&(M=1/0),this.$changedLines?(this.$changedLines.firstRow>k&&(this.$changedLines.firstRow=k),this.$changedLines.lastRow<M&&(this.$changedLines.lastRow=M)):this.$changedLines={firstRow:k,lastRow:M},this.$changedLines.lastRow<this.layerConfig.firstRow)if(T)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},C.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},C.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},C.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},C.prototype.updateFull=function(k){k?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},C.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},C.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},C.prototype.onResize=function(k,M,T,L){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=k?1:0;var E=this.container;L||(L=E.clientHeight||E.scrollHeight),T||(T=E.clientWidth||E.scrollWidth);var A=this.$updateCachedSize(k,M,T,L);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!T&&!L)return this.resizing=0;k&&(this.$gutterLayer.$padding=null),k?this.$renderChanges(A|this.$changes,!0):this.$loop.schedule(A|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},C.prototype.$updateCachedSize=function(k,M,T,L){L-=this.$extraHeight||0;var E=0,A=this.$size,R={width:A.width,height:A.height,scrollerHeight:A.scrollerHeight,scrollerWidth:A.scrollerWidth};if(L&&(k||A.height!=L)&&(A.height=L,E|=this.CHANGE_SIZE,A.scrollerHeight=A.height,this.$horizScroll&&(A.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(A.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",E=E|this.CHANGE_SCROLL),T&&(k||A.width!=T)){E|=this.CHANGE_SIZE,A.width=T,M==null&&(M=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=M,y.setStyle(this.scrollBarH.element.style,"left",M+"px"),y.setStyle(this.scroller.style,"left",M+this.margin.left+"px"),A.scrollerWidth=Math.max(0,T-M-this.scrollBarV.getWidth()-this.margin.h),y.setStyle(this.$gutter.style,"left",this.margin.left+"px");var I=this.scrollBarV.getWidth()+"px";y.setStyle(this.scrollBarH.element.style,"right",I),y.setStyle(this.scroller.style,"right",I),y.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(A.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||k)&&(E|=this.CHANGE_FULL)}return A.$dirty=!T||!L,E&&this._signal("resize",R),E},C.prototype.onGutterResize=function(k){var M=this.$showGutter?k:0;M!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,M,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},C.prototype.adjustWrapLimit=function(){var k=this.$size.scrollerWidth-this.$padding*2,M=Math.floor(k/this.characterWidth);return this.session.adjustWrapLimit(M,this.$showPrintMargin&&this.$printMarginColumn)},C.prototype.setAnimatedScroll=function(k){this.setOption("animatedScroll",k)},C.prototype.getAnimatedScroll=function(){return this.$animatedScroll},C.prototype.setShowInvisibles=function(k){this.setOption("showInvisibles",k),this.session.$bidiHandler.setShowInvisibles(k)},C.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},C.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},C.prototype.setDisplayIndentGuides=function(k){this.setOption("displayIndentGuides",k)},C.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},C.prototype.setHighlightIndentGuides=function(k){this.setOption("highlightIndentGuides",k)},C.prototype.setShowPrintMargin=function(k){this.setOption("showPrintMargin",k)},C.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},C.prototype.setPrintMarginColumn=function(k){this.setOption("printMarginColumn",k)},C.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},C.prototype.getShowGutter=function(){return this.getOption("showGutter")},C.prototype.setShowGutter=function(k){return this.setOption("showGutter",k)},C.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},C.prototype.setFadeFoldWidgets=function(k){this.setOption("fadeFoldWidgets",k)},C.prototype.setHighlightGutterLine=function(k){this.setOption("highlightGutterLine",k)},C.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},C.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var k=y.createElement("div");k.className="ace_layer ace_print-margin-layer",this.$printMarginEl=y.createElement("div"),this.$printMarginEl.className="ace_print-margin",k.appendChild(this.$printMarginEl),this.content.insertBefore(k,this.content.firstChild)}var M=this.$printMarginEl.style;M.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",M.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},C.prototype.getContainerElement=function(){return this.container},C.prototype.getMouseEventTarget=function(){return this.scroller},C.prototype.getTextAreaContainer=function(){return this.container},C.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var k=this.textarea.style,M=this.$composition;if(!this.$keepTextAreaAtCursor&&!M){y.translate(this.textarea,-100,0);return}var T=this.$cursorLayer.$pixelPos;if(T){M&&M.markerRange&&(T=this.$cursorLayer.getPixelPosition(M.markerRange.start,!0));var L=this.layerConfig,E=T.top,A=T.left;E-=L.offset;var R=M&&M.useTextareaForIME||_.isMobile?this.lineHeight:1;if(E<0||E>L.height-R){y.translate(this.textarea,0,0);return}var I=1,D=this.$size.height-R;if(!M)E+=this.lineHeight;else if(M.useTextareaForIME){var P=this.textarea.value;I=this.characterWidth*this.session.$getStringScreenWidth(P)[0]}else E+=this.lineHeight+2;A-=this.scrollLeft,A>this.$size.scrollerWidth-I&&(A=this.$size.scrollerWidth-I),A+=this.gutterWidth+this.margin.left,y.setStyle(k,"height",R+"px"),y.setStyle(k,"width",I+"px"),y.translate(this.textarea,Math.min(A,this.$size.scrollerWidth-I),Math.min(E,D))}}},C.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},C.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},C.prototype.getLastFullyVisibleRow=function(){var k=this.layerConfig,M=k.lastRow,T=this.session.documentToScreenRow(M,0)*k.lineHeight;return T-this.session.getScrollTop()>k.height-k.lineHeight?M-1:M},C.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},C.prototype.setPadding=function(k){this.$padding=k,this.$textLayer.setPadding(k),this.$cursorLayer.setPadding(k),this.$markerFront.setPadding(k),this.$markerBack.setPadding(k),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},C.prototype.setScrollMargin=function(k,M,T,L){var E=this.scrollMargin;E.top=k|0,E.bottom=M|0,E.right=L|0,E.left=T|0,E.v=E.top+E.bottom,E.h=E.left+E.right,E.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-E.top),this.updateFull()},C.prototype.setMargin=function(k,M,T,L){var E=this.margin;E.top=k|0,E.bottom=M|0,E.right=L|0,E.left=T|0,E.v=E.top+E.bottom,E.h=E.left+E.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},C.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},C.prototype.setHScrollBarAlwaysVisible=function(k){this.setOption("hScrollBarAlwaysVisible",k)},C.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},C.prototype.setVScrollBarAlwaysVisible=function(k){this.setOption("vScrollBarAlwaysVisible",k)},C.prototype.$updateScrollBarV=function(){var k=this.layerConfig.maxHeight,M=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(k-=(M-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>k-M&&(k=this.scrollTop+M,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(k+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},C.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},C.prototype.freeze=function(){this.$frozen=!0},C.prototype.unfreeze=function(){this.$frozen=!1},C.prototype.$renderChanges=function(k,M){if(this.$changes&&(k|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!k&&!M){this.$changes|=k;return}if(this.$size.$dirty)return this.$changes|=k,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",k),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var T=this.layerConfig;if(k&this.CHANGE_FULL||k&this.CHANGE_SIZE||k&this.CHANGE_TEXT||k&this.CHANGE_LINES||k&this.CHANGE_SCROLL||k&this.CHANGE_H_SCROLL){if(k|=this.$computeLayerConfig()|this.$loop.clear(),T.firstRow!=this.layerConfig.firstRow&&T.firstRowScreen==this.layerConfig.firstRowScreen){var L=this.scrollTop+(T.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;L>0&&(this.scrollTop=L,k=k|this.CHANGE_SCROLL,k|=this.$computeLayerConfig()|this.$loop.clear())}T=this.layerConfig,this.$updateScrollBarV(),k&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),y.translate(this.content,-this.scrollLeft,-T.offset);var E=T.width+2*this.$padding+"px",A=T.minHeight+"px";y.setStyle(this.content.style,"width",E),y.setStyle(this.content.style,"height",A)}if(k&this.CHANGE_H_SCROLL&&(y.translate(this.content,-this.scrollLeft,-T.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),k&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(T),this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T),this.$markerBack.update(T),this.$markerFront.update(T),this.$cursorLayer.update(T),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}if(k&this.CHANGE_SCROLL){this.$changedLines=null,k&this.CHANGE_TEXT||k&this.CHANGE_LINES?this.$textLayer.update(T):this.$textLayer.scrollLines(T),this.$showGutter&&(k&this.CHANGE_GUTTER||k&this.CHANGE_LINES?this.$gutterLayer.update(T):this.$gutterLayer.scrollLines(T)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T),this.$markerBack.update(T),this.$markerFront.update(T),this.$cursorLayer.update(T),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}k&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(T),this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):k&this.CHANGE_LINES?((this.$updateLines()||k&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):k&this.CHANGE_TEXT||k&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)):k&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(T),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(T)),k&this.CHANGE_CURSOR&&(this.$cursorLayer.update(T),this.$moveTextAreaToCursor()),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(T),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(T),this._signal("afterRender",k)},C.prototype.$autosize=function(){var k=this.session.getScreenLength()*this.lineHeight,M=this.$maxLines*this.lineHeight,T=Math.min(M,Math.max((this.$minLines||1)*this.lineHeight,k))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(T+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&T>this.$maxPixelHeight&&(T=this.$maxPixelHeight);var L=T<=2*this.lineHeight,E=!L&&k>M;if(T!=this.desiredHeight||this.$size.height!=this.desiredHeight||E!=this.$vScroll){E!=this.$vScroll&&(this.$vScroll=E,this.scrollBarV.setVisible(E));var A=this.container.clientWidth;this.container.style.height=T+"px",this.$updateCachedSize(!0,this.$gutterWidth,A,T),this.desiredHeight=T,this._signal("autosize")}},C.prototype.$computeLayerConfig=function(){var k=this.session,M=this.$size,T=M.height<=2*this.lineHeight,L=this.session.getScreenLength(),E=L*this.lineHeight,A=this.$getLongestLine(),R=!T&&(this.$hScrollBarAlwaysVisible||M.scrollerWidth-A-2*this.$padding<0),I=this.$horizScroll!==R;I&&(this.$horizScroll=R,this.scrollBarH.setVisible(R));var D=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var P=M.scrollerHeight+this.lineHeight,O=!this.$maxLines&&this.$scrollPastEnd?(M.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;E+=O;var $=this.scrollMargin;this.session.setScrollTop(Math.max(-$.top,Math.min(this.scrollTop,E-M.scrollerHeight+$.bottom))),this.session.setScrollLeft(Math.max(-$.left,Math.min(this.scrollLeft,A+2*this.$padding-M.scrollerWidth+$.right)));var N=!T&&(this.$vScrollBarAlwaysVisible||M.scrollerHeight-E+O<0||this.scrollTop>$.top),H=D!==N;H&&(this.$vScroll=N,this.scrollBarV.setVisible(N));var B=this.scrollTop%this.lineHeight,z=Math.ceil(P/this.lineHeight)-1,U=Math.max(0,Math.round((this.scrollTop-B)/this.lineHeight)),V=U+z,W,F,Y=this.lineHeight;U=k.screenToDocumentRow(U,0);var G=k.getFoldLine(U);G&&(U=G.start.row),W=k.documentToScreenRow(U,0),F=k.getRowLength(U)*Y,V=Math.min(k.screenToDocumentRow(V,0),k.getLength()-1),P=M.scrollerHeight+k.getRowLength(V)*Y+F,B=this.scrollTop-W*Y;var Q=0;return(this.layerConfig.width!=A||I)&&(Q=this.CHANGE_H_SCROLL),(I||H)&&(Q|=this.$updateCachedSize(!0,this.gutterWidth,M.width,M.height),this._signal("scrollbarVisibilityChanged"),H&&(A=this.$getLongestLine())),this.layerConfig={width:A,padding:this.$padding,firstRow:U,firstRowScreen:W,lastRow:V,lineHeight:Y,characterWidth:this.characterWidth,minHeight:P,maxHeight:E,offset:B,gutterOffset:Y?Math.max(0,Math.ceil((B+M.height-M.scrollerHeight)/Y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(A-this.$padding),Q},C.prototype.$updateLines=function(){if(this.$changedLines){var k=this.$changedLines.firstRow,M=this.$changedLines.lastRow;this.$changedLines=null;var T=this.layerConfig;if(!(k>T.lastRow+1)&&!(M<T.firstRow)){if(M===1/0){this.$showGutter&&this.$gutterLayer.update(T),this.$textLayer.update(T);return}return this.$textLayer.updateLines(T,k,M),!0}}},C.prototype.$getLongestLine=function(){var k=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(k+=1),this.$textLayer&&k>this.$textLayer.MAX_LINE_LENGTH&&(k=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(k*this.characterWidth))},C.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},C.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},C.prototype.addGutterDecoration=function(k,M){this.$gutterLayer.addGutterDecoration(k,M)},C.prototype.removeGutterDecoration=function(k,M){this.$gutterLayer.removeGutterDecoration(k,M)},C.prototype.updateBreakpoints=function(k){this._rows=k,this.$loop.schedule(this.CHANGE_GUTTER)},C.prototype.setAnnotations=function(k){this.$gutterLayer.setAnnotations(k),this.$loop.schedule(this.CHANGE_GUTTER)},C.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},C.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},C.prototype.showCursor=function(){this.$cursorLayer.showCursor()},C.prototype.scrollSelectionIntoView=function(k,M,T){this.scrollCursorIntoView(k,T),this.scrollCursorIntoView(M,T)},C.prototype.scrollCursorIntoView=function(k,M,T){if(this.$size.scrollerHeight!==0){var L=this.$cursorLayer.getPixelPosition(k),E=L.left,A=L.top,R=T&&T.top||0,I=T&&T.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var D=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;D+R>A?(M&&D+R>A+this.lineHeight&&(A-=M*this.$size.scrollerHeight),A===0&&(A=-this.scrollMargin.top),this.session.setScrollTop(A)):D+this.$size.scrollerHeight-I<A+this.lineHeight&&(M&&D+this.$size.scrollerHeight-I<A-this.lineHeight&&(A+=M*this.$size.scrollerHeight),this.session.setScrollTop(A+this.lineHeight+I-this.$size.scrollerHeight));var P=this.scrollLeft,O=2*this.layerConfig.characterWidth;E-O<P?(E-=O,E<this.$padding+O&&(E=-this.scrollMargin.left),this.session.setScrollLeft(E)):(E+=O,P+this.$size.scrollerWidth<E+this.characterWidth?this.session.setScrollLeft(Math.round(E+this.characterWidth-this.$size.scrollerWidth)):P<=this.$padding&&E-P<this.characterWidth&&this.session.setScrollLeft(0))}},C.prototype.getScrollTop=function(){return this.session.getScrollTop()},C.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},C.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},C.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},C.prototype.scrollToRow=function(k){this.session.setScrollTop(k*this.lineHeight)},C.prototype.alignCursor=function(k,M){typeof k=="number"&&(k={row:k,column:0});var T=this.$cursorLayer.getPixelPosition(k),L=this.$size.scrollerHeight-this.lineHeight,E=T.top-L*(M||0);return this.session.setScrollTop(E),E},C.prototype.$calcSteps=function(k,M){var T=0,L=this.STEPS,E=[],A=function(R,I,D){return D*(Math.pow(R-1,3)+1)+I};for(T=0;T<L;++T)E.push(A(T/this.STEPS,k,M-k));return E},C.prototype.scrollToLine=function(k,M,T,L){var E=this.$cursorLayer.getPixelPosition({row:k,column:0}),A=E.top;M&&(A-=this.$size.scrollerHeight/2);var R=this.scrollTop;this.session.setScrollTop(A),T!==!1&&this.animateScrolling(R,L)},C.prototype.animateScrolling=function(k,M){var T=this.scrollTop;if(!this.$animatedScroll)return;var L=this;if(k==T)return;if(this.$scrollAnimation){var E=this.$scrollAnimation.steps;if(E.length&&(k=E[0],k==T))return}var A=L.$calcSteps(k,T);this.$scrollAnimation={from:k,to:T,steps:A},clearInterval(this.$timer),L.session.setScrollTop(A.shift()),L.session.$scrollTop=T;function R(){L.$timer=clearInterval(L.$timer),L.$scrollAnimation=null,L.$stopAnimation=!1,M&&M()}this.$timer=setInterval(function(){if(L.$stopAnimation){R();return}if(!L.session)return clearInterval(L.$timer);A.length?(L.session.setScrollTop(A.shift()),L.session.$scrollTop=T):T!=null?(L.session.$scrollTop=-1,L.session.setScrollTop(T),T=null):R()},10)},C.prototype.scrollToY=function(k){this.scrollTop!==k&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=k)},C.prototype.scrollToX=function(k){this.scrollLeft!==k&&(this.scrollLeft=k),this.$loop.schedule(this.CHANGE_H_SCROLL)},C.prototype.scrollTo=function(k,M){this.session.setScrollTop(M),this.session.setScrollLeft(k)},C.prototype.scrollBy=function(k,M){M&&this.session.setScrollTop(this.session.getScrollTop()+M),k&&this.session.setScrollLeft(this.session.getScrollLeft()+k)},C.prototype.isScrollableBy=function(k,M){if(M<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||M>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||k<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||k>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},C.prototype.pixelToScreenCoordinates=function(k,M){var T;if(this.$hasCssTransforms){T={top:0,left:0};var L=this.$fontMetrics.transformCoordinates([k,M]);k=L[1]-this.gutterWidth-this.margin.left,M=L[0]}else T=this.scroller.getBoundingClientRect();var E=k+this.scrollLeft-T.left-this.$padding,A=E/this.characterWidth,R=Math.floor((M+this.scrollTop-T.top)/this.lineHeight),I=this.$blockCursor?Math.floor(A):Math.round(A);return{row:R,column:I,side:A-I>0?1:-1,offsetX:E}},C.prototype.screenToTextCoordinates=function(k,M){var T;if(this.$hasCssTransforms){T={top:0,left:0};var L=this.$fontMetrics.transformCoordinates([k,M]);k=L[1]-this.gutterWidth-this.margin.left,M=L[0]}else T=this.scroller.getBoundingClientRect();var E=k+this.scrollLeft-T.left-this.$padding,A=E/this.characterWidth,R=this.$blockCursor?Math.floor(A):Math.round(A),I=Math.floor((M+this.scrollTop-T.top)/this.lineHeight);return this.session.screenToDocumentPosition(I,Math.max(R,0),E)},C.prototype.textToScreenCoordinates=function(k,M){var T=this.scroller.getBoundingClientRect(),L=this.session.documentToScreenPosition(k,M),E=this.$padding+(this.session.$bidiHandler.isBidiRow(L.row,k)?this.session.$bidiHandler.getPosLeft(L.column):Math.round(L.column*this.characterWidth)),A=L.row*this.lineHeight;return{pageX:T.left+E-this.scrollLeft,pageY:T.top+A-this.scrollTop}},C.prototype.visualizeFocus=function(){y.addCssClass(this.container,"ace_focus")},C.prototype.visualizeBlur=function(){y.removeCssClass(this.container,"ace_focus")},C.prototype.showComposition=function(k){this.$composition=k,k.cssText||(k.cssText=this.textarea.style.cssText),k.useTextareaForIME==null&&(k.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(y.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):k.markerId=this.session.addMarker(k.markerRange,"ace_composition_marker","text")},C.prototype.setCompositionText=function(k){var M=this.session.selection.cursor;this.addToken(k,"composition_placeholder",M.row,M.column),this.$moveTextAreaToCursor()},C.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),y.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var k=this.session.selection.cursor;this.removeExtraToken(k.row,k.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},C.prototype.setGhostText=function(k,M){var T=this.session.selection.cursor,L=M||{row:T.row,column:T.column};this.removeGhostText();var E=k.split(`
`);if(this.addToken(E[0],"ghost_text",L.row,L.column),this.$ghostText={text:k,position:{row:L.row,column:L.column}},E.length>1){this.$ghostTextWidget={text:E.slice(1).join(`
`),row:L.row,column:L.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var A=this.$cursorLayer.getPixelPosition(L,!0),R=this.container,I=R.getBoundingClientRect().height,D=E.length*this.lineHeight,P=D<I-A.top;if(P)return;D<I?this.scrollBy(0,(E.length-1)*this.lineHeight):this.scrollToRow(L.row)}},C.prototype.removeGhostText=function(){if(this.$ghostText){var k=this.$ghostText.position;this.removeExtraToken(k.row,k.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},C.prototype.addToken=function(k,M,T,L){var E=this.session;E.bgTokenizer.lines[T]=null;var A={type:M,value:k},R=E.getTokens(T);if(L==null||!R.length)R.push(A);else for(var I=0,D=0;D<R.length;D++){var P=R[D];if(I+=P.value.length,L<=I){var O=P.value.length-(I-L),$=P.value.slice(0,O),N=P.value.slice(O);R.splice(D,1,{type:P.type,value:$},A,{type:P.type,value:N});break}}this.updateLines(T,T)},C.prototype.removeExtraToken=function(k,M){this.session.bgTokenizer.lines[k]=null,this.updateLines(k,k)},C.prototype.setTheme=function(k,M){var T=this;if(this.$themeId=k,T._dispatchEvent("themeChange",{theme:k}),!k||typeof k=="string"){var L=k||this.$options.theme.initialValue;s.loadModule(["theme",L],E)}else E(k);function E(A){if(T.$themeId!=k)return M&&M();if(!A||!A.cssClass)throw new Error("couldn't load module "+k+" or it didn't call define");A.$id&&(T.$themeId=A.$id),y.importCssString(A.cssText,A.cssClass,T.container),T.theme&&y.removeCssClass(T.container,T.theme.cssClass);var R="padding"in A?A.padding:"padding"in(T.theme||{})?4:T.$padding;T.$padding&&R!=T.$padding&&T.setPadding(R),T.$theme=A.cssClass,T.theme=A,y.addCssClass(T.container,A.cssClass),y.setCssClass(T.container,"ace_dark",A.isDark),T.$size&&(T.$size.width=0,T.$updateSizeAsync()),T._dispatchEvent("themeLoaded",{theme:A}),M&&M()}},C.prototype.getTheme=function(){return this.$themeId},C.prototype.setStyle=function(k,M){y.setCssClass(this.container,k,M!==!1)},C.prototype.unsetStyle=function(k){y.removeCssClass(this.container,k)},C.prototype.setCursorStyle=function(k){y.setStyle(this.scroller.style,"cursor",k)},C.prototype.setMouseCursor=function(k){y.setStyle(this.scroller.style,"cursor",k)},C.prototype.attachToShadowRoot=function(){y.importCssString(S,"ace_editor.css",this.container)},C.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},C.prototype.$updateCustomScrollbar=function(k){var M=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,k===!0?(this.scrollBarV=new p(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(T){M.$scrollAnimation||M.session.setScrollTop(T.data-M.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(T){M.$scrollAnimation||M.session.setScrollLeft(T.data-M.scrollMargin.left)}),this.$scrollDecorator=new b(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.addEventListener("scroll",function(T){M.$scrollAnimation||M.session.setScrollTop(T.data-M.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(T){M.$scrollAnimation||M.session.setScrollLeft(T.data-M.scrollMargin.left)}))},C.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var k=this;this.$resizeTimer=c.delayedCall(function(){k.destroyed||k.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(M){var T=M[0].contentRect.width,L=M[0].contentRect.height;Math.abs(k.$size.width-T)>1||Math.abs(k.$size.height-L)>1?k.$resizeTimer.delay():k.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},C}();x.prototype.CHANGE_CURSOR=1,x.prototype.CHANGE_MARKER=2,x.prototype.CHANGE_GUTTER=4,x.prototype.CHANGE_SCROLL=8,x.prototype.CHANGE_LINES=16,x.prototype.CHANGE_TEXT=32,x.prototype.CHANGE_SIZE=64,x.prototype.CHANGE_MARKER_BACK=128,x.prototype.CHANGE_MARKER_FRONT=256,x.prototype.CHANGE_FULL=512,x.prototype.CHANGE_H_SCROLL=1024,x.prototype.$changes=0,x.prototype.$padding=null,x.prototype.$frozen=!1,x.prototype.STEPS=8,u.implement(x.prototype,w),s.defineOptions(x.prototype,"renderer",{useResizeObserver:{set:function(C){!C&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):C&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(C){this.$textLayer.setShowInvisibles(C)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(C){typeof C=="number"&&(this.$printMarginColumn=C),this.$showPrintMargin=!!C,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(C){this.$gutter.style.display=C?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(C){this.$gutterLayer.$useSvgGutterIcons=C},initialValue:!1},showFoldedAnnotations:{set:function(C){this.$gutterLayer.$showFoldedAnnotations=C},initialValue:!1},fadeFoldWidgets:{set:function(C){y.setCssClass(this.$gutter,"ace_fade-fold-widgets",C)},initialValue:!1},showFoldWidgets:{set:function(C){this.$gutterLayer.setShowFoldWidgets(C),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(C){this.$textLayer.setDisplayIndentGuides(C)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(C){this.$textLayer.setHighlightIndentGuides(C)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(C){this.$gutterLayer.setHighlightGutterLine(C),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(C){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(C){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(C){typeof C=="number"&&(C=C+"px"),this.container.style.fontSize=C,this.updateFontSize()},initialValue:12},fontFamily:{set:function(C){this.container.style.fontFamily=C,this.updateFontSize()}},maxLines:{set:function(C){this.updateFull()}},minLines:{set:function(C){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(C){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(C){C=+C||0,this.$scrollPastEnd!=C&&(this.$scrollPastEnd=C,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(C){this.$gutterLayer.$fixedWidth=!!C,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(C){this.$updateCustomScrollbar(C)},initialValue:!1},theme:{set:function(C){this.setTheme(C)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!_.isMobile&&!_.isIE}}),i.VirtualRenderer=x}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,i,v){var u=n("../lib/oop"),y=n("../lib/net"),c=n("../lib/event_emitter").EventEmitter,s=n("../config");function d(l){var h="importScripts('"+y.qualifyURL(l)+"');";try{return new Blob([h],{type:"application/javascript"})}catch{var f=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,p=new f;return p.append(h),p.getBlob("application/javascript")}}function o(l){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var h=d(l),f=window.URL||window.webkitURL,p=f.createObjectURL(h);return new Worker(p)}return new Worker(l)}var r=function(l){l.postMessage||(l=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=l,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){u.implement(this,c),this.$createWorkerFromOldConfig=function(l,h,f,p,m){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),s.get("packaged")||!n.toUrl)p=p||s.moduleUrl(h,"worker");else{var g=this.$normalizePath;p=p||g(n.toUrl("ace/worker/worker.js",null,"_"));var w={};l.forEach(function(S){w[S]=g(n.toUrl(S,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=o(p),m&&this.send("importScripts",m),this.$worker.postMessage({init:!0,tlns:w,module:h,classname:f}),this.$worker},this.onMessage=function(l){var h=l.data;switch(h.type){case"event":this._signal(h.name,{data:h.data});break;case"call":var f=this.callbacks[h.id];f&&(f(h.data),delete this.callbacks[h.id]);break;case"error":this.reportError(h.data);break;case"log":window.console&&console.log&&console.log.apply(console,h.data);break}},this.reportError=function(l){window.console&&console.error&&console.error(l)},this.$normalizePath=function(l){return y.qualifyURL(l)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(l){l.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(l,h){this.$worker.postMessage({command:l,args:h})},this.call=function(l,h,f){if(f){var p=this.callbackId++;this.callbacks[p]=f,h.push(p)}this.send(l,h)},this.emit=function(l,h){try{h.data&&h.data.err&&(h.data.err={message:h.data.err.message,stack:h.data.err.stack,code:h.data.err.code}),this.$worker&&this.$worker.postMessage({event:l,data:{data:h.data}})}catch(f){console.error(f.stack)}},this.attachToDocument=function(l){this.$doc&&this.terminate(),this.$doc=l,this.call("setValue",[l.getValue()]),l.on("change",this.changeListener,!0)},this.changeListener=function(l){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),l.action=="insert"?this.deltaQueue.push(l.start,l.lines):this.deltaQueue.push(l.start,l.end)},this.$sendDeltaQueue=function(){var l=this.deltaQueue;l&&(this.deltaQueue=null,l.length>50&&l.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:l}))}}).call(r.prototype);var a=function(l,h,f){var p=null,m=!1,g=Object.create(c),w=[],S=new r({messageBuffer:w,terminate:function(){},postMessage:function(_){w.push(_),p&&(m?setTimeout(b):b())}});S.setEmitSync=function(_){m=_};var b=function(){var _=w.shift();_.command?p[_.command].apply(p,_.args):_.event&&g._signal(_.event,_.data)};return g.postMessage=function(_){S.onMessage({data:_})},g.callback=function(_,x){this.postMessage({type:"call",id:x,data:_})},g.emit=function(_,x){this.postMessage({type:"event",name:_,data:x})},s.loadModule(["worker",h],function(_){for(p=new _[f](g);w.length;)b()}),S};i.UIWorkerClient=a,i.WorkerClient=r,i.createWorker=o}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,i,v){var u=n("./range").Range,y=n("./lib/event_emitter").EventEmitter,c=n("./lib/oop"),s=function(){function d(o,r,a,l,h,f){var p=this;this.length=r,this.session=o,this.doc=o.getDocument(),this.mainClass=h,this.othersClass=f,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=l,this.$onCursorChange=function(){setTimeout(function(){p.onCursorChange()})},this.$pos=a;var m=o.getUndoManager().$undoStack||o.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=m.length,this.setup(),o.selection.on("changeCursor",this.$onCursorChange)}return d.prototype.setup=function(){var o=this,r=this.doc,a=this.session;this.selectionBefore=a.selection.toJSON(),a.selection.inMultiSelectMode&&a.selection.toSingleRange(),this.pos=r.createAnchor(this.$pos.row,this.$pos.column);var l=this.pos;l.$insertRight=!0,l.detach(),l.markerId=a.addMarker(new u(l.row,l.column,l.row,l.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(h){var f=r.createAnchor(h.row,h.column);f.$insertRight=!0,f.detach(),o.others.push(f)}),a.setUndoSelect(!1)},d.prototype.showOtherMarkers=function(){if(!this.othersActive){var o=this.session,r=this;this.othersActive=!0,this.others.forEach(function(a){a.markerId=o.addMarker(new u(a.row,a.column,a.row,a.column+r.length),r.othersClass,null,!1)})}},d.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var o=0;o<this.others.length;o++)this.session.removeMarker(this.others[o].markerId)}},d.prototype.onUpdate=function(o){if(this.$updating)return this.updateAnchors(o);var r=o;if(r.start.row===r.end.row&&r.start.row===this.pos.row){this.$updating=!0;var a=o.action==="insert"?r.end.column-r.start.column:r.start.column-r.end.column,l=r.start.column>=this.pos.column&&r.start.column<=this.pos.column+this.length+1,h=r.start.column-this.pos.column;if(this.updateAnchors(o),l&&(this.length+=a),l&&!this.session.$fromUndo){if(o.action==="insert")for(var f=this.others.length-1;f>=0;f--){var p=this.others[f],m={row:p.row,column:p.column+h};this.doc.insertMergedLines(m,o.lines)}else if(o.action==="remove")for(var f=this.others.length-1;f>=0;f--){var p=this.others[f],m={row:p.row,column:p.column+h};this.doc.remove(new u(m.row,m.column,m.row,m.column-a))}}this.$updating=!1,this.updateMarkers()}},d.prototype.updateAnchors=function(o){this.pos.onChange(o);for(var r=this.others.length;r--;)this.others[r].onChange(o);this.updateMarkers()},d.prototype.updateMarkers=function(){if(!this.$updating){var o=this,r=this.session,a=function(h,f){r.removeMarker(h.markerId),h.markerId=r.addMarker(new u(h.row,h.column,h.row,h.column+o.length),f,null,!1)};a(this.pos,this.mainClass);for(var l=this.others.length;l--;)a(this.others[l],this.othersClass)}},d.prototype.onCursorChange=function(o){if(!(this.$updating||!this.session)){var r=this.session.selection.getCursor();r.row===this.pos.row&&r.column>=this.pos.column&&r.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",o)):(this.hideOtherMarkers(),this._emit("cursorLeave",o))}},d.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},d.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var o=this.session.getUndoManager(),r=(o.$undoStack||o.$undostack).length-this.$undoStackDepth,a=0;a<r;a++)o.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},d}();c.implement(s.prototype,y),i.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,i,v){var u=n("../lib/event"),y=n("../lib/useragent");function c(d,o){return d.row==o.row&&d.column==o.column}function s(d){var o=d.domEvent,r=o.altKey,a=o.shiftKey,l=o.ctrlKey,h=d.getAccelKey(),f=d.getButton();if(l&&y.isMac&&(f=o.button),d.editor.inMultiSelectMode&&f==2){d.editor.textInput.onContextMenu(d.domEvent);return}if(!l&&!r&&!h){f===0&&d.editor.inMultiSelectMode&&d.editor.exitMultiSelectMode();return}if(f===0){var p=d.editor,m=p.selection,g=p.inMultiSelectMode,w=d.getDocumentPosition(),S=m.getCursor(),b=d.inSelection()||m.isEmpty()&&c(w,S),_=d.x,x=d.y,C=function(N){_=N.clientX,x=N.clientY},k=p.session,M=p.renderer.pixelToScreenCoordinates(_,x),T=M,L;if(p.$mouseHandler.$enableJumpToDef)l&&r||h&&r?L=a?"block":"add":r&&p.$blockSelectEnabled&&(L="block");else if(h&&!r){if(L="add",!g&&a)return}else r&&p.$blockSelectEnabled&&(L="block");if(L&&y.isMac&&o.ctrlKey&&p.$mouseHandler.cancelContextMenu(),L=="add"){if(!g&&b)return;if(!g){var E=m.toOrientedRange();p.addSelectionMarker(E)}var A=m.rangeList.rangeAtPoint(w);p.inVirtualSelectionMode=!0,a&&(A=null,E=m.ranges[0]||E,p.removeSelectionMarker(E)),p.once("mouseup",function(){var N=m.toOrientedRange();A&&N.isEmpty()&&c(A.cursor,N.cursor)?m.substractPoint(N.cursor):(a?m.substractPoint(E.cursor):E&&(p.removeSelectionMarker(E),m.addRange(E)),m.addRange(N)),p.inVirtualSelectionMode=!1})}else if(L=="block"){d.stop(),p.inVirtualSelectionMode=!0;var R,I=[],D=function(){var N=p.renderer.pixelToScreenCoordinates(_,x),H=k.screenToDocumentPosition(N.row,N.column,N.offsetX);c(T,N)&&c(H,m.lead)||(T=N,p.selection.moveToPosition(H),p.renderer.scrollCursorIntoView(),p.removeSelectionMarkers(I),I=m.rectangularRangeBlock(T,M),p.$mouseHandler.$clickSelection&&I.length==1&&I[0].isEmpty()&&(I[0]=p.$mouseHandler.$clickSelection.clone()),I.forEach(p.addSelectionMarker,p),p.updateSelectionMarkers())};g&&!h?m.toSingleRange():!g&&h&&(R=m.toOrientedRange(),p.addSelectionMarker(R)),a?M=k.documentToScreenPosition(m.lead):m.moveToPosition(w),T={row:-1,column:-1};var P=function(N){D(),clearInterval($),p.removeSelectionMarkers(I),I.length||(I=[m.toOrientedRange()]),R&&(p.removeSelectionMarker(R),m.toSingleRange(R));for(var H=0;H<I.length;H++)m.addRange(I[H]);p.inVirtualSelectionMode=!1,p.$mouseHandler.$clickSelection=null},O=D;u.capture(p.container,C,P);var $=setInterval(function(){O()},20);return d.preventDefault()}}}i.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,i,v){i.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(y){y.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(y){y.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(y){y.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(y){y.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(y){y.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(y){y.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(y){y.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(y){y.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(y){y.multiSelect.rangeCount>1?y.multiSelect.joinSelections():y.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(y){y.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(y){y.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(y){y.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],i.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(y){y.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(y){return y&&y.inMultiSelectMode}}];var u=n("../keyboard/hash_handler").HashHandler;i.keyboardHandler=new u(i.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,i,v){var u=n("./range_list").RangeList,y=n("./range").Range,c=n("./selection").Selection,s=n("./mouse/multi_select_handler").onMouseDown,d=n("./lib/event"),o=n("./lib/lang"),r=n("./commands/multi_select_commands");i.commands=r.defaultCommands.concat(r.multiSelectCommands);var a=n("./search").Search,l=new a;function h(S,b,_){return l.$options.wrap=!0,l.$options.needle=b,l.$options.backwards=_==-1,l.find(S)}var f=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(S,b){if(S){if(!this.inMultiSelectMode&&this.rangeCount===0){var _=this.toOrientedRange();if(this.rangeList.add(_),this.rangeList.add(S),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),b||this.fromOrientedRange(S);this.rangeList.removeAll(),this.rangeList.add(_),this.$onAddRange(_)}S.cursor||(S.cursor=S.end);var x=this.rangeList.add(S);return this.$onAddRange(S),x.length&&this.$onRemoveRange(x),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(S)}},this.toSingleRange=function(S){S=S||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b),S&&this.fromOrientedRange(S)},this.substractPoint=function(S){var b=this.rangeList.substractPoint(S);if(b)return this.$onRemoveRange(b),b[0]},this.mergeOverlappingRanges=function(){var S=this.rangeList.merge();S.length&&this.$onRemoveRange(S)},this.$onAddRange=function(S){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(S),this._signal("addRange",{range:S})},this.$onRemoveRange=function(S){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();S.push(b),this.rangeCount=0}for(var _=S.length;_--;){var x=this.ranges.indexOf(S[_]);this.ranges.splice(x,1)}this._signal("removeRange",{ranges:S}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),b=b||this.ranges[0],b&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new u,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var S=this.ranges.length?this.ranges:[this.getRange()],b=[],_=0;_<S.length;_++){var x=S[_],C=x.start.row,k=x.end.row;if(C===k)b.push(x.clone());else{for(b.push(new y(C,x.start.column,C,this.session.getLine(C).length));++C<k;)b.push(this.getLineRange(C,!0));b.push(new y(k,0,k,x.end.column))}_==0&&!this.isBackwards()&&(b=b.reverse())}this.toSingleRange();for(var _=b.length;_--;)this.addRange(b[_])},this.joinSelections=function(){var S=this.rangeList.ranges,b=S[S.length-1],_=y.fromPoints(S[0].start,b.end);this.toSingleRange(),this.setSelectionRange(_,b.cursor==b.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var S=this.rangeList.ranges,b=S[S.length-1],_=y.fromPoints(S[0].start,b.end);this.toSingleRange(),this.setSelectionRange(_,b.cursor==b.start)}else{var x=this.session.documentToScreenPosition(this.cursor),C=this.session.documentToScreenPosition(this.anchor),k=this.rectangularRangeBlock(x,C);k.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(S,b,_){var x=[],C=S.column<b.column;if(C)var k=S.column,M=b.column,T=S.offsetX,L=b.offsetX;else var k=b.column,M=S.column,T=b.offsetX,L=S.offsetX;var E=S.row<b.row;if(E)var A=S.row,R=b.row;else var A=b.row,R=S.row;k<0&&(k=0),A<0&&(A=0),A==R&&(_=!0);for(var I,D=A;D<=R;D++){var P=y.fromPoints(this.session.screenToDocumentPosition(D,k,T),this.session.screenToDocumentPosition(D,M,L));if(P.isEmpty()){if(I&&m(P.end,I))break;I=P.end}P.cursor=C?P.start:P.end,x.push(P)}if(E&&x.reverse(),!_){for(var O=x.length-1;x[O].isEmpty()&&O>0;)O--;if(O>0)for(var $=0;x[$].isEmpty();)$++;for(var N=O;N>=$;N--)x[N].isEmpty()&&x.splice(N,1)}return x}}).call(c.prototype);var p=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(S){S.cursor||(S.cursor=S.end);var b=this.getSelectionStyle();return S.marker=this.session.addMarker(S,"ace_selection",b),this.session.$selectionMarkers.push(S),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,S},this.removeSelectionMarker=function(S){if(S.marker){this.session.removeMarker(S.marker);var b=this.session.$selectionMarkers.indexOf(S);b!=-1&&this.session.$selectionMarkers.splice(b,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(S){for(var b=this.session.$selectionMarkers,_=S.length;_--;){var x=S[_];if(x.marker){this.session.removeMarker(x.marker);var C=b.indexOf(x);C!=-1&&b.splice(C,1)}}this.session.selectionMarkerCount=b.length},this.$onAddRange=function(S){this.addSelectionMarker(S.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(S){this.removeSelectionMarkers(S.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(S){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(S){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(S){var b=S.command,_=S.editor;if(_.multiSelect){if(b.multiSelectAction)b.multiSelectAction=="forEach"?x=_.forEachSelection(b,S.args):b.multiSelectAction=="forEachLine"?x=_.forEachSelection(b,S.args,!0):b.multiSelectAction=="single"?(_.exitMultiSelectMode(),x=b.exec(_,S.args||{})):x=b.multiSelectAction(_,S.args||{});else{var x=b.exec(_,S.args||{});_.multiSelect.addRange(_.multiSelect.toOrientedRange()),_.multiSelect.mergeOverlappingRanges()}return x}},this.forEachSelection=function(S,b,_){if(!this.inVirtualSelectionMode){var x=_&&_.keepOrder,C=_==!0||_&&_.$byLines,k=this.session,M=this.selection,T=M.rangeList,L=(x?M:T).ranges,E;if(!L.length)return S.exec?S.exec(this,b||{}):S(this,b||{});var A=M._eventRegistry;M._eventRegistry={};var R=new c(k);this.inVirtualSelectionMode=!0;for(var I=L.length;I--;){if(C)for(;I>0&&L[I].start.row==L[I-1].end.row;)I--;R.fromOrientedRange(L[I]),R.index=I,this.selection=k.selection=R;var D=S.exec?S.exec(this,b||{}):S(this,b||{});!E&&D!==void 0&&(E=D),R.toOrientedRange(L[I])}R.detach(),this.selection=k.selection=M,this.inVirtualSelectionMode=!1,M._eventRegistry=A,M.mergeOverlappingRanges(),M.ranges[0]&&M.fromOrientedRange(M.ranges[0]);var P=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),P&&P.from==P.to&&this.renderer.animateScrolling(P.from),E}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var S="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var b=this.multiSelect.rangeList.ranges,_=[],x=0;x<b.length;x++)_.push(this.session.getTextRange(b[x]));var C=this.session.getDocument().getNewLineCharacter();S=_.join(C),S.length==(_.length-1)*C.length&&(S="")}else this.selection.isEmpty()||(S=this.session.getTextRange(this.getSelectionRange()));return S},this.$checkMultiselectChange=function(S,b){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var _=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&b==this.multiSelect.anchor)return;var x=b==this.multiSelect.anchor?_.cursor==_.start?_.end:_.start:_.cursor;x.row!=b.row||this.session.$clipPositionToDocument(x.row,x.column).column!=b.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(S,b,_){if(b=b||{},b.needle=S||b.needle,b.needle==null){var x=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();b.needle=this.session.getTextRange(x)}this.$search.set(b);var C=this.$search.findAll(this.session);if(!C.length)return 0;var k=this.multiSelect;_||k.toSingleRange(C[0]);for(var M=C.length;M--;)k.addRange(C[M],!0);return x&&k.rangeList.rangeAtPoint(x.start)&&k.addRange(x,!0),C.length},this.selectMoreLines=function(S,b){var _=this.selection.toOrientedRange(),x=_.cursor==_.end,C=this.session.documentToScreenPosition(_.cursor);this.selection.$desiredColumn&&(C.column=this.selection.$desiredColumn);var k=this.session.screenToDocumentPosition(C.row+S,C.column);if(_.isEmpty())var T=k;else var M=this.session.documentToScreenPosition(x?_.end:_.start),T=this.session.screenToDocumentPosition(M.row+S,M.column);if(x){var L=y.fromPoints(k,T);L.cursor=L.start}else{var L=y.fromPoints(T,k);L.cursor=L.end}if(L.desiredColumn=C.column,!this.selection.inMultiSelectMode)this.selection.addRange(_);else if(b)var E=_.cursor;this.selection.addRange(L),E&&this.selection.substractPoint(E)},this.transposeSelections=function(S){for(var b=this.session,_=b.multiSelect,x=_.ranges,C=x.length;C--;){var k=x[C];if(k.isEmpty()){var M=b.getWordRange(k.start.row,k.start.column);k.start.row=M.start.row,k.start.column=M.start.column,k.end.row=M.end.row,k.end.column=M.end.column}}_.mergeOverlappingRanges();for(var T=[],C=x.length;C--;){var k=x[C];T.unshift(b.getTextRange(k))}S<0?T.unshift(T.pop()):T.push(T.shift());for(var C=x.length;C--;){var k=x[C],L=k.clone();b.replace(k,T[C]),k.start.row=L.start.row,k.start.column=L.start.column}_.fromOrientedRange(_.ranges[0])},this.selectMore=function(S,b,_){var x=this.session,C=x.multiSelect,k=C.toOrientedRange();if(!(k.isEmpty()&&(k=x.getWordRange(k.start.row,k.start.column),k.cursor=S==-1?k.start:k.end,this.multiSelect.addRange(k),_))){var M=x.getTextRange(k),T=h(x,M,S);T&&(T.cursor=S==-1?T.start:T.end,this.session.unfold(T),this.multiSelect.addRange(T),this.renderer.scrollCursorIntoView(null,.5)),b&&this.multiSelect.substractPoint(k.cursor)}},this.alignCursors=function(){var S=this.session,b=S.multiSelect,_=b.ranges,x=-1,C=_.filter(function(O){if(O.cursor.row==x)return!0;x=O.cursor.row});if(!_.length||C.length==_.length-1){var k=this.selection.getRange(),M=k.start.row,T=k.end.row,L=M==T;if(L){var E=this.session.getLength(),A;do A=this.session.getLine(T);while(/[=:]/.test(A)&&++T<E);do A=this.session.getLine(M);while(/[=:]/.test(A)&&--M>0);M<0&&(M=0),T>=E&&(T=E-1)}var R=this.session.removeFullLines(M,T);R=this.$reAlignText(R,L),this.session.insert({row:M,column:0},R.join(`
`)+`
`),L||(k.start.column=0,k.end.column=R[R.length-1].length),this.selection.setRange(k)}else{C.forEach(function(O){b.substractPoint(O.cursor)});var I=0,D=1/0,P=_.map(function(O){var $=O.cursor,N=S.getLine($.row),H=N.substr($.column).search(/\S/g);return H==-1&&(H=0),$.column>I&&(I=$.column),H<D&&(D=H),H});_.forEach(function(O,$){var N=O.cursor,H=I-N.column,B=P[$]-D;H>B?S.insert(N,o.stringRepeat(" ",H-B)):S.remove(new y(N.row,N.column,N.row,N.column-H+B)),O.start.column=O.end.column=I,O.start.row=O.end.row=N.row,O.cursor=O.end}),b.fromOrientedRange(_[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(S,b){var _=!0,x=!0,C,k,M;return S.map(function(R){var I=R.match(/(\s*)(.*?)(\s*)([=:].*)/);return I?C==null?(C=I[1].length,k=I[2].length,M=I[3].length,I):(C+k+M!=I[1].length+I[2].length+I[3].length&&(x=!1),C!=I[1].length&&(_=!1),C>I[1].length&&(C=I[1].length),k<I[2].length&&(k=I[2].length),M>I[3].length&&(M=I[3].length),I):[R]}).map(b?L:_?x?E:L:A);function T(R){return o.stringRepeat(" ",R)}function L(R){return R[2]?T(C)+R[2]+T(k-R[2].length+M)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function E(R){return R[2]?T(C+k-R[2].length)+R[2]+T(M)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}function A(R){return R[2]?T(C)+R[2]+T(M)+R[4].replace(/^([=:])\s+/,"$1 "):R[0]}}}).call(p.prototype);function m(S,b){return S.row==b.row&&S.column==b.column}i.onSessionChange=function(S){var b=S.session;b&&!b.multiSelect&&(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection),this.multiSelect=b&&b.multiSelect;var _=S.oldSession;_&&(_.multiSelect.off("addRange",this.$onAddRange),_.multiSelect.off("removeRange",this.$onRemoveRange),_.multiSelect.off("multiSelect",this.$onMultiSelect),_.multiSelect.off("singleSelect",this.$onSingleSelect),_.multiSelect.lead.off("change",this.$checkMultiselectChange),_.multiSelect.anchor.off("change",this.$checkMultiselectChange)),b&&(b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),b.multiSelect.lead.on("change",this.$checkMultiselectChange),b.multiSelect.anchor.on("change",this.$checkMultiselectChange)),b&&this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function g(S){S.$multiselectOnSessionChange||(S.$onAddRange=S.$onAddRange.bind(S),S.$onRemoveRange=S.$onRemoveRange.bind(S),S.$onMultiSelect=S.$onMultiSelect.bind(S),S.$onSingleSelect=S.$onSingleSelect.bind(S),S.$multiselectOnSessionChange=i.onSessionChange.bind(S),S.$checkMultiselectChange=S.$checkMultiselectChange.bind(S),S.$multiselectOnSessionChange(S),S.on("changeSession",S.$multiselectOnSessionChange),S.on("mousedown",s),S.commands.addCommands(r.defaultCommands),w(S))}function w(S){if(!S.textInput)return;var b=S.textInput.getElement(),_=!1;d.addListener(b,"keydown",function(C){var k=C.keyCode==18&&!(C.ctrlKey||C.shiftKey||C.metaKey);S.$blockSelectEnabled&&k?_||(S.renderer.setMouseCursor("crosshair"),_=!0):_&&x()},S),d.addListener(b,"keyup",x,S),d.addListener(b,"blur",x,S);function x(C){_&&(S.renderer.setMouseCursor(""),_=!1)}}i.MultiSelect=g,n("./config").defineOptions(p.prototype,"editor",{enableMultiselect:{set:function(S){g(this),S?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(S){this.$blockSelectEnabled=S},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,i,v){var u=n("../../range").Range,y=i.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(c,s,d){var o=c.getLine(d);return this.foldingStartMarker.test(o)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(o)?"end":""},this.getFoldWidgetRange=function(c,s,d){return null},this.indentationBlock=function(c,s,d){var o=/\S/,r=c.getLine(s),a=r.search(o);if(a!=-1){for(var l=d||r.length,h=c.getLength(),f=s,p=s;++s<h;){var m=c.getLine(s).search(o);if(m!=-1){if(m<=a){var g=c.getTokenAt(s,0);if(!g||g.type!=="string")break}p=s}}if(p>f){var w=c.getLine(p).length;return new u(f,l,p,w)}}},this.openingBracketBlock=function(c,s,d,o,r){var a={row:d,column:o+1},l=c.$findClosingBracket(s,a,r);if(l){var h=c.foldWidgets[l.row];return h==null&&(h=c.getFoldWidget(l.row)),h=="start"&&l.row>a.row&&(l.row--,l.column=c.getLine(l.row).length),u.fromPoints(a,l)}},this.closingBracketBlock=function(c,s,d,o,r){var a={row:d,column:o},l=c.$findOpeningBracket(s,a);if(l)return l.column++,a.column--,u.fromPoints(l,a)}}).call(y.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(n,i,v){var u=n("../line_widgets").LineWidgets,y=n("../lib/dom"),c=n("../range").Range,s=n("../config").nls;function d(r,a,l){for(var h=0,f=r.length-1;h<=f;){var p=h+f>>1,m=l(a,r[p]);if(m>0)h=p+1;else if(m<0)f=p-1;else return p}return-(h+1)}function o(r,a,l){var h=r.getAnnotations().sort(c.comparePoints);if(h.length){var f=d(h,{row:a,column:-1},c.comparePoints);f<0&&(f=-f-1),f>=h.length?f=l>0?0:h.length-1:f===0&&l<0&&(f=h.length-1);var p=h[f];if(!(!p||!l)){if(p.row===a){do p=h[f+=l];while(p&&p.row===a);if(!p)return h.slice()}var m=[];a=p.row;do m[l<0?"unshift":"push"](p),p=h[f+=l];while(p&&p.row==a);return m.length&&m}}}i.showErrorMarker=function(r,a){var l=r.session;l.widgetManager||(l.widgetManager=new u(l),l.widgetManager.attach(r));var h=r.getCursorPosition(),f=h.row,p=l.widgetManager.getWidgetsAtRow(f).filter(function(k){return k.type=="errorMarker"})[0];p?p.destroy():f-=a;var m=o(l,f,a),g;if(m){var w=m[0];h.column=(w.pos&&typeof w.column!="number"?w.pos.sc:w.column)||0,h.row=w.row,g=r.renderer.$gutterLayer.$annotations[h.row]}else{if(p)return;g={text:[s("error-marker.good-state","Looks good!")],className:"ace_ok"}}r.session.unfold(h.row),r.selection.moveToPosition(h);var S={row:h.row,fixedWidth:!0,coverGutter:!0,el:y.createElement("div"),type:"errorMarker"},b=S.el.appendChild(y.createElement("div")),_=S.el.appendChild(y.createElement("div"));_.className="error_widget_arrow "+g.className;var x=r.renderer.$cursorLayer.getPixelPosition(h).left;_.style.left=x+r.renderer.gutterWidth-5+"px",S.el.className="error_widget_wrapper",b.className="error_widget "+g.className,b.innerHTML=g.text.join("<br>"),b.appendChild(y.createElement("div"));var C=function(k,M,T){if(M===0&&(T==="esc"||T==="return"))return S.destroy(),{command:"null"}};S.destroy=function(){r.$mouseHandler.isMousePressed||(r.keyBinding.removeKeyboardHandler(C),l.widgetManager.removeLineWidget(S),r.off("changeSelection",S.destroy),r.off("changeSession",S.destroy),r.off("mouseup",S.destroy),r.off("change",S.destroy))},r.keyBinding.addKeyboardHandler(C),r.on("changeSelection",S.destroy),r.on("changeSession",S.destroy),r.on("mouseup",S.destroy),r.on("change",S.destroy),r.session.widgetManager.addLineWidget(S),S.el.onmousedown=r.focus.bind(r),r.renderer.scrollCursorIntoView(null,.5,{bottom:S.el.offsetHeight})},y.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,i,v){n("./loader_build")(i);var u=n("./lib/dom"),y=n("./range").Range,c=n("./editor").Editor,s=n("./edit_session").EditSession,d=n("./undomanager").UndoManager,o=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),i.config=n("./config"),i.edit=function(r,a){if(typeof r=="string"){var l=r;if(r=document.getElementById(l),!r)throw new Error("ace.edit can't find div #"+l)}if(r&&r.env&&r.env.editor instanceof c)return r.env.editor;var h="";if(r&&/input|textarea/i.test(r.tagName)){var f=r;h=f.value,r=u.createElement("pre"),f.parentNode.replaceChild(r,f)}else r&&(h=r.textContent,r.innerHTML="");var p=i.createEditSession(h),m=new c(new o(r),p,a),g={document:p,editor:m,onResize:m.resize.bind(m,null)};return f&&(g.textarea=f),m.on("destroy",function(){g.editor.container.env=null}),m.container.env=m.env=g,m},i.createEditSession=function(r,a){var l=new s(r,a);return l.setUndoManager(new d),l},i.Range=y,i.Editor=c,i.EditSession=s,i.UndoManager=d,i.VirtualRenderer=o,i.version=i.config.version}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define);var i=function(){return this}();!i&&typeof window<"u"&&(i=window),!i&&typeof self<"u"&&(i=self),i.ace||(i.ace=n);for(var v in n)n.hasOwnProperty(v)&&(i.ace[v]=n[v]);i.ace.default=i.ace,e&&(e.exports=i.ace)})}()})(Hm);var da=Hm.exports,Wm={exports:{}},Nw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fw=Nw,Hw=Fw;function zm(){}function Um(){}Um.resetWarningCache=zm;var Ww=function(){function e(i,v,u,y,c,s){if(s!==Hw){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Um,resetWarningCache:zm};return n.PropTypes=n,n};Wm.exports=Ww();var Ns=Wm.exports,fa={exports:{}};fa.exports;(function(e,t){var n=200,i="__lodash_hash_undefined__",v=1,u=2,y=9007199254740991,c="[object Arguments]",s="[object Array]",d="[object AsyncFunction]",o="[object Boolean]",r="[object Date]",a="[object Error]",l="[object Function]",h="[object GeneratorFunction]",f="[object Map]",p="[object Number]",m="[object Null]",g="[object Object]",w="[object Promise]",S="[object Proxy]",b="[object RegExp]",_="[object Set]",x="[object String]",C="[object Symbol]",k="[object Undefined]",M="[object WeakMap]",T="[object ArrayBuffer]",L="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",R="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",$="[object Uint16Array]",N="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,U={};U[E]=U[A]=U[R]=U[I]=U[D]=U[P]=U[O]=U[$]=U[N]=!0,U[c]=U[s]=U[T]=U[o]=U[L]=U[r]=U[a]=U[l]=U[f]=U[p]=U[g]=U[b]=U[_]=U[x]=U[M]=!1;var V=typeof Ve=="object"&&Ve&&Ve.Object===Object&&Ve,W=typeof self=="object"&&self&&self.Object===Object&&self,F=V||W||Function("return this")(),Y=t&&!t.nodeType&&t,G=Y&&!0&&e&&!e.nodeType&&e,Q=G&&G.exports===Y,J=Q&&V.process,ce=function(){try{return J&&J.binding&&J.binding("util")}catch{}}(),me=ce&&ce.isTypedArray;function de(j,X){for(var ee=-1,oe=j==null?0:j.length,De=0,we=[];++ee<oe;){var Ue=j[ee];X(Ue,ee,j)&&(we[De++]=Ue)}return we}function ke(j,X){for(var ee=-1,oe=X.length,De=j.length;++ee<oe;)j[De+ee]=X[ee];return j}function le(j,X){for(var ee=-1,oe=j==null?0:j.length;++ee<oe;)if(X(j[ee],ee,j))return!0;return!1}function nt(j,X){for(var ee=-1,oe=Array(j);++ee<j;)oe[ee]=X(ee);return oe}function Ft(j){return function(X){return j(X)}}function Zt(j,X){return j.has(X)}function xn(j,X){return j==null?void 0:j[X]}function Ht(j){var X=-1,ee=Array(j.size);return j.forEach(function(oe,De){ee[++X]=[De,oe]}),ee}function Ke(j,X){return function(ee){return j(X(ee))}}function Tt(j){var X=-1,ee=Array(j.size);return j.forEach(function(oe){ee[++X]=oe}),ee}var at=Array.prototype,K=Function.prototype,q=Object.prototype,Z=F["__core-js_shared__"],re=K.toString,se=q.hasOwnProperty,ye=function(){var j=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),he=q.toString,Ce=RegExp("^"+re.call(se).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=Q?F.Buffer:void 0,Se=F.Symbol,Le=F.Uint8Array,gt=q.propertyIsEnumerable,wt=at.splice,di=Se?Se.toStringTag:void 0,Lh=Object.getOwnPropertySymbols,gy=Ee?Ee.isBuffer:void 0,my=Ke(Object.keys,Object),Ga=Hi(F,"DataView"),Mr=Hi(F,"Map"),Ya=Hi(F,"Promise"),Xa=Hi(F,"Set"),qa=Hi(F,"WeakMap"),$r=Hi(Object,"create"),vy=gi(Ga),yy=gi(Mr),_y=gi(Ya),wy=gi(Xa),Sy=gi(qa),Th=Se?Se.prototype:void 0,Qa=Th?Th.valueOf:void 0;function fi(j){var X=-1,ee=j==null?0:j.length;for(this.clear();++X<ee;){var oe=j[X];this.set(oe[0],oe[1])}}function by(){this.__data__=$r?$r(null):{},this.size=0}function Cy(j){var X=this.has(j)&&delete this.__data__[j];return this.size-=X?1:0,X}function xy(j){var X=this.__data__;if($r){var ee=X[j];return ee===i?void 0:ee}return se.call(X,j)?X[j]:void 0}function ky(j){var X=this.__data__;return $r?X[j]!==void 0:se.call(X,j)}function Ey(j,X){var ee=this.__data__;return this.size+=this.has(j)?0:1,ee[j]=$r&&X===void 0?i:X,this}fi.prototype.clear=by,fi.prototype.delete=Cy,fi.prototype.get=xy,fi.prototype.has=ky,fi.prototype.set=Ey;function kn(j){var X=-1,ee=j==null?0:j.length;for(this.clear();++X<ee;){var oe=j[X];this.set(oe[0],oe[1])}}function Ay(){this.__data__=[],this.size=0}function Ly(j){var X=this.__data__,ee=Vs(X,j);if(ee<0)return!1;var oe=X.length-1;return ee==oe?X.pop():wt.call(X,ee,1),--this.size,!0}function Ty(j){var X=this.__data__,ee=Vs(X,j);return ee<0?void 0:X[ee][1]}function Ry(j){return Vs(this.__data__,j)>-1}function My(j,X){var ee=this.__data__,oe=Vs(ee,j);return oe<0?(++this.size,ee.push([j,X])):ee[oe][1]=X,this}kn.prototype.clear=Ay,kn.prototype.delete=Ly,kn.prototype.get=Ty,kn.prototype.has=Ry,kn.prototype.set=My;function pi(j){var X=-1,ee=j==null?0:j.length;for(this.clear();++X<ee;){var oe=j[X];this.set(oe[0],oe[1])}}function $y(){this.size=0,this.__data__={hash:new fi,map:new(Mr||kn),string:new fi}}function Oy(j){var X=Ks(this,j).delete(j);return this.size-=X?1:0,X}function Iy(j){return Ks(this,j).get(j)}function Dy(j){return Ks(this,j).has(j)}function Py(j,X){var ee=Ks(this,j),oe=ee.size;return ee.set(j,X),this.size+=ee.size==oe?0:1,this}pi.prototype.clear=$y,pi.prototype.delete=Oy,pi.prototype.get=Iy,pi.prototype.has=Dy,pi.prototype.set=Py;function js(j){var X=-1,ee=j==null?0:j.length;for(this.__data__=new pi;++X<ee;)this.add(j[X])}function By(j){return this.__data__.set(j,i),this}function Ny(j){return this.__data__.has(j)}js.prototype.add=js.prototype.push=By,js.prototype.has=Ny;function Fn(j){var X=this.__data__=new kn(j);this.size=X.size}function Fy(){this.__data__=new kn,this.size=0}function Hy(j){var X=this.__data__,ee=X.delete(j);return this.size=X.size,ee}function Wy(j){return this.__data__.get(j)}function zy(j){return this.__data__.has(j)}function Uy(j,X){var ee=this.__data__;if(ee instanceof kn){var oe=ee.__data__;if(!Mr||oe.length<n-1)return oe.push([j,X]),this.size=++ee.size,this;ee=this.__data__=new pi(oe)}return ee.set(j,X),this.size=ee.size,this}Fn.prototype.clear=Fy,Fn.prototype.delete=Hy,Fn.prototype.get=Wy,Fn.prototype.has=zy,Fn.prototype.set=Uy;function jy(j,X){var ee=Gs(j),oe=!ee&&s_(j),De=!ee&&!oe&&Ja(j),we=!ee&&!oe&&!De&&Nh(j),Ue=ee||oe||De||we,Ze=Ue?nt(j.length,String):[],it=Ze.length;for(var Fe in j)se.call(j,Fe)&&!(Ue&&(Fe=="length"||De&&(Fe=="offset"||Fe=="parent")||we&&(Fe=="buffer"||Fe=="byteLength"||Fe=="byteOffset")||e_(Fe,it)))&&Ze.push(Fe);return Ze}function Vs(j,X){for(var ee=j.length;ee--;)if(Ih(j[ee][0],X))return ee;return-1}function Vy(j,X,ee){var oe=X(j);return Gs(j)?oe:ke(oe,ee(j))}function Or(j){return j==null?j===void 0?k:m:di&&di in Object(j)?Jy(j):r_(j)}function Rh(j){return Ir(j)&&Or(j)==c}function Mh(j,X,ee,oe,De){return j===X?!0:j==null||X==null||!Ir(j)&&!Ir(X)?j!==j&&X!==X:Ky(j,X,ee,oe,Mh,De)}function Ky(j,X,ee,oe,De,we){var Ue=Gs(j),Ze=Gs(X),it=Ue?s:Hn(j),Fe=Ze?s:Hn(X);it=it==c?g:it,Fe=Fe==c?g:Fe;var Rt=it==g,en=Fe==g,lt=it==Fe;if(lt&&Ja(j)){if(!Ja(X))return!1;Ue=!0,Rt=!1}if(lt&&!Rt)return we||(we=new Fn),Ue||Nh(j)?$h(j,X,ee,oe,De,we):qy(j,X,it,ee,oe,De,we);if(!(ee&v)){var Wt=Rt&&se.call(j,"__wrapped__"),zt=en&&se.call(X,"__wrapped__");if(Wt||zt){var Wn=Wt?j.value():j,En=zt?X.value():X;return we||(we=new Fn),De(Wn,En,ee,oe,we)}}return lt?(we||(we=new Fn),Qy(j,X,ee,oe,De,we)):!1}function Gy(j){if(!Bh(j)||n_(j))return!1;var X=Dh(j)?Ce:B;return X.test(gi(j))}function Yy(j){return Ir(j)&&Ph(j.length)&&!!U[Or(j)]}function Xy(j){if(!i_(j))return my(j);var X=[];for(var ee in Object(j))se.call(j,ee)&&ee!="constructor"&&X.push(ee);return X}function $h(j,X,ee,oe,De,we){var Ue=ee&v,Ze=j.length,it=X.length;if(Ze!=it&&!(Ue&&it>Ze))return!1;var Fe=we.get(j);if(Fe&&we.get(X))return Fe==X;var Rt=-1,en=!0,lt=ee&u?new js:void 0;for(we.set(j,X),we.set(X,j);++Rt<Ze;){var Wt=j[Rt],zt=X[Rt];if(oe)var Wn=Ue?oe(zt,Wt,Rt,X,j,we):oe(Wt,zt,Rt,j,X,we);if(Wn!==void 0){if(Wn)continue;en=!1;break}if(lt){if(!le(X,function(En,mi){if(!Zt(lt,mi)&&(Wt===En||De(Wt,En,ee,oe,we)))return lt.push(mi)})){en=!1;break}}else if(!(Wt===zt||De(Wt,zt,ee,oe,we))){en=!1;break}}return we.delete(j),we.delete(X),en}function qy(j,X,ee,oe,De,we,Ue){switch(ee){case L:if(j.byteLength!=X.byteLength||j.byteOffset!=X.byteOffset)return!1;j=j.buffer,X=X.buffer;case T:return!(j.byteLength!=X.byteLength||!we(new Le(j),new Le(X)));case o:case r:case p:return Ih(+j,+X);case a:return j.name==X.name&&j.message==X.message;case b:case x:return j==X+"";case f:var Ze=Ht;case _:var it=oe&v;if(Ze||(Ze=Tt),j.size!=X.size&&!it)return!1;var Fe=Ue.get(j);if(Fe)return Fe==X;oe|=u,Ue.set(j,X);var Rt=$h(Ze(j),Ze(X),oe,De,we,Ue);return Ue.delete(j),Rt;case C:if(Qa)return Qa.call(j)==Qa.call(X)}return!1}function Qy(j,X,ee,oe,De,we){var Ue=ee&v,Ze=Oh(j),it=Ze.length,Fe=Oh(X),Rt=Fe.length;if(it!=Rt&&!Ue)return!1;for(var en=it;en--;){var lt=Ze[en];if(!(Ue?lt in X:se.call(X,lt)))return!1}var Wt=we.get(j);if(Wt&&we.get(X))return Wt==X;var zt=!0;we.set(j,X),we.set(X,j);for(var Wn=Ue;++en<it;){lt=Ze[en];var En=j[lt],mi=X[lt];if(oe)var Fh=Ue?oe(mi,En,lt,X,j,we):oe(En,mi,lt,j,X,we);if(!(Fh===void 0?En===mi||De(En,mi,ee,oe,we):Fh)){zt=!1;break}Wn||(Wn=lt=="constructor")}if(zt&&!Wn){var Ys=j.constructor,Xs=X.constructor;Ys!=Xs&&"constructor"in j&&"constructor"in X&&!(typeof Ys=="function"&&Ys instanceof Ys&&typeof Xs=="function"&&Xs instanceof Xs)&&(zt=!1)}return we.delete(j),we.delete(X),zt}function Oh(j){return Vy(j,l_,Zy)}function Ks(j,X){var ee=j.__data__;return t_(X)?ee[typeof X=="string"?"string":"hash"]:ee.map}function Hi(j,X){var ee=xn(j,X);return Gy(ee)?ee:void 0}function Jy(j){var X=se.call(j,di),ee=j[di];try{j[di]=void 0;var oe=!0}catch{}var De=he.call(j);return oe&&(X?j[di]=ee:delete j[di]),De}var Zy=Lh?function(j){return j==null?[]:(j=Object(j),de(Lh(j),function(X){return gt.call(j,X)}))}:c_,Hn=Or;(Ga&&Hn(new Ga(new ArrayBuffer(1)))!=L||Mr&&Hn(new Mr)!=f||Ya&&Hn(Ya.resolve())!=w||Xa&&Hn(new Xa)!=_||qa&&Hn(new qa)!=M)&&(Hn=function(j){var X=Or(j),ee=X==g?j.constructor:void 0,oe=ee?gi(ee):"";if(oe)switch(oe){case vy:return L;case yy:return f;case _y:return w;case wy:return _;case Sy:return M}return X});function e_(j,X){return X=X??y,!!X&&(typeof j=="number"||z.test(j))&&j>-1&&j%1==0&&j<X}function t_(j){var X=typeof j;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?j!=="__proto__":j===null}function n_(j){return!!ye&&ye in j}function i_(j){var X=j&&j.constructor,ee=typeof X=="function"&&X.prototype||q;return j===ee}function r_(j){return he.call(j)}function gi(j){if(j!=null){try{return re.call(j)}catch{}try{return j+""}catch{}}return""}function Ih(j,X){return j===X||j!==j&&X!==X}var s_=Rh(function(){return arguments}())?Rh:function(j){return Ir(j)&&se.call(j,"callee")&&!gt.call(j,"callee")},Gs=Array.isArray;function o_(j){return j!=null&&Ph(j.length)&&!Dh(j)}var Ja=gy||u_;function a_(j,X){return Mh(j,X)}function Dh(j){if(!Bh(j))return!1;var X=Or(j);return X==l||X==h||X==d||X==S}function Ph(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=y}function Bh(j){var X=typeof j;return j!=null&&(X=="object"||X=="function")}function Ir(j){return j!=null&&typeof j=="object"}var Nh=me?Ft(me):Yy;function l_(j){return o_(j)?jy(j):Xy(j)}function c_(){return[]}function u_(){return!1}e.exports=a_})(fa,fa.exports);var jm=fa.exports,ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.getAceInstance=ln.debounce=ln.editorEvents=ln.editorOptions=void 0;var zw=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];ln.editorOptions=zw;var Uw=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];ln.editorEvents=Uw;var jw=function(){var e;return typeof window>"u"?(Ve.window={},e=da,delete Ve.window):window.ace?(e=window.ace,e.acequire=window.ace.require||window.ace.acequire):e=da,e};ln.getAceInstance=jw;var Vw=function(e,t){var n=null;return function(){var i=this,v=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,v)},t)}};ln.debounce=Vw;var Kw=Ve&&Ve.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,v){i.__proto__=v}||function(i,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(i[u]=v[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dc=Ve&&Ve.__assign||function(){return Dc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&(e[v]=t[v])}return e},Dc.apply(this,arguments)};Object.defineProperty(Zu,"__esModule",{value:!0});var Gw=da,ue=Ns,Xd=pe,po=jm,ji=ln,qd=(0,ji.getAceInstance)(),Yw=function(e){Kw(t,e);function t(n){var i=e.call(this,n)||this;return ji.editorEvents.forEach(function(v){i[v]=i[v].bind(i)}),i.debounce=ji.debounce,i}return t.prototype.isInShadow=function(n){for(var i=n&&n.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,i=this.props,v=i.className,u=i.onBeforeLoad,y=i.onValidate,c=i.mode,s=i.focus,d=i.theme,o=i.fontSize,r=i.lineHeight,a=i.value,l=i.defaultValue,h=i.showGutter,f=i.wrapEnabled,p=i.showPrintMargin,m=i.scrollMargin,g=m===void 0?[0,0,0,0]:m,w=i.keyboardHandler,S=i.onLoad,b=i.commands,_=i.annotations,x=i.markers,C=i.placeholder;this.editor=qd.edit(this.refEditor),u&&u(qd);for(var k=Object.keys(this.props.editorProps),M=0;M<k.length;M++)this.editor[k[M]]=this.props.editorProps[k[M]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(g[0],g[1],g[2],g[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof c=="string"?"ace/mode/".concat(c):c),d&&d!==""&&this.editor.setTheme("ace/theme/".concat(d)),this.editor.setFontSize(typeof o=="number"?"".concat(o,"px"):o),r&&(this.editor.container.style.lineHeight=typeof r=="number"?"".concat(r,"px"):"".concat(r),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(l||a||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(h),this.editor.getSession().setUseWrapMode(f),this.editor.setShowPrintMargin(p),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),C&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),y&&this.editor.getSession().on("changeAnnotation",function(){var L=n.editor.getSession().getAnnotations();n.props.onValidate(L)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(_||[]),x&&x.length>0&&this.handleMarkers(x);var T=this.editor.$options;ji.editorOptions.forEach(function(L){T.hasOwnProperty(L)?n.editor.setOption(L,n.props[L]):n.props[L]&&console.warn("ReactAce: editor option ".concat(L," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(b)&&b.forEach(function(L){typeof L.exec=="string"?n.editor.commands.bindKey(L.bindKey,L.exec):n.editor.commands.addCommand(L)}),w&&this.editor.setKeyboardHandler("ace/keyboard/"+w),v&&(this.refEditor.className+=" "+v),S&&S(this.editor),this.editor.resize(),s&&this.editor.focus()},t.prototype.componentDidUpdate=function(n){for(var i=n,v=this.props,u=0;u<ji.editorOptions.length;u++){var y=ji.editorOptions[u];v[y]!==i[y]&&this.editor.setOption(y,v[y])}if(v.className!==i.className){var c=this.refEditor.className,s=c.trim().split(" "),d=i.className.trim().split(" ");d.forEach(function(a){var l=s.indexOf(a);s.splice(l,1)}),this.refEditor.className=" "+v.className+" "+s.join(" ")}var o=this.editor&&v.value!=null&&this.editor.getValue()!==v.value;if(o){this.silent=!0;var r=this.editor.session.selection.toJSON();this.editor.setValue(v.value,v.cursorStart),this.editor.session.selection.fromJSON(r),this.silent=!1}v.placeholder!==i.placeholder&&this.updatePlaceholder(),v.mode!==i.mode&&this.editor.getSession().setMode(typeof v.mode=="string"?"ace/mode/".concat(v.mode):v.mode),v.theme!==i.theme&&this.editor.setTheme("ace/theme/"+v.theme),v.keyboardHandler!==i.keyboardHandler&&(v.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+v.keyboardHandler):this.editor.setKeyboardHandler(null)),v.fontSize!==i.fontSize&&this.editor.setFontSize(typeof v.fontSize=="number"?"".concat(v.fontSize,"px"):v.fontSize),v.lineHeight!==i.lineHeight&&(this.editor.container.style.lineHeight=typeof v.lineHeight=="number"?"".concat(v.lineHeight,"px"):v.lineHeight,this.editor.renderer.updateFontSize()),v.wrapEnabled!==i.wrapEnabled&&this.editor.getSession().setUseWrapMode(v.wrapEnabled),v.showPrintMargin!==i.showPrintMargin&&this.editor.setShowPrintMargin(v.showPrintMargin),v.showGutter!==i.showGutter&&this.editor.renderer.setShowGutter(v.showGutter),po(v.setOptions,i.setOptions)||this.handleOptions(v),(o||!po(v.annotations,i.annotations))&&this.editor.getSession().setAnnotations(v.annotations||[]),!po(v.markers,i.markers)&&Array.isArray(v.markers)&&this.handleMarkers(v.markers),po(v.scrollMargin,i.scrollMargin)||this.handleScrollMargins(v.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var i=this.editor.getValue();this.props.onChange(i,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var i=this.editor.getSelection();this.props.onSelectionChange(i,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var i=this.editor.getSelection();this.props.onCursorChange(i,n)}},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},t.prototype.onCopy=function(n){var i=n.text;this.props.onCopy&&this.props.onCopy(i)},t.prototype.onPaste=function(n){var i=n.text;this.props.onPaste&&this.props.onPaste(i)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n){for(var i=Object.keys(n.setOptions),v=0;v<i.length;v++)this.editor.setOption(i[v],n.setOptions[i[v]])},t.prototype.handleMarkers=function(n){var i=this,v=this.editor.getSession().getMarkers(!0);for(var u in v)v.hasOwnProperty(u)&&this.editor.getSession().removeMarker(v[u].id);v=this.editor.getSession().getMarkers(!1);for(var u in v)v.hasOwnProperty(u)&&v[u].clazz!=="ace_active-line"&&v[u].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(v[u].id);n.forEach(function(y){var c=y.startRow,s=y.startCol,d=y.endRow,o=y.endCol,r=y.className,a=y.type,l=y.inFront,h=l===void 0?!1:l,f=new Gw.Range(c,s,d,o);i.editor.getSession().addMarker(f,r,a,h)})},t.prototype.updatePlaceholder=function(){var n=this.editor,i=this.props.placeholder,v=!n.session.getValue().length,u=n.renderer.placeholderNode;!v&&u?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):v&&!u?(u=n.renderer.placeholderNode=document.createElement("div"),u.textContent=i||"",u.className="ace_comment ace_placeholder",u.style.padding="0 9px",u.style.position="absolute",u.style.zIndex="3",n.renderer.scroller.appendChild(u)):v&&u&&(u.textContent=i)},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,i=n.name,v=n.width,u=n.height,y=n.style,c=Dc({width:v,height:u},y);return Xd.createElement("div",{ref:this.updateRef,id:i,style:c})},t.propTypes={mode:ue.oneOfType([ue.string,ue.object]),focus:ue.bool,theme:ue.string,name:ue.string,className:ue.string,height:ue.string,width:ue.string,fontSize:ue.oneOfType([ue.number,ue.string]),lineHeight:ue.oneOfType([ue.number,ue.string]),showGutter:ue.bool,onChange:ue.func,onCopy:ue.func,onPaste:ue.func,onFocus:ue.func,onInput:ue.func,onBlur:ue.func,onScroll:ue.func,value:ue.string,defaultValue:ue.string,onLoad:ue.func,onSelectionChange:ue.func,onCursorChange:ue.func,onBeforeLoad:ue.func,onValidate:ue.func,minLines:ue.number,maxLines:ue.number,readOnly:ue.bool,highlightActiveLine:ue.bool,tabSize:ue.number,showPrintMargin:ue.bool,cursorStart:ue.number,debounceChangePeriod:ue.number,editorProps:ue.object,setOptions:ue.object,style:ue.object,scrollMargin:ue.array,annotations:ue.array,markers:ue.array,keyboardHandler:ue.string,wrapEnabled:ue.bool,enableSnippets:ue.bool,enableBasicAutocompletion:ue.oneOfType([ue.bool,ue.array]),enableLiveAutocompletion:ue.oneOfType([ue.bool,ue.array]),navigateToFileEnd:ue.bool,commands:ue.array,placeholder:ue.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(Xd.Component);Zu.default=Yw;var eh={},Fa={},Vm={exports:{}};(function(e,t){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,i,v){var u=n("./lib/oop");n("./lib/lang");var y=n("./lib/event_emitter").EventEmitter,c=n("./editor").Editor,s=n("./virtual_renderer").VirtualRenderer,d=n("./edit_session").EditSession,o;o=function(r,a,l){this.BELOW=1,this.BESIDE=0,this.$container=r,this.$theme=a,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(l||1),this.$cEditor=this.$editors[0],this.on("focus",(function(h){this.$cEditor=h}).bind(this))},(function(){u.implement(this,y),this.$createEditor=function(){var r=document.createElement("div");r.className=this.$editorCSS,r.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(r);var a=new c(new s(r,this.$theme));return a.on("focus",(function(){this._emit("focus",a)}).bind(this)),this.$editors.push(a),a.setFontSize(this.$fontSize),a},this.setSplits=function(r){var a;if(r<1)throw"The number of splits have to be > 0!";if(r!=this.$splits){if(r>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<r;)a=this.$editors[this.$splits],this.$container.appendChild(a.container),a.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<r;)this.$createEditor(),this.$splits++}else for(;this.$splits>r;)a=this.$editors[this.$splits-1],this.$container.removeChild(a.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(r){return this.$editors[r]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(r){this.$editors.forEach(function(a){a.setTheme(r)})},this.setKeyboardHandler=function(r){this.$editors.forEach(function(a){a.setKeyboardHandler(r)})},this.forEach=function(r,a){this.$editors.forEach(r,a)},this.$fontSize="",this.setFontSize=function(r){this.$fontSize=r,this.forEach(function(a){a.setFontSize(r)})},this.$cloneSession=function(r){var a=new d(r.getDocument(),r.getMode()),l=r.getUndoManager();return a.setUndoManager(l),a.setTabSize(r.getTabSize()),a.setUseSoftTabs(r.getUseSoftTabs()),a.setOverwrite(r.getOverwrite()),a.setBreakpoints(r.getBreakpoints()),a.setUseWrapMode(r.getUseWrapMode()),a.setUseWorker(r.getUseWorker()),a.setWrapLimitRange(r.$wrapLimitRange.min,r.$wrapLimitRange.max),a.$foldData=r.$cloneFoldData(),a},this.setSession=function(r,a){var l;a==null?l=this.$cEditor:l=this.$editors[a];var h=this.$editors.some(function(f){return f.session===r});return h&&(r=this.$cloneSession(r)),l.setSession(r),r},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(r){this.$orientation!=r&&(this.$orientation=r,this.resize())},this.resize=function(){var r=this.$container.clientWidth,a=this.$container.clientHeight,l;if(this.$orientation==this.BESIDE)for(var h=r/this.$splits,f=0;f<this.$splits;f++)l=this.$editors[f],l.container.style.width=h+"px",l.container.style.top="0px",l.container.style.left=f*h+"px",l.container.style.height=a+"px",l.resize();else for(var p=a/this.$splits,f=0;f<this.$splits;f++)l=this.$editors[f],l.container.style.width=r+"px",l.container.style.top=f*p+"px",l.container.style.left="0px",l.container.style.height=p+"px",l.resize()}}).call(o.prototype),i.Split=o}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(n,i,v){v.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){e&&(e.exports=n)})}()})(Vm);var Xw=Vm.exports,qw="Expected a function",Km="__lodash_hash_undefined__",Gm=1/0,Qw="[object Function]",Jw="[object GeneratorFunction]",Zw="[object Symbol]",eS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tS=/^\w*$/,nS=/^\./,iS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rS=/[\\^$.*+?()[\]{}|]/g,sS=/\\(\\)?/g,oS=/^\[object .+?Constructor\]$/,aS=typeof Ve=="object"&&Ve&&Ve.Object===Object&&Ve,lS=typeof self=="object"&&self&&self.Object===Object&&self,th=aS||lS||Function("return this")();function cS(e,t){return e==null?void 0:e[t]}function uS(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var hS=Array.prototype,dS=Function.prototype,Ym=Object.prototype,kl=th["__core-js_shared__"],Qd=function(){var e=/[^.]+$/.exec(kl&&kl.keys&&kl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Xm=dS.toString,nh=Ym.hasOwnProperty,qm=Ym.toString,fS=RegExp("^"+Xm.call(nh).replace(rS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jd=th.Symbol,pS=hS.splice,gS=Qm(th,"Map"),Ls=Qm(Object,"create"),Zd=Jd?Jd.prototype:void 0,ef=Zd?Zd.toString:void 0;function Oi(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function mS(){this.__data__=Ls?Ls(null):{}}function vS(e){return this.has(e)&&delete this.__data__[e]}function yS(e){var t=this.__data__;if(Ls){var n=t[e];return n===Km?void 0:n}return nh.call(t,e)?t[e]:void 0}function _S(e){var t=this.__data__;return Ls?t[e]!==void 0:nh.call(t,e)}function wS(e,t){var n=this.__data__;return n[e]=Ls&&t===void 0?Km:t,this}Oi.prototype.clear=mS;Oi.prototype.delete=vS;Oi.prototype.get=yS;Oi.prototype.has=_S;Oi.prototype.set=wS;function kr(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function SS(){this.__data__=[]}function bS(e){var t=this.__data__,n=Ha(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():pS.call(t,n,1),!0}function CS(e){var t=this.__data__,n=Ha(t,e);return n<0?void 0:t[n][1]}function xS(e){return Ha(this.__data__,e)>-1}function kS(e,t){var n=this.__data__,i=Ha(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}kr.prototype.clear=SS;kr.prototype.delete=bS;kr.prototype.get=CS;kr.prototype.has=xS;kr.prototype.set=kS;function Ni(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ES(){this.__data__={hash:new Oi,map:new(gS||kr),string:new Oi}}function AS(e){return Wa(this,e).delete(e)}function LS(e){return Wa(this,e).get(e)}function TS(e){return Wa(this,e).has(e)}function RS(e,t){return Wa(this,e).set(e,t),this}Ni.prototype.clear=ES;Ni.prototype.delete=AS;Ni.prototype.get=LS;Ni.prototype.has=TS;Ni.prototype.set=RS;function Ha(e,t){for(var n=e.length;n--;)if(WS(e[n][0],t))return n;return-1}function MS(e,t){t=DS(t,e)?[t]:IS(t);for(var n=0,i=t.length;e!=null&&n<i;)e=e[FS(t[n++])];return n&&n==i?e:void 0}function $S(e){if(!Zm(e)||BS(e))return!1;var t=zS(e)||uS(e)?fS:oS;return t.test(HS(e))}function OS(e){if(typeof e=="string")return e;if(rh(e))return ef?ef.call(e):"";var t=e+"";return t=="0"&&1/e==-Gm?"-0":t}function IS(e){return Jm(e)?e:NS(e)}function Wa(e,t){var n=e.__data__;return PS(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Qm(e,t){var n=cS(e,t);return $S(n)?n:void 0}function DS(e,t){if(Jm(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||rh(e)?!0:tS.test(e)||!eS.test(e)||t!=null&&e in Object(t)}function PS(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function BS(e){return!!Qd&&Qd in e}var NS=ih(function(e){e=jS(e);var t=[];return nS.test(e)&&t.push(""),e.replace(iS,function(n,i,v,u){t.push(v?u.replace(sS,"$1"):i||n)}),t});function FS(e){if(typeof e=="string"||rh(e))return e;var t=e+"";return t=="0"&&1/e==-Gm?"-0":t}function HS(e){if(e!=null){try{return Xm.call(e)}catch{}try{return e+""}catch{}}return""}function ih(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(qw);var n=function(){var i=arguments,v=t?t.apply(this,i):i[0],u=n.cache;if(u.has(v))return u.get(v);var y=e.apply(this,i);return n.cache=u.set(v,y),y};return n.cache=new(ih.Cache||Ni),n}ih.Cache=Ni;function WS(e,t){return e===t||e!==e&&t!==t}var Jm=Array.isArray;function zS(e){var t=Zm(e)?qm.call(e):"";return t==Qw||t==Jw}function Zm(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function US(e){return!!e&&typeof e=="object"}function rh(e){return typeof e=="symbol"||US(e)&&qm.call(e)==Zw}function jS(e){return e==null?"":OS(e)}function VS(e,t,n){var i=e==null?void 0:MS(e,t);return i===void 0?n:i}var KS=VS,GS=Ve&&Ve.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,v){i.__proto__=v}||function(i,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(i[u]=v[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pc=Ve&&Ve.__assign||function(){return Pc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&(e[v]=t[v])}return e},Pc.apply(this,arguments)};Object.defineProperty(Fa,"__esModule",{value:!0});var _i=ln,El=(0,_i.getAceInstance)(),YS=da,XS=Xw,fe=Ns,tf=pe,Al=jm,An=KS,qS=function(e){GS(t,e);function t(n){var i=e.call(this,n)||this;return _i.editorEvents.forEach(function(v){i[v]=i[v].bind(i)}),i.debounce=_i.debounce,i}return t.prototype.isInShadow=function(n){for(var i=n&&n.parentNode;i;){if(i.toString()==="[object ShadowRoot]")return!0;i=i.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,i=this.props,v=i.className,u=i.onBeforeLoad,y=i.mode,c=i.focus,s=i.theme,d=i.fontSize,o=i.value,r=i.defaultValue,a=i.cursorStart,l=i.showGutter,h=i.wrapEnabled,f=i.showPrintMargin,p=i.scrollMargin,m=p===void 0?[0,0,0,0]:p,g=i.keyboardHandler,w=i.onLoad,S=i.commands,b=i.annotations,_=i.markers,x=i.splits;this.editor=El.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(s)),u&&u(El);var C=Object.keys(this.props.editorProps),k=new XS.Split(this.editor.container,"ace/theme/".concat(s),x);this.editor.env.split=k,this.splitEditor=k.getEditor(0),this.split=k,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var M=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),k.forEach(function(L,E){for(var A=0;A<C.length;A++)L[C[A]]=n.props.editorProps[C[A]];var R=An(r,E),I=An(o,E,"");L.session.setUndoManager(new El.UndoManager),L.setTheme("ace/theme/".concat(s)),L.renderer.setScrollMargin(m[0],m[1],m[2],m[3]),L.getSession().setMode("ace/mode/".concat(y)),L.setFontSize(d),L.renderer.setShowGutter(l),L.getSession().setUseWrapMode(h),L.setShowPrintMargin(f),L.on("focus",n.onFocus),L.on("blur",n.onBlur),L.on("input",n.onInput),L.on("copy",n.onCopy),L.on("paste",n.onPaste),L.on("change",n.onChange),L.getSession().selection.on("changeSelection",n.onSelectionChange),L.getSession().selection.on("changeCursor",n.onCursorChange),L.session.on("changeScrollTop",n.onScroll),L.setValue(R===void 0?I:R,a);var D=An(b,E,[]),P=An(_,E,[]);L.getSession().setAnnotations(D),P&&P.length>0&&n.handleMarkers(P,L);for(var A=0;A<_i.editorOptions.length;A++){var O=_i.editorOptions[A];M.hasOwnProperty(O)?L.setOption(O,n.props[O]):n.props[O]&&console.warn("ReaceAce: editor option ".concat(O," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,L),Array.isArray(S)&&S.forEach(function($){typeof $.exec=="string"?L.commands.bindKey($.bindKey,$.exec):L.commands.addCommand($)}),g&&L.setKeyboardHandler("ace/keyboard/"+g)}),v&&(this.refEditor.className+=" "+v),c&&this.splitEditor.focus();var T=this.editor.env.split;T.setOrientation(this.props.orientation==="below"?T.BELOW:T.BESIDE),T.resize(!0),w&&w(T)},t.prototype.componentDidUpdate=function(n){var i=this,v=n,u=this.props,y=this.editor.env.split;if(u.splits!==v.splits&&y.setSplits(u.splits),u.orientation!==v.orientation&&y.setOrientation(u.orientation==="below"?y.BELOW:y.BESIDE),y.forEach(function(o,r){u.mode!==v.mode&&o.getSession().setMode("ace/mode/"+u.mode),u.keyboardHandler!==v.keyboardHandler&&(u.keyboardHandler?o.setKeyboardHandler("ace/keyboard/"+u.keyboardHandler):o.setKeyboardHandler(null)),u.fontSize!==v.fontSize&&o.setFontSize(u.fontSize),u.wrapEnabled!==v.wrapEnabled&&o.getSession().setUseWrapMode(u.wrapEnabled),u.showPrintMargin!==v.showPrintMargin&&o.setShowPrintMargin(u.showPrintMargin),u.showGutter!==v.showGutter&&o.renderer.setShowGutter(u.showGutter);for(var a=0;a<_i.editorOptions.length;a++){var l=_i.editorOptions[a];u[l]!==v[l]&&o.setOption(l,u[l])}Al(u.setOptions,v.setOptions)||i.handleOptions(u,o);var h=An(u.value,r,"");if(o.getValue()!==h){i.silent=!0;var f=o.session.selection.toJSON();o.setValue(h,u.cursorStart),o.session.selection.fromJSON(f),i.silent=!1}var p=An(u.annotations,r,[]),m=An(v.annotations,r,[]);Al(p,m)||o.getSession().setAnnotations(p);var g=An(u.markers,r,[]),w=An(v.markers,r,[]);!Al(g,w)&&Array.isArray(g)&&i.handleMarkers(g,o)}),u.className!==v.className){var c=this.refEditor.className,s=c.trim().split(" "),d=v.className.trim().split(" ");d.forEach(function(o){var r=s.indexOf(o);s.splice(r,1)}),this.refEditor.className=" "+u.className+" "+s.join(" ")}u.theme!==v.theme&&y.setTheme("ace/theme/"+u.theme),u.focus&&!v.focus&&this.splitEditor.focus(),(u.height!==this.props.height||u.width!==this.props.width)&&this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var i=[];this.editor.env.split.forEach(function(v){i.push(v.getValue())}),this.props.onChange(i,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var i=[];this.editor.env.split.forEach(function(v){i.push(v.getSelection())}),this.props.onSelectionChange(i,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var i=[];this.editor.env.split.forEach(function(v){i.push(v.getSelection())}),this.props.onCursorChange(i,n)}},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},t.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},t.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n,i){for(var v=Object.keys(n.setOptions),u=0;u<v.length;u++)i.setOption(v[u],n.setOptions[v[u]])},t.prototype.handleMarkers=function(n,i){var v=i.getSession().getMarkers(!0);for(var u in v)v.hasOwnProperty(u)&&i.getSession().removeMarker(v[u].id);v=i.getSession().getMarkers(!1);for(var u in v)v.hasOwnProperty(u)&&i.getSession().removeMarker(v[u].id);n.forEach(function(y){var c=y.startRow,s=y.startCol,d=y.endRow,o=y.endCol,r=y.className,a=y.type,l=y.inFront,h=l===void 0?!1:l,f=new YS.Range(c,s,d,o);i.getSession().addMarker(f,r,a,h)})},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,i=n.name,v=n.width,u=n.height,y=n.style,c=Pc({width:v,height:u},y);return tf.createElement("div",{ref:this.updateRef,id:i,style:c})},t.propTypes={className:fe.string,debounceChangePeriod:fe.number,defaultValue:fe.arrayOf(fe.string),focus:fe.bool,fontSize:fe.oneOfType([fe.number,fe.string]),height:fe.string,mode:fe.string,name:fe.string,onBlur:fe.func,onChange:fe.func,onCopy:fe.func,onFocus:fe.func,onInput:fe.func,onLoad:fe.func,onPaste:fe.func,onScroll:fe.func,orientation:fe.string,showGutter:fe.bool,splits:fe.number,theme:fe.string,value:fe.arrayOf(fe.string),width:fe.string,onSelectionChange:fe.func,onCursorChange:fe.func,onBeforeLoad:fe.func,minLines:fe.number,maxLines:fe.number,readOnly:fe.bool,highlightActiveLine:fe.bool,tabSize:fe.number,showPrintMargin:fe.bool,cursorStart:fe.number,editorProps:fe.object,setOptions:fe.object,style:fe.object,scrollMargin:fe.array,annotations:fe.array,markers:fe.array,keyboardHandler:fe.string,wrapEnabled:fe.bool,enableBasicAutocompletion:fe.oneOfType([fe.bool,fe.array]),enableLiveAutocompletion:fe.oneOfType([fe.bool,fe.array]),commands:fe.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(tf.Component);Fa.default=qS;var ev={exports:{}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,i=1,v=0;t.Diff=function(u,y){return[u,y]},t.prototype.diff_main=function(u,y,c,s){typeof s>"u"&&(this.Diff_Timeout<=0?s=Number.MAX_VALUE:s=new Date().getTime()+this.Diff_Timeout*1e3);var d=s;if(u==null||y==null)throw new Error("Null input. (diff_main)");if(u==y)return u?[new t.Diff(v,u)]:[];typeof c>"u"&&(c=!0);var o=c,r=this.diff_commonPrefix(u,y),a=u.substring(0,r);u=u.substring(r),y=y.substring(r),r=this.diff_commonSuffix(u,y);var l=u.substring(u.length-r);u=u.substring(0,u.length-r),y=y.substring(0,y.length-r);var h=this.diff_compute_(u,y,o,d);return a&&h.unshift(new t.Diff(v,a)),l&&h.push(new t.Diff(v,l)),this.diff_cleanupMerge(h),h},t.prototype.diff_compute_=function(u,y,c,s){var d;if(!u)return[new t.Diff(i,y)];if(!y)return[new t.Diff(n,u)];var o=u.length>y.length?u:y,r=u.length>y.length?y:u,a=o.indexOf(r);if(a!=-1)return d=[new t.Diff(i,o.substring(0,a)),new t.Diff(v,r),new t.Diff(i,o.substring(a+r.length))],u.length>y.length&&(d[0][0]=d[2][0]=n),d;if(r.length==1)return[new t.Diff(n,u),new t.Diff(i,y)];var l=this.diff_halfMatch_(u,y);if(l){var h=l[0],f=l[1],p=l[2],m=l[3],g=l[4],w=this.diff_main(h,p,c,s),S=this.diff_main(f,m,c,s);return w.concat([new t.Diff(v,g)],S)}return c&&u.length>100&&y.length>100?this.diff_lineMode_(u,y,s):this.diff_bisect_(u,y,s)},t.prototype.diff_lineMode_=function(u,y,c){var s=this.diff_linesToChars_(u,y);u=s.chars1,y=s.chars2;var d=s.lineArray,o=this.diff_main(u,y,!1,c);this.diff_charsToLines_(o,d),this.diff_cleanupSemantic(o),o.push(new t.Diff(v,""));for(var r=0,a=0,l=0,h="",f="";r<o.length;){switch(o[r][0]){case i:l++,f+=o[r][1];break;case n:a++,h+=o[r][1];break;case v:if(a>=1&&l>=1){o.splice(r-a-l,a+l),r=r-a-l;for(var p=this.diff_main(h,f,!1,c),m=p.length-1;m>=0;m--)o.splice(r,0,p[m]);r=r+p.length}l=0,a=0,h="",f="";break}r++}return o.pop(),o},t.prototype.diff_bisect_=function(u,y,c){for(var s=u.length,d=y.length,o=Math.ceil((s+d)/2),r=o,a=2*o,l=new Array(a),h=new Array(a),f=0;f<a;f++)l[f]=-1,h[f]=-1;l[r+1]=0,h[r+1]=0;for(var p=s-d,m=p%2!=0,g=0,w=0,S=0,b=0,_=0;_<o&&!(new Date().getTime()>c);_++){for(var x=-_+g;x<=_-w;x+=2){var C=r+x,k;x==-_||x!=_&&l[C-1]<l[C+1]?k=l[C+1]:k=l[C-1]+1;for(var M=k-x;k<s&&M<d&&u.charAt(k)==y.charAt(M);)k++,M++;if(l[C]=k,k>s)w+=2;else if(M>d)g+=2;else if(m){var T=r+p-x;if(T>=0&&T<a&&h[T]!=-1){var L=s-h[T];if(k>=L)return this.diff_bisectSplit_(u,y,k,M,c)}}}for(var E=-_+S;E<=_-b;E+=2){var T=r+E,L;E==-_||E!=_&&h[T-1]<h[T+1]?L=h[T+1]:L=h[T-1]+1;for(var A=L-E;L<s&&A<d&&u.charAt(s-L-1)==y.charAt(d-A-1);)L++,A++;if(h[T]=L,L>s)b+=2;else if(A>d)S+=2;else if(!m){var C=r+p-E;if(C>=0&&C<a&&l[C]!=-1){var k=l[C],M=r+k-C;if(L=s-L,k>=L)return this.diff_bisectSplit_(u,y,k,M,c)}}}}return[new t.Diff(n,u),new t.Diff(i,y)]},t.prototype.diff_bisectSplit_=function(u,y,c,s,d){var o=u.substring(0,c),r=y.substring(0,s),a=u.substring(c),l=y.substring(s),h=this.diff_main(o,r,!1,d),f=this.diff_main(a,l,!1,d);return h.concat(f)},t.prototype.diff_linesToChars_=function(u,y){var c=[],s={};c[0]="";function d(l){for(var h="",f=0,p=-1,m=c.length;p<l.length-1;){p=l.indexOf(`
`,f),p==-1&&(p=l.length-1);var g=l.substring(f,p+1);(s.hasOwnProperty?s.hasOwnProperty(g):s[g]!==void 0)?h+=String.fromCharCode(s[g]):(m==o&&(g=l.substring(f),p=l.length),h+=String.fromCharCode(m),s[g]=m,c[m++]=g),f=p+1}return h}var o=4e4,r=d(u);o=65535;var a=d(y);return{chars1:r,chars2:a,lineArray:c}},t.prototype.diff_charsToLines_=function(u,y){for(var c=0;c<u.length;c++){for(var s=u[c][1],d=[],o=0;o<s.length;o++)d[o]=y[s.charCodeAt(o)];u[c][1]=d.join("")}},t.prototype.diff_commonPrefix=function(u,y){if(!u||!y||u.charAt(0)!=y.charAt(0))return 0;for(var c=0,s=Math.min(u.length,y.length),d=s,o=0;c<d;)u.substring(o,d)==y.substring(o,d)?(c=d,o=c):s=d,d=Math.floor((s-c)/2+c);return d},t.prototype.diff_commonSuffix=function(u,y){if(!u||!y||u.charAt(u.length-1)!=y.charAt(y.length-1))return 0;for(var c=0,s=Math.min(u.length,y.length),d=s,o=0;c<d;)u.substring(u.length-d,u.length-o)==y.substring(y.length-d,y.length-o)?(c=d,o=c):s=d,d=Math.floor((s-c)/2+c);return d},t.prototype.diff_commonOverlap_=function(u,y){var c=u.length,s=y.length;if(c==0||s==0)return 0;c>s?u=u.substring(c-s):c<s&&(y=y.substring(0,c));var d=Math.min(c,s);if(u==y)return d;for(var o=0,r=1;;){var a=u.substring(d-r),l=y.indexOf(a);if(l==-1)return o;r+=l,(l==0||u.substring(d-r)==y.substring(0,r))&&(o=r,r++)}},t.prototype.diff_halfMatch_=function(u,y){if(this.Diff_Timeout<=0)return null;var c=u.length>y.length?u:y,s=u.length>y.length?y:u;if(c.length<4||s.length*2<c.length)return null;var d=this;function o(w,S,b){for(var _=w.substring(b,b+Math.floor(w.length/4)),x=-1,C="",k,M,T,L;(x=S.indexOf(_,x+1))!=-1;){var E=d.diff_commonPrefix(w.substring(b),S.substring(x)),A=d.diff_commonSuffix(w.substring(0,b),S.substring(0,x));C.length<A+E&&(C=S.substring(x-A,x)+S.substring(x,x+E),k=w.substring(0,b-A),M=w.substring(b+E),T=S.substring(0,x-A),L=S.substring(x+E))}return C.length*2>=w.length?[k,M,T,L,C]:null}var r=o(c,s,Math.ceil(c.length/4)),a=o(c,s,Math.ceil(c.length/2)),l;if(!r&&!a)return null;a?r?l=r[4].length>a[4].length?r:a:l=a:l=r;var h,f,p,m;u.length>y.length?(h=l[0],f=l[1],p=l[2],m=l[3]):(p=l[0],m=l[1],h=l[2],f=l[3]);var g=l[4];return[h,f,p,m,g]},t.prototype.diff_cleanupSemantic=function(u){for(var y=!1,c=[],s=0,d=null,o=0,r=0,a=0,l=0,h=0;o<u.length;)u[o][0]==v?(c[s++]=o,r=l,a=h,l=0,h=0,d=u[o][1]):(u[o][0]==i?l+=u[o][1].length:h+=u[o][1].length,d&&d.length<=Math.max(r,a)&&d.length<=Math.max(l,h)&&(u.splice(c[s-1],0,new t.Diff(n,d)),u[c[s-1]+1][0]=i,s--,s--,o=s>0?c[s-1]:-1,r=0,a=0,l=0,h=0,d=null,y=!0)),o++;for(y&&this.diff_cleanupMerge(u),this.diff_cleanupSemanticLossless(u),o=1;o<u.length;){if(u[o-1][0]==n&&u[o][0]==i){var f=u[o-1][1],p=u[o][1],m=this.diff_commonOverlap_(f,p),g=this.diff_commonOverlap_(p,f);m>=g?(m>=f.length/2||m>=p.length/2)&&(u.splice(o,0,new t.Diff(v,p.substring(0,m))),u[o-1][1]=f.substring(0,f.length-m),u[o+1][1]=p.substring(m),o++):(g>=f.length/2||g>=p.length/2)&&(u.splice(o,0,new t.Diff(v,f.substring(0,g))),u[o-1][0]=i,u[o-1][1]=p.substring(0,p.length-g),u[o+1][0]=n,u[o+1][1]=f.substring(g),o++),o++}o++}},t.prototype.diff_cleanupSemanticLossless=function(u){function y(g,w){if(!g||!w)return 6;var S=g.charAt(g.length-1),b=w.charAt(0),_=S.match(t.nonAlphaNumericRegex_),x=b.match(t.nonAlphaNumericRegex_),C=_&&S.match(t.whitespaceRegex_),k=x&&b.match(t.whitespaceRegex_),M=C&&S.match(t.linebreakRegex_),T=k&&b.match(t.linebreakRegex_),L=M&&g.match(t.blanklineEndRegex_),E=T&&w.match(t.blanklineStartRegex_);return L||E?5:M||T?4:_&&!C&&k?3:C||k?2:_||x?1:0}for(var c=1;c<u.length-1;){if(u[c-1][0]==v&&u[c+1][0]==v){var s=u[c-1][1],d=u[c][1],o=u[c+1][1],r=this.diff_commonSuffix(s,d);if(r){var a=d.substring(d.length-r);s=s.substring(0,s.length-r),d=a+d.substring(0,d.length-r),o=a+o}for(var l=s,h=d,f=o,p=y(s,d)+y(d,o);d.charAt(0)===o.charAt(0);){s+=d.charAt(0),d=d.substring(1)+o.charAt(0),o=o.substring(1);var m=y(s,d)+y(d,o);m>=p&&(p=m,l=s,h=d,f=o)}u[c-1][1]!=l&&(l?u[c-1][1]=l:(u.splice(c-1,1),c--),u[c][1]=h,f?u[c+1][1]=f:(u.splice(c+1,1),c--))}c++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(u){for(var y=!1,c=[],s=0,d=null,o=0,r=!1,a=!1,l=!1,h=!1;o<u.length;)u[o][0]==v?(u[o][1].length<this.Diff_EditCost&&(l||h)?(c[s++]=o,r=l,a=h,d=u[o][1]):(s=0,d=null),l=h=!1):(u[o][0]==n?h=!0:l=!0,d&&(r&&a&&l&&h||d.length<this.Diff_EditCost/2&&r+a+l+h==3)&&(u.splice(c[s-1],0,new t.Diff(n,d)),u[c[s-1]+1][0]=i,s--,d=null,r&&a?(l=h=!0,s=0):(s--,o=s>0?c[s-1]:-1,l=h=!1),y=!0)),o++;y&&this.diff_cleanupMerge(u)},t.prototype.diff_cleanupMerge=function(u){u.push(new t.Diff(v,""));for(var y=0,c=0,s=0,d="",o="",r;y<u.length;)switch(u[y][0]){case i:s++,o+=u[y][1],y++;break;case n:c++,d+=u[y][1],y++;break;case v:c+s>1?(c!==0&&s!==0&&(r=this.diff_commonPrefix(o,d),r!==0&&(y-c-s>0&&u[y-c-s-1][0]==v?u[y-c-s-1][1]+=o.substring(0,r):(u.splice(0,0,new t.Diff(v,o.substring(0,r))),y++),o=o.substring(r),d=d.substring(r)),r=this.diff_commonSuffix(o,d),r!==0&&(u[y][1]=o.substring(o.length-r)+u[y][1],o=o.substring(0,o.length-r),d=d.substring(0,d.length-r))),y-=c+s,u.splice(y,c+s),d.length&&(u.splice(y,0,new t.Diff(n,d)),y++),o.length&&(u.splice(y,0,new t.Diff(i,o)),y++),y++):y!==0&&u[y-1][0]==v?(u[y-1][1]+=u[y][1],u.splice(y,1)):y++,s=0,c=0,d="",o="";break}u[u.length-1][1]===""&&u.pop();var a=!1;for(y=1;y<u.length-1;)u[y-1][0]==v&&u[y+1][0]==v&&(u[y][1].substring(u[y][1].length-u[y-1][1].length)==u[y-1][1]?(u[y][1]=u[y-1][1]+u[y][1].substring(0,u[y][1].length-u[y-1][1].length),u[y+1][1]=u[y-1][1]+u[y+1][1],u.splice(y-1,1),a=!0):u[y][1].substring(0,u[y+1][1].length)==u[y+1][1]&&(u[y-1][1]+=u[y+1][1],u[y][1]=u[y][1].substring(u[y+1][1].length)+u[y+1][1],u.splice(y+1,1),a=!0)),y++;a&&this.diff_cleanupMerge(u)},t.prototype.diff_xIndex=function(u,y){var c=0,s=0,d=0,o=0,r;for(r=0;r<u.length&&(u[r][0]!==i&&(c+=u[r][1].length),u[r][0]!==n&&(s+=u[r][1].length),!(c>y));r++)d=c,o=s;return u.length!=r&&u[r][0]===n?o:o+(y-d)},t.prototype.diff_prettyHtml=function(u){for(var y=[],c=/&/g,s=/</g,d=/>/g,o=/\n/g,r=0;r<u.length;r++){var a=u[r][0],l=u[r][1],h=l.replace(c,"&amp;").replace(s,"&lt;").replace(d,"&gt;").replace(o,"&para;<br>");switch(a){case i:y[r]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case n:y[r]='<del style="background:#ffe6e6;">'+h+"</del>";break;case v:y[r]="<span>"+h+"</span>";break}}return y.join("")},t.prototype.diff_text1=function(u){for(var y=[],c=0;c<u.length;c++)u[c][0]!==i&&(y[c]=u[c][1]);return y.join("")},t.prototype.diff_text2=function(u){for(var y=[],c=0;c<u.length;c++)u[c][0]!==n&&(y[c]=u[c][1]);return y.join("")},t.prototype.diff_levenshtein=function(u){for(var y=0,c=0,s=0,d=0;d<u.length;d++){var o=u[d][0],r=u[d][1];switch(o){case i:c+=r.length;break;case n:s+=r.length;break;case v:y+=Math.max(c,s),c=0,s=0;break}}return y+=Math.max(c,s),y},t.prototype.diff_toDelta=function(u){for(var y=[],c=0;c<u.length;c++)switch(u[c][0]){case i:y[c]="+"+encodeURI(u[c][1]);break;case n:y[c]="-"+u[c][1].length;break;case v:y[c]="="+u[c][1].length;break}return y.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(u,y){for(var c=[],s=0,d=0,o=y.split(/\t/g),r=0;r<o.length;r++){var a=o[r].substring(1);switch(o[r].charAt(0)){case"+":try{c[s++]=new t.Diff(i,decodeURI(a))}catch{throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+a);var h=u.substring(d,d+=l);o[r].charAt(0)=="="?c[s++]=new t.Diff(v,h):c[s++]=new t.Diff(n,h);break;default:if(o[r])throw new Error("Invalid diff operation in diff_fromDelta: "+o[r])}}if(d!=u.length)throw new Error("Delta length ("+d+") does not equal source text length ("+u.length+").");return c},t.prototype.match_main=function(u,y,c){if(u==null||y==null||c==null)throw new Error("Null input. (match_main)");return c=Math.max(0,Math.min(c,u.length)),u==y?0:u.length?u.substring(c,c+y.length)==y?c:this.match_bitap_(u,y,c):-1},t.prototype.match_bitap_=function(u,y,c){if(y.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var s=this.match_alphabet_(y),d=this;function o(k,M){var T=k/y.length,L=Math.abs(c-M);return d.Match_Distance?T+L/d.Match_Distance:L?1:T}var r=this.Match_Threshold,a=u.indexOf(y,c);a!=-1&&(r=Math.min(o(0,a),r),a=u.lastIndexOf(y,c+y.length),a!=-1&&(r=Math.min(o(0,a),r)));var l=1<<y.length-1;a=-1;for(var h,f,p=y.length+u.length,m,g=0;g<y.length;g++){for(h=0,f=p;h<f;)o(g,c+f)<=r?h=f:p=f,f=Math.floor((p-h)/2+h);p=f;var w=Math.max(1,c-f+1),S=Math.min(c+f,u.length)+y.length,b=Array(S+2);b[S+1]=(1<<g)-1;for(var _=S;_>=w;_--){var x=s[u.charAt(_-1)];if(g===0?b[_]=(b[_+1]<<1|1)&x:b[_]=(b[_+1]<<1|1)&x|((m[_+1]|m[_])<<1|1)|m[_+1],b[_]&l){var C=o(g,_-1);if(C<=r)if(r=C,a=_-1,a>c)w=Math.max(1,2*c-a);else break}}if(o(g+1,c)>r)break;m=b}return a},t.prototype.match_alphabet_=function(u){for(var y={},c=0;c<u.length;c++)y[u.charAt(c)]=0;for(var c=0;c<u.length;c++)y[u.charAt(c)]|=1<<u.length-c-1;return y},t.prototype.patch_addContext_=function(u,y){if(y.length!=0){if(u.start2===null)throw Error("patch not initialized");for(var c=y.substring(u.start2,u.start2+u.length1),s=0;y.indexOf(c)!=y.lastIndexOf(c)&&c.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)s+=this.Patch_Margin,c=y.substring(u.start2-s,u.start2+u.length1+s);s+=this.Patch_Margin;var d=y.substring(u.start2-s,u.start2);d&&u.diffs.unshift(new t.Diff(v,d));var o=y.substring(u.start2+u.length1,u.start2+u.length1+s);o&&u.diffs.push(new t.Diff(v,o)),u.start1-=d.length,u.start2-=d.length,u.length1+=d.length+o.length,u.length2+=d.length+o.length}},t.prototype.patch_make=function(u,y,c){var s,d;if(typeof u=="string"&&typeof y=="string"&&typeof c>"u")s=u,d=this.diff_main(s,y,!0),d.length>2&&(this.diff_cleanupSemantic(d),this.diff_cleanupEfficiency(d));else if(u&&typeof u=="object"&&typeof y>"u"&&typeof c>"u")d=u,s=this.diff_text1(d);else if(typeof u=="string"&&y&&typeof y=="object"&&typeof c>"u")s=u,d=y;else if(typeof u=="string"&&typeof y=="string"&&c&&typeof c=="object")s=u,d=c;else throw new Error("Unknown call format to patch_make.");if(d.length===0)return[];for(var o=[],r=new t.patch_obj,a=0,l=0,h=0,f=s,p=s,m=0;m<d.length;m++){var g=d[m][0],w=d[m][1];switch(!a&&g!==v&&(r.start1=l,r.start2=h),g){case i:r.diffs[a++]=d[m],r.length2+=w.length,p=p.substring(0,h)+w+p.substring(h);break;case n:r.length1+=w.length,r.diffs[a++]=d[m],p=p.substring(0,h)+p.substring(h+w.length);break;case v:w.length<=2*this.Patch_Margin&&a&&d.length!=m+1?(r.diffs[a++]=d[m],r.length1+=w.length,r.length2+=w.length):w.length>=2*this.Patch_Margin&&a&&(this.patch_addContext_(r,f),o.push(r),r=new t.patch_obj,a=0,f=p,l=h);break}g!==i&&(l+=w.length),g!==n&&(h+=w.length)}return a&&(this.patch_addContext_(r,f),o.push(r)),o},t.prototype.patch_deepCopy=function(u){for(var y=[],c=0;c<u.length;c++){var s=u[c],d=new t.patch_obj;d.diffs=[];for(var o=0;o<s.diffs.length;o++)d.diffs[o]=new t.Diff(s.diffs[o][0],s.diffs[o][1]);d.start1=s.start1,d.start2=s.start2,d.length1=s.length1,d.length2=s.length2,y[c]=d}return y},t.prototype.patch_apply=function(u,y){if(u.length==0)return[y,[]];u=this.patch_deepCopy(u);var c=this.patch_addPadding(u);y=c+y+c,this.patch_splitMax(u);for(var s=0,d=[],o=0;o<u.length;o++){var r=u[o].start2+s,a=this.diff_text1(u[o].diffs),l,h=-1;if(a.length>this.Match_MaxBits?(l=this.match_main(y,a.substring(0,this.Match_MaxBits),r),l!=-1&&(h=this.match_main(y,a.substring(a.length-this.Match_MaxBits),r+a.length-this.Match_MaxBits),(h==-1||l>=h)&&(l=-1))):l=this.match_main(y,a,r),l==-1)d[o]=!1,s-=u[o].length2-u[o].length1;else{d[o]=!0,s=l-r;var f;if(h==-1?f=y.substring(l,l+a.length):f=y.substring(l,h+this.Match_MaxBits),a==f)y=y.substring(0,l)+this.diff_text2(u[o].diffs)+y.substring(l+a.length);else{var p=this.diff_main(a,f,!1);if(a.length>this.Match_MaxBits&&this.diff_levenshtein(p)/a.length>this.Patch_DeleteThreshold)d[o]=!1;else{this.diff_cleanupSemanticLossless(p);for(var m=0,g,w=0;w<u[o].diffs.length;w++){var S=u[o].diffs[w];S[0]!==v&&(g=this.diff_xIndex(p,m)),S[0]===i?y=y.substring(0,l+g)+S[1]+y.substring(l+g):S[0]===n&&(y=y.substring(0,l+g)+y.substring(l+this.diff_xIndex(p,m+S[1].length))),S[0]!==n&&(m+=S[1].length)}}}}}return y=y.substring(c.length,y.length-c.length),[y,d]},t.prototype.patch_addPadding=function(u){for(var y=this.Patch_Margin,c="",s=1;s<=y;s++)c+=String.fromCharCode(s);for(var s=0;s<u.length;s++)u[s].start1+=y,u[s].start2+=y;var d=u[0],o=d.diffs;if(o.length==0||o[0][0]!=v)o.unshift(new t.Diff(v,c)),d.start1-=y,d.start2-=y,d.length1+=y,d.length2+=y;else if(y>o[0][1].length){var r=y-o[0][1].length;o[0][1]=c.substring(o[0][1].length)+o[0][1],d.start1-=r,d.start2-=r,d.length1+=r,d.length2+=r}if(d=u[u.length-1],o=d.diffs,o.length==0||o[o.length-1][0]!=v)o.push(new t.Diff(v,c)),d.length1+=y,d.length2+=y;else if(y>o[o.length-1][1].length){var r=y-o[o.length-1][1].length;o[o.length-1][1]+=c.substring(0,r),d.length1+=r,d.length2+=r}return c},t.prototype.patch_splitMax=function(u){for(var y=this.Match_MaxBits,c=0;c<u.length;c++)if(!(u[c].length1<=y)){var s=u[c];u.splice(c--,1);for(var d=s.start1,o=s.start2,r="";s.diffs.length!==0;){var a=new t.patch_obj,l=!0;for(a.start1=d-r.length,a.start2=o-r.length,r!==""&&(a.length1=a.length2=r.length,a.diffs.push(new t.Diff(v,r)));s.diffs.length!==0&&a.length1<y-this.Patch_Margin;){var h=s.diffs[0][0],f=s.diffs[0][1];h===i?(a.length2+=f.length,o+=f.length,a.diffs.push(s.diffs.shift()),l=!1):h===n&&a.diffs.length==1&&a.diffs[0][0]==v&&f.length>2*y?(a.length1+=f.length,d+=f.length,l=!1,a.diffs.push(new t.Diff(h,f)),s.diffs.shift()):(f=f.substring(0,y-a.length1-this.Patch_Margin),a.length1+=f.length,d+=f.length,h===v?(a.length2+=f.length,o+=f.length):l=!1,a.diffs.push(new t.Diff(h,f)),f==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(f.length))}r=this.diff_text2(a.diffs),r=r.substring(r.length-this.Patch_Margin);var p=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);p!==""&&(a.length1+=p.length,a.length2+=p.length,a.diffs.length!==0&&a.diffs[a.diffs.length-1][0]===v?a.diffs[a.diffs.length-1][1]+=p:a.diffs.push(new t.Diff(v,p))),l||u.splice(++c,0,a)}}},t.prototype.patch_toText=function(u){for(var y=[],c=0;c<u.length;c++)y[c]=u[c];return y.join("")},t.prototype.patch_fromText=function(u){var y=[];if(!u)return y;for(var c=u.split(`
`),s=0,d=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<c.length;){var o=c[s].match(d);if(!o)throw new Error("Invalid patch string: "+c[s]);var r=new t.patch_obj;for(y.push(r),r.start1=parseInt(o[1],10),o[2]===""?(r.start1--,r.length1=1):o[2]=="0"?r.length1=0:(r.start1--,r.length1=parseInt(o[2],10)),r.start2=parseInt(o[3],10),o[4]===""?(r.start2--,r.length2=1):o[4]=="0"?r.length2=0:(r.start2--,r.length2=parseInt(o[4],10)),s++;s<c.length;){var a=c[s].charAt(0);try{var l=decodeURI(c[s].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+l)}if(a=="-")r.diffs.push(new t.Diff(n,l));else if(a=="+")r.diffs.push(new t.Diff(i,l));else if(a==" ")r.diffs.push(new t.Diff(v,l));else{if(a=="@")break;if(a!=="")throw new Error('Invalid patch mode "'+a+'" in: '+l)}s++}}return y},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var u,y;this.length1===0?u=this.start1+",0":this.length1==1?u=this.start1+1:u=this.start1+1+","+this.length1,this.length2===0?y=this.start2+",0":this.length2==1?y=this.start2+1:y=this.start2+1+","+this.length2;for(var c=["@@ -"+u+" +"+y+` @@
`],s,d=0;d<this.diffs.length;d++){switch(this.diffs[d][0]){case i:s="+";break;case n:s="-";break;case v:s=" ";break}c[d+1]=s+encodeURI(this.diffs[d][1])+`
`}return c.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=i,e.exports.DIFF_EQUAL=v})(ev);var QS=ev.exports,JS=Ve&&Ve.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,v){i.__proto__=v}||function(i,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(i[u]=v[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(eh,"__esModule",{value:!0});var Re=Ns,nf=pe,ZS=Fa,e1=QS,t1=function(e){JS(t,e);function t(n){var i=e.call(this,n)||this;return i.state={value:i.props.value},i.onChange=i.onChange.bind(i),i.diff=i.diff.bind(i),i}return t.prototype.componentDidUpdate=function(){var n=this.props.value;n!==this.state.value&&this.setState({value:n})},t.prototype.onChange=function(n){this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},t.prototype.diff=function(){var n=new e1,i=this.state.value[0],v=this.state.value[1];if(i.length===0&&v.length===0)return[];var u=n.diff_main(i,v);n.diff_cleanupSemantic(u);var y=this.generateDiffedLines(u),c=this.setCodeMarkers(y);return c},t.prototype.generateDiffedLines=function(n){var i={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},v={left:[],right:[]},u={left:1,right:1};return n.forEach(function(y){var c=y[0],s=y[1],d=s.split(`
`).length-1;if(s.length!==0){var o=s[0],r=s[s.length-1],a=0;switch(c){case i.DIFF_EQUAL:u.left+=d,u.right+=d;break;case i.DIFF_DELETE:o===`
`&&(u.left++,d--),a=d,a===0&&v.right.push({startLine:u.right,endLine:u.right}),r===`
`&&(a-=1),v.left.push({startLine:u.left,endLine:u.left+a}),u.left+=d;break;case i.DIFF_INSERT:o===`
`&&(u.right++,d--),a=d,a===0&&v.left.push({startLine:u.left,endLine:u.left}),r===`
`&&(a-=1),v.right.push({startLine:u.right,endLine:u.right+a}),u.right+=d;break;default:throw new Error("Diff type was not defined.")}}}),v},t.prototype.setCodeMarkers=function(n){n===void 0&&(n={left:[],right:[]});for(var i=[],v={left:[],right:[]},u=0;u<n.left.length;u++){var y={startRow:n.left[u].startLine-1,endRow:n.left[u].endLine,type:"text",className:"codeMarker"};v.left.push(y)}for(var u=0;u<n.right.length;u++){var y={startRow:n.right[u].startLine-1,endRow:n.right[u].endLine,type:"text",className:"codeMarker"};v.right.push(y)}return i[0]=v.left,i[1]=v.right,i},t.prototype.render=function(){var n=this.diff();return nf.createElement(ZS.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:n})},t.propTypes={cursorStart:Re.number,editorProps:Re.object,enableBasicAutocompletion:Re.bool,enableLiveAutocompletion:Re.bool,focus:Re.bool,fontSize:Re.number,height:Re.string,highlightActiveLine:Re.bool,maxLines:Re.number,minLines:Re.number,mode:Re.string,name:Re.string,className:Re.string,onLoad:Re.func,onPaste:Re.func,onScroll:Re.func,onChange:Re.func,orientation:Re.string,readOnly:Re.bool,scrollMargin:Re.array,setOptions:Re.object,showGutter:Re.bool,showPrintMargin:Re.bool,splits:Re.number,style:Re.object,tabSize:Re.number,theme:Re.string,value:Re.array,width:Re.string,wrapEnabled:Re.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(nf.Component);eh.default=t1;Object.defineProperty(wr,"__esModule",{value:!0});wr.diff=wr.split=void 0;var n1=Zu,i1=eh;wr.diff=i1.default;var r1=Fa;wr.split=r1.default;var s1=wr.default=n1.default,o1={exports:{}};(function(e,t){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(n,i,v){var u=n("./lib/dom"),y=n("./lib/oop"),c=n("./lib/event_emitter").EventEmitter,s=n("./lib/lang"),d=n("./range").Range,o=n("./range_list").RangeList,r=n("./keyboard/hash_handler").HashHandler,a=n("./tokenizer").Tokenizer,l=n("./clipboard"),h={CURRENT_WORD:function(_){return _.session.getTextRange(_.session.getWordRange())},SELECTION:function(_,x,C){var k=_.session.getTextRange();return C?k.replace(/\n\r?([ \t]*\S)/g,`
`+C+"$1"):k},CURRENT_LINE:function(_){return _.session.getLine(_.getCursorPosition().row)},PREV_LINE:function(_){return _.session.getLine(_.getCursorPosition().row-1)},LINE_INDEX:function(_){return _.getCursorPosition().row},LINE_NUMBER:function(_){return _.getCursorPosition().row+1},SOFT_TABS:function(_){return _.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(_){return _.session.getTabSize()},CLIPBOARD:function(_){return l.getText&&l.getText()},FILENAME:function(_){return/[^/\\]*$/.exec(this.FILEPATH(_))[0]},FILENAME_BASE:function(_){return/[^/\\]*$/.exec(this.FILEPATH(_))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(_){return this.FILEPATH(_).replace(/[^/\\]*$/,"")},FILEPATH:function(_){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(_){var x=_.session.$mode||{};return x.blockComment&&x.blockComment.start||""},BLOCK_COMMENT_END:function(_){var x=_.session.$mode||{};return x.blockComment&&x.blockComment.end||""},LINE_COMMENT:function(_){var x=_.session.$mode||{};return x.lineCommentStart||""},CURRENT_YEAR:f.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:f.bind(null,{year:"2-digit"}),CURRENT_MONTH:f.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:f.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:f.bind(null,{month:"short"}),CURRENT_DATE:f.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:f.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:f.bind(null,{weekday:"short"}),CURRENT_HOUR:f.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:f.bind(null,{minute:"2-digit"}),CURRENT_SECOND:f.bind(null,{second:"2-digit"})};h.SELECTED_TEXT=h.SELECTION;function f(_){var x=new Date().toLocaleString("en-us",_);return x.length==1?"0"+x:x}var p=function(){function _(){this.snippetMap={},this.snippetNameMap={},this.variables=h}return _.prototype.getTokenizer=function(){return _.$tokenizer||this.createTokenizer()},_.prototype.createTokenizer=function(){function x(M){return M=M.substr(1),/^\d+$/.test(M)?[{tabstopId:parseInt(M,10)}]:[{text:M}]}function C(M){return"(?:[^\\\\"+M+"]|\\\\.)"}var k={regex:"/("+C("/")+"+)/",onMatch:function(M,T,L){var E=L[0];return E.fmtString=!0,E.guard=M.slice(1,-1),E.flag="",""},next:"formatString"};return _.$tokenizer=new a({start:[{regex:/\\./,onMatch:function(M,T,L){var E=M[1];return(E=="}"&&L.length||"`$\\".indexOf(E)!=-1)&&(M=E),[M]}},{regex:/}/,onMatch:function(M,T,L){return[L.length?L.shift():M]}},{regex:/\$(?:\d+|\w+)/,onMatch:x},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(M,T,L){var E=x(M.substr(1));return L.unshift(E[0]),E},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+C("\\|")+"*\\|",onMatch:function(M,T,L){var E=M.slice(1,-1).replace(/\\[,|\\]|,/g,function(A){return A.length==2?A[1]:"\0"}).split("\0").map(function(A){return{value:A}});return L[0].choices=E,[E[0]]},next:"start"},k,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(M,T,L){return L.length&&L[0].expectElse?(L[0].expectElse=!1,L[0].ifEnd={elseEnd:L[0]},[L[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(M,T,L){var E=M[1];return E=="}"&&L.length||"`$\\".indexOf(E)!=-1?M=E:E=="n"?M=`
`:E=="t"?M="	":"ulULE".indexOf(E)!=-1&&(M={changeCase:E,local:E>"a"}),[M]}},{regex:"/\\w*}",onMatch:function(M,T,L){var E=L.shift();return E&&(E.flag=M.slice(1,-1)),this.next=E&&E.tabstopId?"start":"",[E||M]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(M,T,L){return[{text:M.slice(1)}]}},{regex:/\${\w+/,onMatch:function(M,T,L){var E={text:M.slice(2)};return L.unshift(E),[E]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(M,T,L){var E=L.shift();return this.next=E&&E.tabstopId?"start":"",[E||M]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(M,T,L){var E=L[0];return E.formatFunction=M.slice(2,-1),[L.shift()]},next:"formatString"},k,{regex:/:[\?\-+]?/,onMatch:function(M,T,L){M[1]=="+"&&(L[0].ifEnd=L[0]),M[1]=="?"&&(L[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),_.$tokenizer},_.prototype.tokenizeTmSnippet=function(x,C){return this.getTokenizer().getLineTokens(x,C).tokens.map(function(k){return k.value||k})},_.prototype.getVariableValue=function(x,C,k){if(/^\d+$/.test(C))return(this.variables.__||{})[C]||"";if(/^[A-Z]\d+$/.test(C))return(this.variables[C[0]+"__"]||{})[C.substr(1)]||"";if(C=C.replace(/^TM_/,""),!this.variables.hasOwnProperty(C))return"";var M=this.variables[C];return typeof M=="function"&&(M=this.variables[C](x,C,k)),M??""},_.prototype.tmStrFormat=function(x,C,k){if(!C.fmt)return x;var M=C.flag||"",T=C.guard;T=new RegExp(T,M.replace(/[^gim]/g,""));var L=typeof C.fmt=="string"?this.tokenizeTmSnippet(C.fmt,"formatString"):C.fmt,E=this,A=x.replace(T,function(){var R=E.variables.__;E.variables.__=[].slice.call(arguments);for(var I=E.resolveVariables(L,k),D="E",P=0;P<I.length;P++){var O=I[P];if(typeof O=="object")if(I[P]="",O.changeCase&&O.local){var $=I[P+1];$&&typeof $=="string"&&(O.changeCase=="u"?I[P]=$[0].toUpperCase():I[P]=$[0].toLowerCase(),I[P+1]=$.substr(1))}else O.changeCase&&(D=O.changeCase);else D=="U"?I[P]=O.toUpperCase():D=="L"&&(I[P]=O.toLowerCase())}return E.variables.__=R,I.join("")});return A},_.prototype.tmFormatFunction=function(x,C,k){return C.formatFunction=="upcase"?x.toUpperCase():C.formatFunction=="downcase"?x.toLowerCase():x},_.prototype.resolveVariables=function(x,C){for(var k=[],M="",T=!0,L=0;L<x.length;L++){var E=x[L];if(typeof E=="string"){k.push(E),E==`
`?(T=!0,M=""):T&&(M=/^\t*/.exec(E)[0],T=/\S/.test(E));continue}if(E){if(T=!1,E.fmtString){var A=x.indexOf(E,L+1);A==-1&&(A=x.length),E.fmt=x.slice(L+1,A),L=A}if(E.text){var R=this.getVariableValue(C,E.text,M)+"";E.fmtString&&(R=this.tmStrFormat(R,E,C)),E.formatFunction&&(R=this.tmFormatFunction(R,E,C)),R&&!E.ifEnd?(k.push(R),I(E)):!R&&E.ifEnd&&I(E.ifEnd)}else E.elseEnd?I(E.elseEnd):(E.tabstopId!=null||E.changeCase!=null)&&k.push(E)}}function I(D){var P=x.indexOf(D,L+1);P!=-1&&(L=P)}return k},_.prototype.getDisplayTextForSnippet=function(x,C){var k=m.call(this,x,C);return k.text},_.prototype.insertSnippetForSelection=function(x,C,k){k===void 0&&(k={});var M=m.call(this,x,C,k),T=x.getSelectionRange(),L=x.session.replace(T,M.text),E=new g(x),A=x.inVirtualSelectionMode&&x.selection.index;E.addTabstops(M.tabstops,T.start,L,A)},_.prototype.insertSnippet=function(x,C,k){k===void 0&&(k={});var M=this;if(x.inVirtualSelectionMode)return M.insertSnippetForSelection(x,C,k);x.forEachSelection(function(){M.insertSnippetForSelection(x,C,k)},null,{keepOrder:!0}),x.tabstopManager&&x.tabstopManager.tabNext()},_.prototype.$getScope=function(x){var C=x.session.$mode.$id||"";if(C=C.split("/").pop(),C==="html"||C==="php"){C==="php"&&!x.session.$mode.inlinePhp&&(C="html");var k=x.getCursorPosition(),M=x.session.getState(k.row);typeof M=="object"&&(M=M[0]),M.substring&&(M.substring(0,3)=="js-"?C="javascript":M.substring(0,4)=="css-"?C="css":M.substring(0,4)=="php-"&&(C="php"))}return C},_.prototype.getActiveScopes=function(x){var C=this.$getScope(x),k=[C],M=this.snippetMap;return M[C]&&M[C].includeScopes&&k.push.apply(k,M[C].includeScopes),k.push("_"),k},_.prototype.expandWithTab=function(x,C){var k=this,M=x.forEachSelection(function(){return k.expandSnippetForSelection(x,C)},null,{keepOrder:!0});return M&&x.tabstopManager&&x.tabstopManager.tabNext(),M},_.prototype.expandSnippetForSelection=function(x,C){var k=x.getCursorPosition(),M=x.session.getLine(k.row),T=M.substring(0,k.column),L=M.substr(k.column),E=this.snippetMap,A;return this.getActiveScopes(x).some(function(R){var I=E[R];return I&&(A=this.findMatchingSnippet(I,T,L)),!!A},this),A?(C&&C.dryRun||(x.session.doc.removeInLine(k.row,k.column-A.replaceBefore.length,k.column+A.replaceAfter.length),this.variables.M__=A.matchBefore,this.variables.T__=A.matchAfter,this.insertSnippetForSelection(x,A.content),this.variables.M__=this.variables.T__=null),!0):!1},_.prototype.findMatchingSnippet=function(x,C,k){for(var M=x.length;M--;){var T=x[M];if(!(T.startRe&&!T.startRe.test(C))&&!(T.endRe&&!T.endRe.test(k))&&!(!T.startRe&&!T.endRe))return T.matchBefore=T.startRe?T.startRe.exec(C):[""],T.matchAfter=T.endRe?T.endRe.exec(k):[""],T.replaceBefore=T.triggerRe?T.triggerRe.exec(C)[0]:"",T.replaceAfter=T.endTriggerRe?T.endTriggerRe.exec(k)[0]:"",T}},_.prototype.register=function(x,C){var k=this.snippetMap,M=this.snippetNameMap,T=this;x||(x=[]);function L(R){return R&&!/^\^?\(.*\)\$?$|^\\b$/.test(R)&&(R="(?:"+R+")"),R||""}function E(R,I,D){return R=L(R),I=L(I),R=I+R,R&&R[R.length-1]!="$"&&(R=R+"$"),new RegExp(R)}function A(R){R.scope||(R.scope=C||"_"),C=R.scope,k[C]||(k[C]=[],M[C]={});var I=M[C];if(R.name){var D=I[R.name];D&&T.unregister(D),I[R.name]=R}k[C].push(R),R.prefix&&(R.tabTrigger=R.prefix),!R.content&&R.body&&(R.content=Array.isArray(R.body)?R.body.join(`
`):R.body),R.tabTrigger&&!R.trigger&&(!R.guard&&/^\w/.test(R.tabTrigger)&&(R.guard="\\b"),R.trigger=s.escapeRegExp(R.tabTrigger)),!(!R.trigger&&!R.guard&&!R.endTrigger&&!R.endGuard)&&(R.startRe=E(R.trigger,R.guard),R.triggerRe=new RegExp(R.trigger),R.endRe=E(R.endTrigger,R.endGuard),R.endTriggerRe=new RegExp(R.endTrigger))}Array.isArray(x)?x.forEach(A):Object.keys(x).forEach(function(R){A(x[R])}),this._signal("registerSnippets",{scope:C})},_.prototype.unregister=function(x,C){var k=this.snippetMap,M=this.snippetNameMap;function T(L){var E=M[L.scope||C];if(E&&E[L.name]){delete E[L.name];var A=k[L.scope||C],R=A&&A.indexOf(L);R>=0&&A.splice(R,1)}}x.content?T(x):Array.isArray(x)&&x.forEach(T)},_.prototype.parseSnippetFile=function(x){x=x.replace(/\r/g,"");for(var C=[],k={},M=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,T;T=M.exec(x);){if(T[1])try{k=JSON.parse(T[1]),C.push(k)}catch{}if(T[4])k.content=T[4].replace(/^\t/gm,""),C.push(k),k={};else{var L=T[2],E=T[3];if(L=="regex"){var A=/\/((?:[^\/\\]|\\.)*)|$/g;k.guard=A.exec(E)[1],k.trigger=A.exec(E)[1],k.endTrigger=A.exec(E)[1],k.endGuard=A.exec(E)[1]}else L=="snippet"?(k.tabTrigger=E.match(/^\S*/)[0],k.name||(k.name=E)):L&&(k[L]=E)}}return C},_.prototype.getSnippetByName=function(x,C){var k=this.snippetNameMap,M;return this.getActiveScopes(C).some(function(T){var L=k[T];return L&&(M=L[x]),!!M},this),M},_}();y.implement(p.prototype,c);var m=function(_,x,C){C===void 0&&(C={});var k=_.getCursorPosition(),M=_.session.getLine(k.row),T=_.session.getTabString(),L=M.match(/^\s*/)[0];k.column<L.length&&(L=L.slice(0,k.column)),x=x.replace(/\r/g,"");var E=this.tokenizeTmSnippet(x);E=this.resolveVariables(E,_),E=E.map(function(V){return V==`
`&&!C.excludeExtraIndent?V+L:typeof V=="string"?V.replace(/\t/g,T):V});var A=[];E.forEach(function(V,W){if(typeof V=="object"){var F=V.tabstopId,Y=A[F];if(Y||(Y=A[F]=[],Y.index=F,Y.value="",Y.parents={}),Y.indexOf(V)===-1){V.choices&&!Y.choices&&(Y.choices=V.choices),Y.push(V);var G=E.indexOf(V,W+1);if(G!==-1){var Q=E.slice(W+1,G),J=Q.some(function(ce){return typeof ce=="object"});J&&!Y.value?Y.value=Q:Q.length&&(!Y.value||typeof Y.value!="string")&&(Y.value=Q.join(""))}}}}),A.forEach(function(V){V.length=0});var R={};function I(V){for(var W=[],F=0;F<V.length;F++){var Y=V[F];if(typeof Y=="object"){if(R[Y.tabstopId])continue;var G=V.lastIndexOf(Y,F-1);Y=W[G]||{tabstopId:Y.tabstopId}}W[F]=Y}return W}for(var D=0;D<E.length;D++){var P=E[D];if(typeof P=="object"){var O=P.tabstopId,$=A[O],N=E.indexOf(P,D+1);if(R[O]){R[O]===P&&(delete R[O],Object.keys(R).forEach(function(V){$.parents[V]=!0}));continue}R[O]=P;var H=$.value;typeof H!="string"?H=I(H):P.fmt&&(H=this.tmStrFormat(H,P,_)),E.splice.apply(E,[D+1,Math.max(0,N-D)].concat(H,P)),$.indexOf(P)===-1&&$.push(P)}}var B=0,z=0,U="";return E.forEach(function(V){if(typeof V=="string"){var W=V.split(`
`);W.length>1?(z=W[W.length-1].length,B+=W.length-1):z+=V.length,U+=V}else V&&(V.start?V.end={row:B,column:z}:V.start={row:B,column:z})}),{text:U,tabstops:A,tokens:E}},g=function(){function _(x){if(this.index=0,this.ranges=[],this.tabstops=[],x.tabstopManager)return x.tabstopManager;x.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(x)}return _.prototype.attach=function(x){this.$openTabstops=null,this.selectedTabstop=null,this.editor=x,this.session=x.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},_.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},_.prototype.onChange=function(x){for(var C=x.action[0]=="r",k=this.selectedTabstop||{},M=k.parents||{},T=this.tabstops.slice(),L=0;L<T.length;L++){var E=T[L],A=E==k||M[E.index];if(E.rangeList.$bias=A?0:1,x.action=="remove"&&E!==k){var R=E.parents&&E.parents[k.index],I=E.rangeList.pointIndex(x.start,R);I=I<0?-I-1:I+1;var D=E.rangeList.pointIndex(x.end,R);D=D<0?-D-1:D-1;for(var P=E.rangeList.ranges.slice(I,D),O=0;O<P.length;O++)this.removeRange(P[O])}E.rangeList.$onChange(x)}var $=this.session;!this.$inChange&&C&&$.getLength()==1&&!$.getValue()&&this.detach()},_.prototype.updateLinkedFields=function(){var x=this.selectedTabstop;if(!(!x||!x.hasLinkedRanges||!x.firstNonLinked)){this.$inChange=!0;for(var C=this.session,k=C.getTextRange(x.firstNonLinked),M=0;M<x.length;M++){var T=x[M];if(T.linked){var L=T.original,E=i.snippetManager.tmStrFormat(k,L,this.editor);C.replace(T,E)}}this.$inChange=!1}},_.prototype.onAfterExec=function(x){x.command&&!x.command.readOnly&&this.updateLinkedFields()},_.prototype.onChangeSelection=function(){if(this.editor){for(var x=this.editor.selection.lead,C=this.editor.selection.anchor,k=this.editor.selection.isEmpty(),M=0;M<this.ranges.length;M++)if(!this.ranges[M].linked){var T=this.ranges[M].contains(x.row,x.column),L=k||this.ranges[M].contains(C.row,C.column);if(T&&L)return}this.detach()}},_.prototype.onChangeSession=function(){this.detach()},_.prototype.tabNext=function(x){var C=this.tabstops.length,k=this.index+(x||1);k=Math.min(Math.max(k,1),C),k==C&&(k=0),this.selectTabstop(k),this.updateTabstopMarkers(),k===0&&this.detach()},_.prototype.selectTabstop=function(x){this.$openTabstops=null;var C=this.tabstops[this.index];if(C&&this.addTabstopMarkers(C),this.index=x,C=this.tabstops[this.index],!(!C||!C.length)){this.selectedTabstop=C;var k=C.firstNonLinked||C;if(C.choices&&(k.cursor=k.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(k);else{var M=this.editor.multiSelect;M.toSingleRange(k);for(var T=0;T<C.length;T++)C.hasLinkedRanges&&C[T].linked||M.addRange(C[T].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},_.prototype.addTabstops=function(x,C,k){var M=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!x[0]){var T=d.fromPoints(k,k);S(T.start,C),S(T.end,C),x[0]=[T],x[0].index=0}var L=this.index,E=[L+1,0],A=this.ranges,R=this.snippetId=(this.snippetId||0)+1;x.forEach(function(I,D){var P=this.$openTabstops[D]||I;P.snippetId=R;for(var O=0;O<I.length;O++){var $=I[O],N=d.fromPoints($.start,$.end||$.start);w(N.start,C),w(N.end,C),N.original=$,N.tabstop=P,A.push(N),P!=I?P.unshift(N):P[O]=N,$.fmtString||P.firstNonLinked&&M?(N.linked=!0,P.hasLinkedRanges=!0):P.firstNonLinked||(P.firstNonLinked=N)}P.firstNonLinked||(P.hasLinkedRanges=!1),P===I&&(E.push(P),this.$openTabstops[D]=P),this.addTabstopMarkers(P),P.rangeList=P.rangeList||new o,P.rangeList.$bias=0,P.rangeList.addList(P)},this),E.length>2&&(this.tabstops.length&&E.push(E.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,E))},_.prototype.addTabstopMarkers=function(x){var C=this.session;x.forEach(function(k){k.markerId||(k.markerId=C.addMarker(k,"ace_snippet-marker","text"))})},_.prototype.removeTabstopMarkers=function(x){var C=this.session;x.forEach(function(k){C.removeMarker(k.markerId),k.markerId=null})},_.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var x=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&x--,this.tabstops.forEach(function(C){C.snippetId===x?this.addTabstopMarkers(C):this.removeTabstopMarkers(C)},this)}},_.prototype.removeRange=function(x){var C=x.tabstop.indexOf(x);C!=-1&&x.tabstop.splice(C,1),C=this.ranges.indexOf(x),C!=-1&&this.ranges.splice(C,1),C=x.tabstop.rangeList.ranges.indexOf(x),C!=-1&&x.tabstop.splice(C,1),this.session.removeMarker(x.markerId),x.tabstop.length||(C=this.tabstops.indexOf(x.tabstop),C!=-1&&this.tabstops.splice(C,1),this.tabstops.length||this.detach())},_}();g.prototype.keyboardHandler=new r,g.prototype.keyboardHandler.bindKeys({Tab:function(_){i.snippetManager&&i.snippetManager.expandWithTab(_)||(_.tabstopManager.tabNext(1),_.renderer.scrollCursorIntoView())},"Shift-Tab":function(_){_.tabstopManager.tabNext(-1),_.renderer.scrollCursorIntoView()},Esc:function(_){_.tabstopManager.detach()}});var w=function(_,x){_.row==0&&(_.column+=x.column),_.row+=x.row},S=function(_,x){_.row==x.row&&(_.column-=x.column),_.row-=x.row};u.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),i.snippetManager=new p;var b=n("./editor").Editor;(function(){this.insertSnippet=function(_,x){return i.snippetManager.insertSnippet(this,_,x)},this.expandSnippet=function(_){return i.snippetManager.expandWithTab(this,_)}}).call(b.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(n,i,v){var u=n("../virtual_renderer").VirtualRenderer,y=n("../editor").Editor,c=n("../range").Range,s=n("../lib/event"),d=n("../lib/lang"),o=n("../lib/dom"),r=n("../config").nls,a=n("./../lib/useragent"),l=function(w){return"suggest-aria-id:".concat(w)},h=a.isSafari?"menu":"listbox",f=a.isSafari?"menuitem":"option",p=a.isSafari?"aria-current":"aria-selected",m=function(w){var S=new u(w);S.$maxLines=4;var b=new y(S);return b.setHighlightActiveLine(!1),b.setShowPrintMargin(!1),b.renderer.setShowGutter(!1),b.renderer.setHighlightGutterLine(!1),b.$mouseHandler.$focusTimeout=0,b.$highlightTagPending=!0,b},g=function(){function w(S){var b=o.createElement("div"),_=m(b);S&&S.appendChild(b),b.style.display="none",_.renderer.content.style.cursor="default",_.renderer.setStyle("ace_autocomplete"),_.renderer.$textLayer.element.setAttribute("role",h),_.renderer.$textLayer.element.setAttribute("aria-roledescription",r("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),_.renderer.$textLayer.element.setAttribute("aria-label",r("autocomplete.popup.aria-label","Autocomplete suggestions")),_.renderer.textarea.setAttribute("aria-hidden","true"),_.setOption("displayIndentGuides",!1),_.setOption("dragDelay",150);var x=function(){};_.focus=x,_.$isFocused=!0,_.renderer.$cursorLayer.restartTimer=x,_.renderer.$cursorLayer.element.style.opacity="0",_.renderer.$maxLines=8,_.renderer.$keepTextAreaAtCursor=!1,_.setHighlightActiveLine(!1),_.session.highlight(""),_.session.$searchHighlight.clazz="ace_highlight-marker",_.on("mousedown",function(A){var R=A.getDocumentPosition();_.selection.moveToPosition(R),M.start.row=M.end.row=R.row,A.stop()});var C,k=new c(-1,0,-1,1/0),M=new c(-1,0,-1,1/0);M.id=_.session.addMarker(M,"ace_active-line","fullLine"),_.setSelectOnHover=function(A){A?k.id&&(_.session.removeMarker(k.id),k.id=null):k.id=_.session.addMarker(k,"ace_line-hover","fullLine")},_.setSelectOnHover(!1),_.on("mousemove",function(A){if(!C){C=A;return}if(!(C.x==A.x&&C.y==A.y)){C=A,C.scrollTop=_.renderer.scrollTop,_.isMouseOver=!0;var R=C.getDocumentPosition().row;k.start.row!=R&&(k.id||_.setRow(R),L(R))}}),_.renderer.on("beforeRender",function(){if(C&&k.start.row!=-1){C.$pos=null;var A=C.getDocumentPosition().row;k.id||_.setRow(A),L(A,!0)}}),_.renderer.on("afterRender",function(){var A=_.getRow(),R=_.renderer.$textLayer,I=R.element.childNodes[A-R.config.firstRow],D=document.activeElement;if(I!==_.selectedNode&&_.selectedNode&&(o.removeCssClass(_.selectedNode,"ace_selected"),D.removeAttribute("aria-activedescendant"),_.selectedNode.removeAttribute(p),_.selectedNode.removeAttribute("id")),_.selectedNode=I,I){o.addCssClass(I,"ace_selected");var P=l(A);I.id=P,R.element.setAttribute("aria-activedescendant",P),D.setAttribute("aria-activedescendant",P),I.setAttribute("role",f),I.setAttribute("aria-roledescription",r("autocomplete.popup.item.aria-roledescription","item")),I.setAttribute("aria-label",_.getData(A).caption||_.getData(A).value),I.setAttribute("aria-setsize",_.data.length),I.setAttribute("aria-posinset",A+1),I.setAttribute("aria-describedby","doc-tooltip"),I.setAttribute(p,"true")}});var T=function(){L(-1)},L=function(A,R){A!==k.start.row&&(k.start.row=k.end.row=A,R||_.session._emit("changeBackMarker"),_._emit("changeHoverMarker"))};_.getHoveredRow=function(){return k.start.row},s.addListener(_.container,"mouseout",function(){_.isMouseOver=!1,T()}),_.on("hide",T),_.on("changeSelection",T),_.session.doc.getLength=function(){return _.data.length},_.session.doc.getLine=function(A){var R=_.data[A];return typeof R=="string"?R:R&&R.value||""};var E=_.session.bgTokenizer;return E.$tokenizeRow=function(A){var R=_.data[A],I=[];if(!R)return I;typeof R=="string"&&(R={value:R});var D=R.caption||R.value||R.name;function P(V,W){V&&I.push({type:(R.className||"")+(W||""),value:V})}for(var O=D.toLowerCase(),$=(_.filterText||"").toLowerCase(),N=0,H=0,B=0;B<=$.length;B++)if(B!=H&&(R.matchMask&1<<B||B==$.length)){var z=$.slice(H,B);H=B;var U=O.indexOf(z,N);if(U==-1)continue;P(D.slice(N,U),""),N=U+z.length,P(D.slice(U,N),"completion-highlight")}return P(D.slice(N,D.length),""),I.push({type:"completion-spacer",value:" "}),R.meta&&I.push({type:"completion-meta",value:R.meta}),R.message&&I.push({type:"completion-message",value:R.message}),I},E.$updateOnChange=x,E.start=x,_.session.$computeWidth=function(){return this.screenWidth=0},_.isOpen=!1,_.isTopdown=!1,_.autoSelect=!0,_.filterText="",_.isMouseOver=!1,_.data=[],_.setData=function(A,R){_.filterText=R||"",_.setValue(d.stringRepeat(`
`,A.length),-1),_.data=A||[],_.setRow(0)},_.getData=function(A){return _.data[A]},_.getRow=function(){return M.start.row},_.setRow=function(A){A=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,A)),M.start.row!=A&&(_.selection.clearSelection(),M.start.row=M.end.row=A||0,_.session._emit("changeBackMarker"),_.moveCursorTo(A||0,0),_.isOpen&&_._signal("select"))},_.on("changeSelection",function(){_.isOpen&&_.setRow(_.selection.lead.row),_.renderer.scrollCursorIntoView()}),_.hide=function(){this.container.style.display="none",_.anchorPos=null,_.anchor=null,_.isOpen&&(_.isOpen=!1,this._signal("hide"))},_.tryShow=function(A,R,I,D){if(!D&&_.isOpen&&_.anchorPos&&_.anchor&&_.anchorPos.top===A.top&&_.anchorPos.left===A.left&&_.anchor===I)return!0;var P=this.container,O=window.innerHeight,$=window.innerWidth,N=this.renderer,H=N.$maxLines*R*1.4,B={top:0,bottom:0,left:0},z=O-A.top-3*this.$borderSize-R,U=A.top-3*this.$borderSize;I||(U<=z||z>=H?I="bottom":I="top"),I==="top"?(B.bottom=A.top-this.$borderSize,B.top=B.bottom-H):I==="bottom"&&(B.top=A.top+R+this.$borderSize,B.bottom=B.top+H);var V=B.top>=0&&B.bottom<=O;if(!D&&!V)return!1;V?N.$maxPixelHeight=null:I==="top"?N.$maxPixelHeight=U:N.$maxPixelHeight=z,I==="top"?(P.style.top="",P.style.bottom=O-B.bottom+"px",_.isTopdown=!1):(P.style.top=B.top+"px",P.style.bottom="",_.isTopdown=!0),P.style.display="";var W=A.left;return W+P.offsetWidth>$&&(W=$-P.offsetWidth),P.style.left=W+"px",P.style.right="",_.isOpen||(_.isOpen=!0,this._signal("show"),C=null),_.anchorPos=A,_.anchor=I,!0},_.show=function(A,R,I){this.tryShow(A,R,I?"bottom":void 0,!0)},_.goTo=function(A){var R=this.getRow(),I=this.session.getLength()-1;switch(A){case"up":R=R<=0?I:R-1;break;case"down":R=R>=I?-1:R+1;break;case"start":R=0;break;case"end":R=I;break}this.setRow(R)},_.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},_.$imageSize=0,_.$borderSize=1,_}return w}();o.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),i.AcePopup=g,i.$singleLineEditor=m,i.getAriaId=l}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(n,i,v){var u=function(){function y(c){this.editor=c,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return y.prototype.setScreenReaderContent=function(c){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var d=this.popup.getRow(),o=this.popup.renderer.$textLayer,r=o.element.childNodes[d-o.config.firstRow];if(r){for(var a="doc-tooltip ",l=0;l<this._lines.length;l++)a+="ace-inline-screenreader-line-".concat(l," ");r.setAttribute("aria-describedby",a)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=c.split(/\r\n|\r|\n/);var s=this.createCodeBlock();this.screenReaderDiv.appendChild(s)},y.prototype.destroy=function(){this.screenReaderDiv.remove()},y.prototype.createCodeBlock=function(){var c=document.createElement("pre");c.setAttribute("id","ace-inline-screenreader");for(var s=0;s<this._lines.length;s++){var d=document.createElement("code");d.setAttribute("id","ace-inline-screenreader-line-".concat(s));var o=document.createTextNode(this._lines[s]);d.appendChild(o),c.appendChild(d)}return c},y}();i.AceInlineScreenReader=u}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(n,i,v){var u=n("../snippets").snippetManager,y=n("./inline_screenreader").AceInlineScreenReader,c=function(){function s(){this.editor=null}return s.prototype.show=function(d,o,r){if(r=r||"",d&&this.editor&&this.editor!==d&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!d||!o)return!1;this.inlineScreenReader||(this.inlineScreenReader=new y(d));var a=o.snippet?u.getDisplayTextForSnippet(d,o.snippet):o.value;return o.hideInlinePreview||!a||!a.startsWith(r)?!1:(this.editor=d,this.inlineScreenReader.setScreenReaderContent(a),a=a.slice(r.length),a===""?d.removeGhostText():d.setGhostText(a),!0)},s.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},s.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},s.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},s}();i.AceInline=c}),ace.define("ace/autocomplete/util",["require","exports","module"],function(n,i,v){i.parForEach=function(y,c,s){var d=0,o=y.length;o===0&&s();for(var r=0;r<o;r++)c(y[r],function(a,l){d++,d===o&&s(a,l)})};var u=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;i.retrievePrecedingIdentifier=function(y,c,s){s=s||u;for(var d=[],o=c-1;o>=0&&s.test(y[o]);o--)d.push(y[o]);return d.reverse().join("")},i.retrieveFollowingIdentifier=function(y,c,s){s=s||u;for(var d=[],o=c;o<y.length&&s.test(y[o]);o++)d.push(y[o]);return d},i.getCompletionPrefix=function(y){var c=y.getCursorPosition(),s=y.session.getLine(c.row),d;return y.completers.forEach((function(o){o.identifierRegexps&&o.identifierRegexps.forEach((function(r){!d&&r&&(d=this.retrievePrecedingIdentifier(s,c.column,r))}).bind(this))}).bind(this)),d||this.retrievePrecedingIdentifier(s,c.column)},i.triggerAutocomplete=function(y,s){var s=s??y.session.getPrecedingCharacter();return y.completers.some(function(d){if(d.triggerCharacters&&Array.isArray(d.triggerCharacters))return d.triggerCharacters.includes(s)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(n,i,v){var u=n("./keyboard/hash_handler").HashHandler,y=n("./autocomplete/popup").AcePopup,c=n("./autocomplete/inline").AceInline,s=n("./autocomplete/popup").getAriaId,d=n("./autocomplete/util"),o=n("./lib/lang"),r=n("./lib/dom"),a=n("./snippets").snippetManager,l=n("./config"),h=n("./lib/event"),f=n("./lib/scroll").preventParentScroll,p=function(S,b){b.completer&&b.completer.destroy()},m=function(){function S(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new u,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=o.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=o.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=o.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=o.delayedCall((function(){var b=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!b||this.editor.completers.length===0||(this.completions=new w(S.completionsForLoading),this.openPopup(this.editor,b.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(S,"completionsForLoading",{get:function(){return[{caption:l.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),S.prototype.$init=function(){return this.popup=new y(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(b){this.insertMatch(),b.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),h.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},S.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new c,this.inlineRenderer},S.prototype.getPopup=function(){return this.popup||this.$init()},S.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},S.prototype.$seen=function(b){!this.hasSeen.has(b)&&b&&b.completer&&b.completer.onSeen&&typeof b.completer.onSeen=="function"&&(b.completer.onSeen(this.editor,b),this.hasSeen.add(b))},S.prototype.$onPopupChange=function(b){if(this.inlineRenderer&&this.inlineEnabled){var _=b?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(_),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},S.prototype.$updateGhostText=function(b){var _=this.base.row,x=this.base.column,C=this.editor.getCursorPosition().column,k=this.editor.session.getLine(_).slice(x,C);this.inlineRenderer.show(this.editor,b,k)?this.$seen(b):this.inlineRenderer.hide()},S.prototype.$onPopupRender=function(){var b=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var _=this.popup.getFirstVisibleRow();_<=this.popup.getLastVisibleRow();_++){var x=this.popup.getData(_);x&&(!b||x.hideInlinePreview)&&this.$seen(x)}},S.prototype.$onPopupShow=function(b){this.$onPopupChange(b),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},S.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var b=this.editor.container.parentNode,_=[];b;)_.push(b),b.addEventListener("scroll",this.onLayoutChange,{passive:!0}),b=b.parentNode;this.$elements=_}},S.prototype.unObserveLayoutChanges=function(){var b=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(_){_.removeEventListener("scroll",b.onLayoutChange,{passive:!0})}),this.$elements=null},S.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},S.prototype.$updatePopupPosition=function(){var b=this.editor,_=b.renderer,x=_.layerConfig.lineHeight,C=_.$cursorLayer.getPixelPosition(this.base,!0);C.left-=this.popup.getTextLeftOffset();var k=b.container.getBoundingClientRect();C.top+=k.top-_.layerConfig.offset,C.left+=k.left-b.renderer.scrollLeft,C.left+=_.gutterWidth;var M={top:C.top,left:C.left};_.$ghostText&&_.$ghostTextWidget&&this.base.row===_.$ghostText.position.row&&(M.top+=_.$ghostTextWidget.el.offsetHeight);var T=b.container.getBoundingClientRect().bottom-x,L=T<M.top?{top:T,left:M.left}:M;this.popup.tryShow(L,x,"bottom")||this.popup.tryShow(C,x,"top")||this.popup.show(C,x)},S.prototype.openPopup=function(b,_,x){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var C=this.popup.getRow(),k=this.popup.data[C];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:s(this.popup.getRow()),inline:this.inlineEnabled}),b.keyBinding.addKeyboardHandler(this.keyboardHandler);var M;this.stickySelection&&(M=this.popup.data.indexOf(k)),(!M||M===-1)&&(M=0),this.popup.setRow(this.autoSelect?M:-1),M===C&&k!==this.completions.filtered[M]&&this.$onPopupChange();var T=this.inlineRenderer&&this.inlineEnabled;if(M===C&&T){var L=this.popup.getData(this.popup.getRow());this.$updateGhostText(L)}x||(this.popup.setTheme(b.getTheme()),this.popup.setFontSize(b.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},S.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},S.prototype.changeListener=function(b){var _=this.editor.selection.lead;(_.row!=this.base.row||_.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},S.prototype.blurListener=function(b){var _=document.activeElement,x=this.editor.textInput.getElement(),C=b.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(b.relatedTarget),k=this.popup&&this.popup.container;_!=x&&_.parentNode!=k&&!C&&_!=this.tooltipNode&&b.relatedTarget!=x&&this.detach()},S.prototype.mousedownListener=function(b){this.detach()},S.prototype.mousewheelListener=function(b){this.popup&&!this.popup.isMouseOver&&this.detach()},S.prototype.mouseOutListener=function(b){this.popup.isOpen&&this.$updatePopupPosition()},S.prototype.goTo=function(b){this.popup.goTo(b)},S.prototype.insertMatch=function(b,_){if(b||(b=this.popup.getData(this.popup.getRow())),!b)return!1;if(b.value==="")return this.detach();var x=this.completions,C=this.getCompletionProvider().insertMatch(this.editor,b,x.filterText,_);return this.completions==x&&this.detach(),C},S.prototype.showPopup=function(b,_){this.editor&&this.detach(),this.activated=!0,this.editor=b,b.completer!=this&&(b.completer&&b.completer.detach(),b.completer=this),b.on("changeSelection",this.changeListener),b.on("blur",this.blurListener),b.on("mousedown",this.mousedownListener),b.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,_)},S.prototype.getCompletionProvider=function(b){return this.completionProvider||(this.completionProvider=new g(b)),this.completionProvider},S.prototype.gatherCompletions=function(b,_){return this.getCompletionProvider().gatherCompletions(b,_)},S.prototype.updateCompletions=function(b,_){if(b&&this.base&&this.completions){var C=this.editor.getCursorPosition(),k=this.editor.session.getTextRange({start:this.base,end:C});if(k==this.completions.filterText)return;if(this.completions.setFilter(k),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==k&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,k,b);return}if(_&&_.matches){var C=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(C.row,C.column),this.base.$insertRight=!0,this.completions=new w(_.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",b)}var x=this.editor.getSession(),C=this.editor.getCursorPosition(),k=d.getCompletionPrefix(this.editor);this.base=x.doc.createAnchor(C.row,C.column-k.length),this.base.$insertRight=!0;var M={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:k,pos:C}).provideCompletions(this.editor,M,(function(T,L,E){var A=L.filtered,R=d.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),E){if(!A.length){var I=!this.autoShown&&this.emptyMessage;if(typeof I=="function"&&(I=this.emptyMessage(R)),I){var D=[{caption:I,value:""}];this.completions=new w(D),this.openPopup(this.editor,R,b),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(A.length==1&&A[0].value==R&&!A[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&A.length==1)return this.insertMatch(A[0])}this.completions=!E&&this.showLoadingState?new w(S.completionsForLoading.concat(A),L.filterText):L,this.openPopup(this.editor,R,b),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!E)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},S.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},S.prototype.updateDocTooltip=function(){var b=this.popup,_=this.completions.filtered,x=_&&(_[b.getHoveredRow()]||_[b.getRow()]),C=null;if(!x||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var k=this.editor.completers.length,M=0;M<k;M++){var T=this.editor.completers[M];if(T.getDocTooltip&&x.completerId===T.id){C=T.getDocTooltip(x);break}}if(!C&&typeof x!="string"&&(C=x),typeof C=="string"&&(C={docText:C}),!C||!(C.docHTML||C.docText))return this.hideDocTooltip();this.showDocTooltip(C)},S.prototype.showDocTooltip=function(b){this.tooltipNode||(this.tooltipNode=r.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",f));var _=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(_.isDark?"ace_dark ":"")+(_.cssClass||"");var x=this.tooltipNode;b.docHTML?x.innerHTML=b.docHTML:b.docText&&(x.textContent=b.docText),x.parentNode||this.popup.container.appendChild(this.tooltipNode);var C=this.popup,k=C.container.getBoundingClientRect();x.style.top=C.container.style.top,x.style.bottom=C.container.style.bottom,x.style.display="block",window.innerWidth-k.right<320?k.left<320?C.isTopdown?(x.style.top=k.bottom+"px",x.style.left=k.left+"px",x.style.right="",x.style.bottom=""):(x.style.top=C.container.offsetTop-x.offsetHeight+"px",x.style.left=k.left+"px",x.style.right="",x.style.bottom=""):(x.style.right=window.innerWidth-k.left+"px",x.style.left=""):(x.style.left=k.right+1+"px",x.style.right="")},S.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var b=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==b&&this.editor.focus(),this.tooltipNode=null,b.parentNode&&b.parentNode.removeChild(b)}},S.prototype.onTooltipClick=function(b){for(var _=b.target;_&&_!=this.tooltipNode;){if(_.nodeName=="A"&&_.href){_.rel="noreferrer",_.target="_blank";break}_=_.parentNode}},S.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var b=this.popup.container;b&&b.parentNode&&b.parentNode.removeChild(b)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",p),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},S}();m.prototype.commands={Up:function(S){S.completer.goTo("up")},Down:function(S){S.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(S){S.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(S){S.completer.goTo("end")},Esc:function(S){S.completer.detach()},Return:function(S){return S.completer.insertMatch()},"Shift-Return":function(S){S.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(S){var b=S.completer.insertMatch();if(!b&&!S.tabstopManager)S.completer.goTo("down");else return b},Backspace:function(S){S.execCommand("backspace");var b=d.getCompletionPrefix(S);!b&&S.completer&&S.completer.detach()},PageUp:function(S){S.completer.popup.gotoPageUp()},PageDown:function(S){S.completer.popup.gotoPageDown()}},m.for=function(S){return S.completer instanceof m||(S.completer&&(S.completer.destroy(),S.completer=null),l.get("sharedPopups")?(m.$sharedInstance||(m.$sharedInstance=new m),S.completer=m.$sharedInstance):(S.completer=new m,S.once("destroy",p))),S.completer},m.startCommand={name:"startAutocomplete",exec:function(S,b){var _=m.for(S);_.autoInsert=!1,_.autoSelect=!0,_.autoShown=!1,_.showPopup(S,b),_.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var g=function(){function S(b){this.initialPosition=b,this.active=!0}return S.prototype.insertByIndex=function(b,_,x){return!this.completions||!this.completions.filtered?!1:this.insertMatch(b,this.completions.filtered[_],x)},S.prototype.insertMatch=function(b,_,x){if(!_)return!1;if(b.startOperation({command:{name:"insertMatch"}}),_.completer&&_.completer.insertMatch)_.completer.insertMatch(b,_);else{if(!this.completions)return!1;var C=this.completions.filterText.length,k=0;if(_.range&&_.range.start.row===_.range.end.row&&(C-=this.initialPosition.prefix.length,C+=this.initialPosition.pos.column-_.range.start.column,k+=_.range.end.column-this.initialPosition.pos.column),C||k){var M;b.selection.getAllRanges?M=b.selection.getAllRanges():M=[b.getSelectionRange()];for(var T=0,L;L=M[T];T++)L.start.column-=C,L.end.column+=k,b.session.remove(L)}_.snippet?a.insertSnippet(b,_.snippet):this.$insertString(b,_),_.completer&&_.completer.onInsert&&typeof _.completer.onInsert=="function"&&_.completer.onInsert(b,_),_.command&&_.command==="startAutocomplete"&&b.execCommand(_.command)}return b.endOperation(),!0},S.prototype.$insertString=function(b,_){var x=_.value||_;b.execCommand("insertstring",x)},S.prototype.gatherCompletions=function(b,_){var x=b.getSession(),C=b.getCursorPosition(),k=d.getCompletionPrefix(b),M=[];this.completers=b.completers;var T=b.completers.length;return b.completers.forEach(function(L,E){L.getCompletions(b,x,C,k,function(A,R){L.hideInlinePreview&&(R=R.map(function(I){return Object.assign(I,{hideInlinePreview:L.hideInlinePreview})})),!A&&R&&(M=M.concat(R)),_(null,{prefix:d.getCompletionPrefix(b),matches:M,finished:--T===0})})}),!0},S.prototype.provideCompletions=function(b,_,x){var C=(function(L){var E=L.prefix,A=L.matches;this.completions=new w(A),_.exactMatch&&(this.completions.exactMatch=!0),_.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(E),(L.finished||this.completions.filtered.length)&&x(null,this.completions,L.finished)}).bind(this),k=!0,M=null;if(this.gatherCompletions(b,(function(L,E){if(this.active){L&&(x(L,[],!0),this.detach());var A=E.prefix;if(A.indexOf(E.prefix)===0){if(k){M=E;return}C(E)}}}).bind(this)),k=!1,M){var T=M;M=null,C(T)}},S.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(b){typeof b.cancel=="function"&&b.cancel()})},S}(),w=function(){function S(b,_){this.all=b,this.filtered=b,this.filterText=_||"",this.exactMatch=!1,this.ignoreCaption=!1}return S.prototype.setFilter=function(b){if(b.length>this.filterText&&b.lastIndexOf(this.filterText,0)===0)var _=this.filtered;else var _=this.all;this.filterText=b,_=this.filterCompletions(_,this.filterText),_=_.sort(function(C,k){return k.exactMatch-C.exactMatch||k.$score-C.$score||(C.caption||C.value).localeCompare(k.caption||k.value)});var x=null;_=_.filter(function(C){var k=C.snippet||C.caption||C.value;return k===x?!1:(x=k,!0)}),this.filtered=_},S.prototype.filterCompletions=function(b,_){var x=[],C=_.toUpperCase(),k=_.toLowerCase();e:for(var M=0,T;T=b[M];M++){var L=!this.ignoreCaption&&T.caption||T.value||T.snippet;if(L){var E=-1,A=0,R=0,I,D;if(this.exactMatch){if(_!==L.substr(0,_.length))continue e}else{var P=L.toLowerCase().indexOf(k);if(P>-1)R=P;else for(var O=0;O<_.length;O++){var $=L.indexOf(k[O],E+1),N=L.indexOf(C[O],E+1);if(I=$>=0&&(N<0||$<N)?$:N,I<0)continue e;D=I-E-1,D>0&&(E===-1&&(R+=10),R+=D,A=A|1<<O),E=I}}T.matchMask=A,T.exactMatch=R?0:1,T.$score=(T.score||0)-R,x.push(T)}}return x},S}();i.Autocomplete=m,i.CompletionProvider=g,i.FilteredList=w}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(n,i,v){var u=n("../range").Range,y=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function c(d,o){var r=d.getTextRange(u.fromPoints({row:0,column:0},o));return r.split(y).length-1}function s(d,o){var r=c(d,o),a=d.getValue().split(y),l=Object.create(null),h=a[r];return a.forEach(function(f,p){if(!(!f||f===h)){var m=Math.abs(r-p),g=a.length-m;l[f]?l[f]=Math.max(g,l[f]):l[f]=g}}),l}i.getCompletions=function(d,o,r,a,l){var h=s(o,r),f=Object.keys(h);l(null,f.map(function(p){return{caption:p,value:p,score:h[p],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(n,i,v){var u=n("../snippets").snippetManager,y=n("../autocomplete").Autocomplete,c=n("../config"),s=n("../lib/lang"),d=n("../autocomplete/util"),o=n("../autocomplete/text_completer"),r={getCompletions:function(C,k,M,T,L){if(k.$mode.completer)return k.$mode.completer.getCompletions(C,k,M,T,L);var E=C.session.getState(M.row),A=k.$mode.getCompletions(E,k,M,T);A=A.map(function(R){return R.completerId=r.id,R}),L(null,A)},id:"keywordCompleter"},a=function(C){var k={};return C.replace(/\${(\d+)(:(.*?))?}/g,function(M,T,L,E){return k[T]=E||""}).replace(/\$(\d+?)/g,function(M,T){return k[T]})},l={getCompletions:function(C,k,M,T,L){var E=[],A=k.getTokenAt(M.row,M.column);A&&A.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?E.push("html-tag"):E=u.getActiveScopes(C);var R=u.snippetMap,I=[];E.forEach(function(D){for(var P=R[D]||[],O=P.length;O--;){var $=P[O],N=$.name||$.tabTrigger;N&&I.push({caption:N,snippet:$.content,meta:$.tabTrigger&&!$.name?$.tabTrigger+"⇥ ":"snippet",completerId:l.id})}},this),L(null,I)},getDocTooltip:function(C){C.snippet&&!C.docHTML&&(C.docHTML=["<b>",s.escapeHTML(C.caption),"</b>","<hr></hr>",s.escapeHTML(a(C.snippet))].join(""))},id:"snippetCompleter"},h=[l,o,r];i.setCompleters=function(C){h.length=0,C&&h.push.apply(h,C)},i.addCompleter=function(C){h.push(C)},i.textCompleter=o,i.keyWordCompleter=r,i.snippetCompleter=l;var f={name:"expandSnippet",exec:function(C){return u.expandWithTab(C)},bindKey:"Tab"},p=function(C,k){m(k.session.$mode)},m=function(C){typeof C=="string"&&(C=c.$modes[C]),C&&(u.files||(u.files={}),g(C.$id,C.snippetFileId),C.modes&&C.modes.forEach(m))},g=function(C,k){!k||!C||u.files[C]||(u.files[C]={},c.loadModule(k,function(M){M&&(u.files[C]=M,!M.snippets&&M.snippetText&&(M.snippets=u.parseSnippetFile(M.snippetText)),u.register(M.snippets||[],M.scope),M.includeScopes&&(u.snippetMap[M.scope].includeScopes=M.includeScopes,M.includeScopes.forEach(function(T){m("ace/mode/"+T)})))}))},w=function(C){var k=C.editor,M=k.completer&&k.completer.activated;if(C.command.name==="backspace")M&&!d.getCompletionPrefix(k)&&k.completer.detach();else if(C.command.name==="insertstring"&&!M){S=C;var T=C.editor.$liveAutocompletionDelay;T?b.delay(T):_(C)}},S,b=s.delayedCall(function(){_(S)},0),_=function(C){var k=C.editor,M=d.getCompletionPrefix(k),T=C.args,L=d.triggerAutocomplete(k,T);if(M&&M.length>=k.$liveAutocompletionThreshold||L){var E=y.for(k);E.autoShown=!0,E.showPopup(k)}},x=n("../editor").Editor;n("../config").defineOptions(x.prototype,"editor",{enableBasicAutocompletion:{set:function(C){C?(this.completers||(this.completers=Array.isArray(C)?C:h),this.commands.addCommand(y.startCommand)):this.commands.removeCommand(y.startCommand)},value:!1},enableLiveAutocompletion:{set:function(C){C?(this.completers||(this.completers=Array.isArray(C)?C:h),this.commands.on("afterExec",w)):this.commands.off("afterExec",w)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(C){C?(this.commands.addCommand(f),this.on("changeMode",p),p(null,this)):(this.commands.removeCommand(f),this.off("changeMode",p))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(n){e&&(e.exports=n)})}()})(o1);var a1={exports:{}};(function(e,t){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,i,v){var u=n("../lib/oop"),y=n("./text_highlight_rules").TextHighlightRules,c=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},c.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};u.inherits(c,y),c.getTagRule=function(s){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},c.getStartRule=function(s){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:s}},c.getEndRule=function(s){return{token:"comment.doc",regex:"\\*\\/",next:s}},i.JsDocCommentHighlightRules=c}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,i,v){var u=n("../lib/oop"),y=n("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,c=n("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",d=function(a){var l=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),h="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",f="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[y.getStartRule("doc-start"),r("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+h+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:l,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[y.getStartRule("doc-start"),r("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[r("function_arguments"),{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:f},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:f},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!a||!a.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(p,m,g){if(this.next=p=="{"?this.nextState:"",p=="{"&&g.length)g.unshift("start",m);else if(p=="}"&&g.length&&(g.shift(),this.next=g.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return p=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:f},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+s+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!a||a.jsx!=!1)&&o.call(this)),this.embedRules(y,"doc-",[y.getEndRule("no_regex")]),this.normalizeRules()};u.inherits(d,c);function o(){var a=s.replace("\\d","\\d\\-"),l={onMatch:function(f,p,m){var g=f.charAt(1)=="/"?2:1;return g==1?(p!=this.nextState?m.unshift(this.next,this.nextState,0):m.unshift(this.next),m[2]++):g==2&&p==this.nextState&&(m[1]--,(!m[1]||m[1]<0)&&(m.shift(),m.shift())),[{type:"meta.tag.punctuation."+(g==1?"":"end-")+"tag-open.xml",value:f.slice(0,g)},{type:"meta.tag.tag-name.xml",value:f.substr(g)}]},regex:"</?(?:"+a+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(l);var h={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[h,l,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(f,p,m){return p==m[0]&&m.shift(),f.length==2&&(m[0]==this.nextState&&m[1]--,(!m[1]||m[1]<0)&&m.splice(0,2)),this.next=m[0]||"start",[{type:this.token,value:f}]},nextState:"jsx"},h,r("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:a},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},l],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function r(a){return[{token:"comment",regex:/\/\*/,next:[y.getTagRule(),{token:"comment",regex:"\\*\\/",next:a||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[y.getTagRule(),{token:"comment",regex:"$|^",next:a||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.JavaScriptHighlightRules=d}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,i,v){var u=n("../range").Range,y=function(){};(function(){this.checkOutdent=function(c,s){return/^\s+$/.test(c)?/^\s*\}/.test(s):!1},this.autoOutdent=function(c,s){var d=c.getLine(s),o=d.match(/^(\s*\})/);if(!o)return 0;var r=o[1].length,a=c.findMatchingBracket({row:s,column:r});if(!a||a.row==s)return 0;var l=this.$getIndent(c.getLine(a.row));c.replace(new u(s,0,s,r-1),l)},this.$getIndent=function(c){return c.match(/^\s*/)[0]}}).call(y.prototype),i.MatchingBraceOutdent=y}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(n,i,v){var u=n("../../lib/oop"),y=n("../behaviour").Behaviour,c=n("../../token_iterator").TokenIterator;function s(o,r){return o&&o.type.lastIndexOf(r+".xml")>-1}var d=function(){this.add("string_dquotes","insertion",function(o,r,a,l,h){if(h=='"'||h=="'"){var f=h,p=l.doc.getTextRange(a.getSelectionRange());if(p!==""&&p!=="'"&&p!='"'&&a.getWrapBehavioursEnabled())return{text:f+p+f,selection:!1};var m=a.getCursorPosition(),g=l.doc.getLine(m.row),w=g.substring(m.column,m.column+1),S=new c(l,m.row,m.column),b=S.getCurrentToken();if(w==f&&(s(b,"attribute-value")||s(b,"string")))return{text:"",selection:[1,1]};if(b||(b=S.stepBackward()),!b)return;for(;s(b,"tag-whitespace")||s(b,"whitespace");)b=S.stepBackward();var _=!w||w.match(/\s/);if(s(b,"attribute-equals")&&(_||w==">")||s(b,"decl-attribute-equals")&&(_||w=="?"))return{text:f+f,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(o,r,a,l,h){var f=l.doc.getTextRange(h);if(!h.isMultiLine()&&(f=='"'||f=="'")){var p=l.doc.getLine(h.start.row),m=p.substring(h.start.column+1,h.start.column+2);if(m==f)return h.end.column++,h}}),this.add("autoclosing","insertion",function(o,r,a,l,h){if(h==">"){var f=a.getSelectionRange().start,p=new c(l,f.row,f.column),m=p.getCurrentToken()||p.stepBackward();if(!m||!(s(m,"tag-name")||s(m,"tag-whitespace")||s(m,"attribute-name")||s(m,"attribute-equals")||s(m,"attribute-value"))||s(m,"reference.attribute-value"))return;if(s(m,"attribute-value")){var g=p.getCurrentTokenColumn()+m.value.length;if(f.column<g)return;if(f.column==g){var w=p.stepForward();if(w&&s(w,"attribute-value"))return;p.stepBackward()}}if(/^\s*>/.test(l.getLine(f.row).slice(f.column)))return;for(;!s(m,"tag-name");)if(m=p.stepBackward(),m.value=="<"){m=p.stepForward();break}var S=p.getCurrentTokenRow(),b=p.getCurrentTokenColumn();if(s(p.stepBackward(),"end-tag-open"))return;var _=m.value;return S==f.row&&(_=_.substring(0,f.column-b)),this.voidElements&&this.voidElements.hasOwnProperty(_.toLowerCase())?void 0:{text:"></"+_+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(o,r,a,l,h){if(h==`
`){var f=a.getCursorPosition(),p=l.getLine(f.row),m=new c(l,f.row,f.column),g=m.getCurrentToken();if(s(g,"")&&g.type.indexOf("tag-close")!==-1){if(g.value=="/>")return;for(;g&&g.type.indexOf("tag-name")===-1;)g=m.stepBackward();if(!g)return;var w=g.value,S=m.getCurrentTokenRow();if(g=m.stepBackward(),!g||g.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[w]||!this.voidElements){var b=l.getTokenAt(f.row,f.column+1),p=l.getLine(S),_=this.$getIndent(p),x=_+l.getTabString();return b&&b.value==="</"?{text:`
`+x+`
`+_,selection:[1,x.length,1,x.length]}:{text:`
`+x}}}}})};u.inherits(d,y),i.XmlBehaviour=d}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(n,i,v){var u=n("../../lib/oop"),y=n("../../token_iterator").TokenIterator,c=n("../behaviour/cstyle").CstyleBehaviour,s=n("../behaviour/xml").XmlBehaviour,d=function(){var o=new s({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(o),this.inherit(c),this.add("autoclosing-fragment","insertion",function(r,a,l,h,f){if(f==">"){var p=l.getSelectionRange().start,m=new y(h,p.row,p.column),g=m.getCurrentToken()||m.stepBackward();if(!g)return;if(g.value=="<")return{text:"></>",selection:[1,1]}}})};u.inherits(d,c),i.JavaScriptBehaviour=d}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,i,v){var u=n("../../lib/oop"),y=n("../../range").Range,c=n("./fold_mode").FoldMode,s=i.FoldMode=function(r,a){c.call(this),this.voidElements=r||{},this.optionalEndTags=u.mixin({},this.voidElements),a&&u.mixin(this.optionalEndTags,a)};u.inherits(s,c);var d=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function o(r,a){return r.type.lastIndexOf(a+".xml")>-1}(function(){this.getFoldWidget=function(r,a,l){var h=this._getFirstTagInLine(r,l);return h?h.closing||!h.tagName&&h.selfClosing?a==="markbeginend"?"end":"":!h.tagName||h.selfClosing||this.voidElements.hasOwnProperty(h.tagName.toLowerCase())||this._findEndTagInLine(r,l,h.tagName,h.end.column)?"":"start":this.getCommentFoldWidget(r,l)},this.getCommentFoldWidget=function(r,a){return/comment/.test(r.getState(a))&&/<!-/.test(r.getLine(a))?"start":""},this._getFirstTagInLine=function(r,a){for(var l=r.getTokens(a),h=new d,f=0;f<l.length;f++){var p=l[f];if(o(p,"tag-open")){if(h.end.column=h.start.column+p.value.length,h.closing=o(p,"end-tag-open"),p=l[++f],!p)return null;if(h.tagName=p.value,p.value===""){if(p=l[++f],!p)return null;h.tagName=p.value}for(h.end.column+=p.value.length,f++;f<l.length;f++)if(p=l[f],h.end.column+=p.value.length,o(p,"tag-close")){h.selfClosing=p.value=="/>";break}return h}else if(o(p,"tag-close"))return h.selfClosing=p.value=="/>",h;h.start.column+=p.value.length}return null},this._findEndTagInLine=function(r,a,l,h){for(var f=r.getTokens(a),p=0,m=0;m<f.length;m++){var g=f[m];if(p+=g.value.length,!(p<h-1)&&o(g,"end-tag-open")&&(g=f[m+1],o(g,"tag-name")&&g.value===""&&(g=f[m+2]),g&&g.value==l))return!0}return!1},this.getFoldWidgetRange=function(r,a,l){var h=r.getMatchingTags({row:l,column:0});return h?new y(h.openTag.end.row,h.openTag.end.column,h.closeTag.start.row,h.closeTag.start.column):this.getCommentFoldWidget(r,l)&&r.getCommentFoldRange(l,r.getLine(l).length)}}).call(s.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,i,v){var u=n("../../lib/oop"),y=n("../../range").Range,c=n("./fold_mode").FoldMode,s=i.FoldMode=function(d){d&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+d.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+d.end)))};u.inherits(s,c),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(d,o,r){var a=d.getLine(r);if(this.singleLineBlockCommentRe.test(a)&&!this.startRegionRe.test(a)&&!this.tripleStarBlockCommentRe.test(a))return"";var l=this._getFoldWidgetBase(d,o,r);return!l&&this.startRegionRe.test(a)?"start":l},this.getFoldWidgetRange=function(d,o,r,a){var l=d.getLine(r);if(this.startRegionRe.test(l))return this.getCommentRegionBlock(d,l,r);var p=l.match(this.foldingStartMarker);if(p){var h=p.index;if(p[1])return this.openingBracketBlock(d,p[1],r,h);var f=d.getCommentFoldRange(r,h+p[0].length,1);return f&&!f.isMultiLine()&&(a?f=this.getSectionRange(d,r):o!="all"&&(f=null)),f}if(o!=="markbegin"){var p=l.match(this.foldingStopMarker);if(p){var h=p.index+p[0].length;return p[1]?this.closingBracketBlock(d,p[1],r,h):d.getCommentFoldRange(r,h,-1)}}},this.getSectionRange=function(d,o){var r=d.getLine(o),a=r.search(/\S/),l=o,h=r.length;o=o+1;for(var f=o,p=d.getLength();++o<p;){r=d.getLine(o);var m=r.search(/\S/);if(m!==-1){if(a>m)break;var g=this.getFoldWidgetRange(d,"all",o);if(g){if(g.start.row<=l)break;if(g.isMultiLine())o=g.end.row;else if(a==m)break}f=o}}return new y(l,h,f,d.getLine(f).length)},this.getCommentRegionBlock=function(d,o,r){for(var a=o.search(/\s*$/),l=d.getLength(),h=r,f=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,p=1;++r<l;){o=d.getLine(r);var m=f.exec(o);if(m&&(m[1]?p--:p++,!p))break}var g=r;if(g>h)return new y(h,a,g,o.length)}}).call(s.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(n,i,v){var u=n("../../lib/oop"),y=n("./xml").FoldMode,c=n("./cstyle").FoldMode,s=i.FoldMode=function(d){d&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+d.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+d.end))),this.xmlFoldMode=new y};u.inherits(s,c),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(d,o,r){var a=this.getFoldWidgetBase(d,o,r);return a||this.xmlFoldMode.getFoldWidget(d,o,r)},this.getFoldWidgetRange=function(d,o,r,a){var l=this.getFoldWidgetRangeBase(d,o,r,a);return l||this.xmlFoldMode.getFoldWidgetRange(d,o,r)}}).call(s.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(n,i,v){var u=n("../lib/oop"),y=n("./text").Mode,c=n("./javascript_highlight_rules").JavaScriptHighlightRules,s=n("./matching_brace_outdent").MatchingBraceOutdent,d=n("../worker/worker_client").WorkerClient,o=n("./behaviour/javascript").JavaScriptBehaviour,r=n("./folding/javascript").FoldMode,a=function(){this.HighlightRules=c,this.$outdent=new s,this.$behaviour=new o,this.foldingRules=new r};u.inherits(a,y),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(l,h,f){var p=this.$getIndent(h),m=this.getTokenizer().getLineTokens(h,l),g=m.tokens,w=m.state;if(g.length&&g[g.length-1].type=="comment")return p;if(l=="start"||l=="no_regex"){var S=h.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);S&&(p+=f)}else if(l=="doc-start"){if(w=="start"||w=="no_regex")return"";var S=h.match(/^\s*(\/?)\*/);S&&(S[1]&&(p+=" "),p+="* ")}return p},this.checkOutdent=function(l,h,f){return this.$outdent.checkOutdent(h,f)},this.autoOutdent=function(l,h,f){this.$outdent.autoOutdent(h,f)},this.createWorker=function(l){var h=new d(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return h.attachToDocument(l.getDocument()),h.on("annotate",function(f){l.setAnnotations(f.data)}),h.on("terminate",function(){l.clearAnnotations()}),h},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(a.prototype),i.Mode=a}),function(){ace.require(["ace/mode/javascript"],function(n){e&&(e.exports=n)})}()})(a1);var l1={exports:{}};(function(e,t){ace.define("ace/theme/github-css",["require","exports","module"],function(n,i,v){v.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],function(n,i,v){i.isDark=!1,i.cssClass="ace-github",i.cssText=n("./github-css");var u=n("../lib/dom");u.importCssString(i.cssText,i.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(n){e&&(e.exports=n)})}()})(l1);const tv=({fileName:e,nodes:t,onSelect:n,path:i,selectedFile:v})=>{const[u,y]=pe.useState(!1),c=!!t,s=i===v,d=()=>{c&&y(!u)};return te.jsxs("div",{className:"mb-2",children:[te.jsxs("div",{onClick:o=>{o.stopPropagation(),d(),c||n(i)},className:`flex items-center cursor-pointer ${c?"text-[#d4d4d4]":s?"bg-[#00aaff] text-black font-semibold p-1 rounded-md mr-5":"text-white hover:text-[#00aaff]"}`,children:[c?te.jsx("svg",{className:`w-4 h-4 mr-2 transform transition-transform ${u?"rotate-90":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:te.jsx("path",{d:"M10 6L16 12L10 18"})}):te.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:te.jsx("path",{d:"M14 2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V8L14 2Z"})}),e]}),u&&te.jsx("div",{className:"ml-4",children:t&&Object.keys(t).map(o=>te.jsx(tv,{fileName:o,nodes:t[o],onSelect:n,path:`${i}/${o}`,selectedFile:v},o))})]})},c1=({tree:e,onSelect:t,selectedFile:n})=>te.jsx("div",{className:"space-y-2 bg-[#1f1f1f] text-white p-4 overflow-y-auto w-72 border-r border-white",children:te.jsx(tv,{onSelect:t,fileName:"/",path:"",nodes:e,selectedFile:n})});var nv={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(globalThis,()=>(()=>{var n={4567:function(y,c,s){var d=this&&this.__decorate||function(g,w,S,b){var _,x=arguments.length,C=x<3?w:b===null?b=Object.getOwnPropertyDescriptor(w,S):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,w,S,b);else for(var k=g.length-1;k>=0;k--)(_=g[k])&&(C=(x<3?_(C):x>3?_(w,S,C):_(w,S))||C);return x>3&&C&&Object.defineProperty(w,S,C),C},o=this&&this.__param||function(g,w){return function(S,b){w(S,b,g)}};Object.defineProperty(c,"__esModule",{value:!0}),c.AccessibilityManager=void 0;const r=s(9042),a=s(9924),l=s(844),h=s(4725),f=s(2585),p=s(3656);let m=c.AccessibilityManager=class extends l.Disposable{constructor(g,w,S,b){super(),this._terminal=g,this._coreBrowserService=S,this._renderService=b,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let _=0;_<this._terminal.rows;_++)this._rowElements[_]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[_]);if(this._topBoundaryFocusListener=_=>this._handleBoundaryFocus(_,0),this._bottomBoundaryFocusListener=_=>this._handleBoundaryFocus(_,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new a.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(_=>this._handleResize(_.rows))),this.register(this._terminal.onRender(_=>this._refreshRows(_.start,_.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(_=>this._handleChar(_))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(_=>this._handleTab(_))),this.register(this._terminal.onKey(_=>this._handleKey(_.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,p.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,l.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(g){for(let w=0;w<g;w++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,g===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=r.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(g){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(g)||this._charsToConsume.push(g)}_refreshRows(g,w){this._liveRegionDebouncer.refresh(g,w,this._terminal.rows)}_renderRows(g,w){const S=this._terminal.buffer,b=S.lines.length.toString();for(let _=g;_<=w;_++){const x=S.lines.get(S.ydisp+_),C=[],k=(x==null?void 0:x.translateToString(!0,void 0,void 0,C))||"",M=(S.ydisp+_+1).toString(),T=this._rowElements[_];T&&(k.length===0?(T.innerText=" ",this._rowColumns.set(T,[0,1])):(T.textContent=k,this._rowColumns.set(T,C)),T.setAttribute("aria-posinset",M),T.setAttribute("aria-setsize",b))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(g,w){const S=g.target,b=this._rowElements[w===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(w===0?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==b)return;let _,x;if(w===0?(_=S,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(_=this._rowElements.shift(),x=S,this._rowContainer.removeChild(_)),_.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),w===0){const C=this._createAccessibilityTreeNode();this._rowElements.unshift(C),this._rowContainer.insertAdjacentElement("afterbegin",C)}else{const C=this._createAccessibilityTreeNode();this._rowElements.push(C),this._rowContainer.appendChild(C)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(w===0?-1:1),this._rowElements[w===0?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleSelectionChange(){var k;if(this._rowElements.length===0)return;const g=document.getSelection();if(!g)return;if(g.isCollapsed)return void(this._rowContainer.contains(g.anchorNode)&&this._terminal.clearSelection());if(!g.anchorNode||!g.focusNode)return void console.error("anchorNode and/or focusNode are null");let w={node:g.anchorNode,offset:g.anchorOffset},S={node:g.focusNode,offset:g.focusOffset};if((w.node.compareDocumentPosition(S.node)&Node.DOCUMENT_POSITION_PRECEDING||w.node===S.node&&w.offset>S.offset)&&([w,S]=[S,w]),w.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(w={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(w.node))return;const b=this._rowElements.slice(-1)[0];if(S.node.compareDocumentPosition(b)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(S={node:b,offset:((k=b.textContent)==null?void 0:k.length)??0}),!this._rowContainer.contains(S.node))return;const _=({node:M,offset:T})=>{const L=M instanceof Text?M.parentNode:M;let E=parseInt(L==null?void 0:L.getAttribute("aria-posinset"),10)-1;if(isNaN(E))return console.warn("row is invalid. Race condition?"),null;const A=this._rowColumns.get(L);if(!A)return console.warn("columns is null. Race condition?"),null;let R=T<A.length?A[T]:A.slice(-1)[0]+1;return R>=this._terminal.cols&&(++E,R=0),{row:E,column:R}},x=_(w),C=_(S);if(x&&C){if(x.row>C.row||x.row===C.row&&x.column>=C.column)throw new Error("invalid range");this._terminal.select(x.column,x.row,(C.row-x.row)*this._terminal.cols-x.column+C.column)}}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let w=this._rowContainer.children.length;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=this._coreBrowserService.mainDocument.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}};c.AccessibilityManager=m=d([o(1,f.IInstantiationService),o(2,h.ICoreBrowserService),o(3,h.IRenderService)],m)},3614:(y,c)=>{function s(a){return a.replace(/\r?\n/g,"\r")}function d(a,l){return l?"\x1B[200~"+a+"\x1B[201~":a}function o(a,l,h,f){a=d(a=s(a),h.decPrivateModes.bracketedPasteMode&&f.rawOptions.ignoreBracketedPasteMode!==!0),h.triggerDataEvent(a,!0),l.value=""}function r(a,l,h){const f=h.getBoundingClientRect(),p=a.clientX-f.left-10,m=a.clientY-f.top-10;l.style.width="20px",l.style.height="20px",l.style.left=`${p}px`,l.style.top=`${m}px`,l.style.zIndex="1000",l.focus()}Object.defineProperty(c,"__esModule",{value:!0}),c.rightClickHandler=c.moveTextAreaUnderMouseCursor=c.paste=c.handlePasteEvent=c.copyHandler=c.bracketTextForPaste=c.prepareTextForTerminal=void 0,c.prepareTextForTerminal=s,c.bracketTextForPaste=d,c.copyHandler=function(a,l){a.clipboardData&&a.clipboardData.setData("text/plain",l.selectionText),a.preventDefault()},c.handlePasteEvent=function(a,l,h,f){a.stopPropagation(),a.clipboardData&&o(a.clipboardData.getData("text/plain"),l,h,f)},c.paste=o,c.moveTextAreaUnderMouseCursor=r,c.rightClickHandler=function(a,l,h,f,p){r(a,l,h),p&&f.rightClickSelect(a),l.value=f.selectionText,l.select()}},7239:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorContrastCache=void 0;const d=s(1505);c.ColorContrastCache=class{constructor(){this._color=new d.TwoKeyMap,this._css=new d.TwoKeyMap}setCss(o,r,a){this._css.set(o,r,a)}getCss(o,r){return this._css.get(o,r)}setColor(o,r,a){this._color.set(o,r,a)}getColor(o,r){return this._color.get(o,r)}clear(){this._color.clear(),this._css.clear()}}},3656:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.addDisposableDomListener=void 0,c.addDisposableDomListener=function(s,d,o,r){s.addEventListener(d,o,r);let a=!1;return{dispose:()=>{a||(a=!0,s.removeEventListener(d,o,r))}}}},3551:function(y,c,s){var d=this&&this.__decorate||function(m,g,w,S){var b,_=arguments.length,x=_<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(m,g,w,S);else for(var C=m.length-1;C>=0;C--)(b=m[C])&&(x=(_<3?b(x):_>3?b(g,w,x):b(g,w))||x);return _>3&&x&&Object.defineProperty(g,w,x),x},o=this&&this.__param||function(m,g){return function(w,S){g(w,S,m)}};Object.defineProperty(c,"__esModule",{value:!0}),c.Linkifier=void 0;const r=s(3656),a=s(8460),l=s(844),h=s(2585),f=s(4725);let p=c.Linkifier=class extends l.Disposable{get currentLink(){return this._currentLink}constructor(m,g,w,S,b){super(),this._element=m,this._mouseService=g,this._renderService=w,this._bufferService=S,this._linkProviderService=b,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new a.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new a.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,l.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,l.toDisposable)(()=>{var _;this._lastMouseEvent=void 0,(_=this._activeProviderReplies)==null||_.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,r.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,r.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,r.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,r.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){this._lastMouseEvent=m;const g=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!g)return;this._isMouseOut=!1;const w=m.composedPath();for(let S=0;S<w.length;S++){const b=w[S];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&g.x===this._lastBufferCell.x&&g.y===this._lastBufferCell.y||(this._handleHover(g),this._lastBufferCell=g)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,g){var S,b;this._activeProviderReplies&&g||((S=this._activeProviderReplies)==null||S.forEach(_=>{_==null||_.forEach(x=>{x.link.dispose&&x.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=m.y);let w=!1;for(const[_,x]of this._linkProviderService.linkProviders.entries())g?(b=this._activeProviderReplies)!=null&&b.get(_)&&(w=this._checkLinkProviderResult(_,m,w)):x.provideLinks(m.y,C=>{var M,T;if(this._isMouseOut)return;const k=C==null?void 0:C.map(L=>({link:L}));(M=this._activeProviderReplies)==null||M.set(_,k),w=this._checkLinkProviderResult(_,m,w),((T=this._activeProviderReplies)==null?void 0:T.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)})}_removeIntersectingLinks(m,g){const w=new Set;for(let S=0;S<g.size;S++){const b=g.get(S);if(b)for(let _=0;_<b.length;_++){const x=b[_],C=x.link.range.start.y<m?0:x.link.range.start.x,k=x.link.range.end.y>m?this._bufferService.cols:x.link.range.end.x;for(let M=C;M<=k;M++){if(w.has(M)){b.splice(_--,1);break}w.add(M)}}}}_checkLinkProviderResult(m,g,w){var _;if(!this._activeProviderReplies)return w;const S=this._activeProviderReplies.get(m);let b=!1;for(let x=0;x<m;x++)this._activeProviderReplies.has(x)&&!this._activeProviderReplies.get(x)||(b=!0);if(!b&&S){const x=S.find(C=>this._linkAtPosition(C.link,g));x&&(w=!0,this._handleNewLink(x))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!w)for(let x=0;x<this._activeProviderReplies.size;x++){const C=(_=this._activeProviderReplies.get(x))==null?void 0:_.find(k=>this._linkAtPosition(k.link,g));if(C){w=!0,this._handleNewLink(C);break}}return w}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._currentLink)return;const g=this._positionFromMouseEvent(m,this._element,this._mouseService);g&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,g)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,g){this._currentLink&&this._lastMouseEvent&&(!m||!g||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=g)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,l.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._lastMouseEvent)return;const g=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);g&&this._linkAtPosition(m.link,g)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var w,S;return(S=(w=this._currentLink)==null?void 0:w.state)==null?void 0:S.decorations.pointerCursor},set:w=>{var S;(S=this._currentLink)!=null&&S.state&&this._currentLink.state.decorations.pointerCursor!==w&&(this._currentLink.state.decorations.pointerCursor=w,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",w))}},underline:{get:()=>{var w,S;return(S=(w=this._currentLink)==null?void 0:w.state)==null?void 0:S.decorations.underline},set:w=>{var S,b,_;(S=this._currentLink)!=null&&S.state&&((_=(b=this._currentLink)==null?void 0:b.state)==null?void 0:_.decorations.underline)!==w&&(this._currentLink.state.decorations.underline=w,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,w))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(w=>{if(!this._currentLink)return;const S=w.start===0?0:w.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+w.end;if(this._currentLink.link.range.start.y>=S&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(S,b),this._lastMouseEvent)){const _=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);_&&this._askForLink(_,!1)}})))}_linkHover(m,g,w){var S;(S=this._currentLink)!=null&&S.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),g.hover&&g.hover(w,g.text)}_fireUnderlineEvent(m,g){const w=m.range,S=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(w.start.x-1,w.start.y-S-1,w.end.x,w.end.y-S-1,void 0);(g?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(m,g,w){var S;(S=this._currentLink)!=null&&S.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),g.leave&&g.leave(w,g.text)}_linkAtPosition(m,g){const w=m.range.start.y*this._bufferService.cols+m.range.start.x,S=m.range.end.y*this._bufferService.cols+m.range.end.x,b=g.y*this._bufferService.cols+g.x;return w<=b&&b<=S}_positionFromMouseEvent(m,g,w){const S=w.getCoords(m,g,this._bufferService.cols,this._bufferService.rows);if(S)return{x:S[0],y:S[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,g,w,S,b){return{x1:m,y1:g,x2:w,y2:S,cols:this._bufferService.cols,fg:b}}};c.Linkifier=p=d([o(1,f.IMouseService),o(2,f.IRenderService),o(3,h.IBufferService),o(4,f.ILinkProviderService)],p)},9042:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.tooMuchOutput=c.promptLabel=void 0,c.promptLabel="Terminal input",c.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(y,c,s){var d=this&&this.__decorate||function(f,p,m,g){var w,S=arguments.length,b=S<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,m):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,p,m,g);else for(var _=f.length-1;_>=0;_--)(w=f[_])&&(b=(S<3?w(b):S>3?w(p,m,b):w(p,m))||b);return S>3&&b&&Object.defineProperty(p,m,b),b},o=this&&this.__param||function(f,p){return function(m,g){p(m,g,f)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OscLinkProvider=void 0;const r=s(511),a=s(2585);let l=c.OscLinkProvider=class{constructor(f,p,m){this._bufferService=f,this._optionsService=p,this._oscLinkService=m}provideLinks(f,p){var k;const m=this._bufferService.buffer.lines.get(f-1);if(!m)return void p(void 0);const g=[],w=this._optionsService.rawOptions.linkHandler,S=new r.CellData,b=m.getTrimmedLength();let _=-1,x=-1,C=!1;for(let M=0;M<b;M++)if(x!==-1||m.hasContent(M)){if(m.loadCell(M,S),S.hasExtendedAttrs()&&S.extended.urlId){if(x===-1){x=M,_=S.extended.urlId;continue}C=S.extended.urlId!==_}else x!==-1&&(C=!0);if(C||x!==-1&&M===b-1){const T=(k=this._oscLinkService.getLinkData(_))==null?void 0:k.uri;if(T){const L={start:{x:x+1,y:f},end:{x:M+(C||M!==b-1?0:1),y:f}};let E=!1;if(!(w!=null&&w.allowNonHttpProtocols))try{const A=new URL(T);["http:","https:"].includes(A.protocol)||(E=!0)}catch{E=!0}E||g.push({text:T,range:L,activate:(A,R)=>w?w.activate(A,R,L):h(0,R),hover:(A,R)=>{var I;return(I=w==null?void 0:w.hover)==null?void 0:I.call(w,A,R,L)},leave:(A,R)=>{var I;return(I=w==null?void 0:w.leave)==null?void 0:I.call(w,A,R,L)}})}C=!1,S.hasExtendedAttrs()&&S.extended.urlId?(x=M,_=S.extended.urlId):(x=-1,_=-1)}}p(g)}};function h(f,p){if(confirm(`Do you want to navigate to ${p}?

WARNING: This link could potentially be dangerous`)){const m=window.open();if(m){try{m.opener=null}catch{}m.location.href=p}else console.warn("Opening link blocked as opener could not be cleared")}}c.OscLinkProvider=l=d([o(0,a.IBufferService),o(1,a.IOptionsService),o(2,a.IOscLinkService)],l)},6193:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.RenderDebouncer=void 0,c.RenderDebouncer=class{constructor(s,d){this._renderCallback=s,this._coreBrowserService=d,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(s){return this._refreshCallbacks.push(s),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(s,d,o){this._rowCount=o,s=s!==void 0?s:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,s):s,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const s=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(s,d),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const s of this._refreshCallbacks)s(0);this._refreshCallbacks=[]}}},3236:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Terminal=void 0;const d=s(3614),o=s(3656),r=s(3551),a=s(9042),l=s(3730),h=s(1680),f=s(3107),p=s(5744),m=s(2950),g=s(1296),w=s(428),S=s(4269),b=s(5114),_=s(8934),x=s(3230),C=s(9312),k=s(4725),M=s(6731),T=s(8055),L=s(8969),E=s(8460),A=s(844),R=s(6114),I=s(8437),D=s(2584),P=s(7399),O=s(5941),$=s(9074),N=s(2585),H=s(5435),B=s(4567),z=s(779);class U extends L.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(W={}){super(W),this.browser=R,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new A.MutableDisposable),this._onCursorMove=this.register(new E.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new E.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new E.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new E.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new E.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new E.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new E.EventEmitter),this._onBlur=this.register(new E.EventEmitter),this._onA11yCharEmitter=this.register(new E.EventEmitter),this._onA11yTabEmitter=this.register(new E.EventEmitter),this._onWillOpen=this.register(new E.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance($.DecorationService),this._instantiationService.setService(N.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(z.LinkProviderService),this._instantiationService.setService(k.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(l.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((F,Y)=>this.refresh(F,Y))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(F=>this._reportWindowsOptions(F))),this.register(this._inputHandler.onColor(F=>this._handleColorEvent(F))),this.register((0,E.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,E.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,E.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,E.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(F=>this._afterResize(F.cols,F.rows))),this.register((0,A.toDisposable)(()=>{var F,Y;this._customKeyEventHandler=void 0,(Y=(F=this.element)==null?void 0:F.parentNode)==null||Y.removeChild(this.element)}))}_handleColorEvent(W){if(this._themeService)for(const F of W){let Y,G="";switch(F.index){case 256:Y="foreground",G="10";break;case 257:Y="background",G="11";break;case 258:Y="cursor",G="12";break;default:Y="ansi",G="4;"+F.index}switch(F.type){case 0:const Q=T.color.toColorRGB(Y==="ansi"?this._themeService.colors.ansi[F.index]:this._themeService.colors[Y]);this.coreService.triggerDataEvent(`${D.C0.ESC}]${G};${(0,O.toRgbString)(Q)}${D.C1_ESCAPED.ST}`);break;case 1:if(Y==="ansi")this._themeService.modifyColors(J=>J.ansi[F.index]=T.channels.toColor(...F.color));else{const J=Y;this._themeService.modifyColors(ce=>ce[J]=T.channels.toColor(...F.color))}break;case 2:this._themeService.restoreColor(F.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(W){W?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(B.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(W){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(D.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var W;return(W=this.textarea)==null?void 0:W.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(D.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const W=this.buffer.ybase+this.buffer.y,F=this.buffer.lines.get(W);if(!F)return;const Y=Math.min(this.buffer.x,this.cols-1),G=this._renderService.dimensions.css.cell.height,Q=F.getWidth(Y),J=this._renderService.dimensions.css.cell.width*Q,ce=this.buffer.y*this._renderService.dimensions.css.cell.height,me=Y*this._renderService.dimensions.css.cell.width;this.textarea.style.left=me+"px",this.textarea.style.top=ce+"px",this.textarea.style.width=J+"px",this.textarea.style.height=G+"px",this.textarea.style.lineHeight=G+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,o.addDisposableDomListener)(this.element,"copy",F=>{this.hasSelection()&&(0,d.copyHandler)(F,this._selectionService)}));const W=F=>(0,d.handlePasteEvent)(F,this.textarea,this.coreService,this.optionsService);this.register((0,o.addDisposableDomListener)(this.textarea,"paste",W)),this.register((0,o.addDisposableDomListener)(this.element,"paste",W)),R.isFirefox?this.register((0,o.addDisposableDomListener)(this.element,"mousedown",F=>{F.button===2&&(0,d.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,o.addDisposableDomListener)(this.element,"contextmenu",F=>{(0,d.rightClickHandler)(F,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),R.isLinux&&this.register((0,o.addDisposableDomListener)(this.element,"auxclick",F=>{F.button===1&&(0,d.moveTextAreaUnderMouseCursor)(F,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,o.addDisposableDomListener)(this.textarea,"keyup",W=>this._keyUp(W),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"keydown",W=>this._keyDown(W),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"keypress",W=>this._keyPress(W),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionupdate",W=>this._compositionHelper.compositionupdate(W))),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,o.addDisposableDomListener)(this.textarea,"input",W=>this._inputEvent(W),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(W){var Y;if(!W)throw new Error("Terminal requires a parent element.");if(W.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((Y=this.element)==null?void 0:Y.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=W.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),W.appendChild(this.element);const F=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),F.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,o.addDisposableDomListener)(this.screenElement,"mousemove",G=>this.updateCursorStyle(G))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),F.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",a.promptLabel),R.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(b.CoreBrowserService,this.textarea,W.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,o.addDisposableDomListener)(this.textarea,"focus",G=>this._handleTextAreaFocus(G))),this.register((0,o.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(w.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(M.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(S.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(x.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(G=>this._onRender.fire(G))),this.onResize(G=>this._renderService.resize(G.cols,G.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(m.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(_.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(r.Linkifier,this.screenElement)),this.element.appendChild(F);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(h.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(G=>this.scrollLines(G.amount,G.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(G=>this.scrollLines(G.amount,G.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(G=>this._renderService.handleSelectionChanged(G.start,G.end,G.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(G=>{this.textarea.value=G,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(G=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,o.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(f.BufferDecorationRenderer,this.screenElement)),this.register((0,o.addDisposableDomListener)(this.element,"mousedown",G=>this._selectionService.handleMouseDown(G))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(B.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",G=>this._handleScreenReaderModeOptionChange(G))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(p.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",G=>{!this._overviewRulerRenderer&&G&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(p.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(g.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const W=this,F=this.element;function Y(J){const ce=W._mouseService.getMouseReportCoords(J,W.screenElement);if(!ce)return!1;let me,de;switch(J.overrideType||J.type){case"mousemove":de=32,J.buttons===void 0?(me=3,J.button!==void 0&&(me=J.button<3?J.button:3)):me=1&J.buttons?0:4&J.buttons?1:2&J.buttons?2:3;break;case"mouseup":de=0,me=J.button<3?J.button:3;break;case"mousedown":de=1,me=J.button<3?J.button:3;break;case"wheel":if(W._customWheelEventHandler&&W._customWheelEventHandler(J)===!1||W.viewport.getLinesScrolled(J)===0)return!1;de=J.deltaY<0?0:1,me=4;break;default:return!1}return!(de===void 0||me===void 0||me>4)&&W.coreMouseService.triggerMouseEvent({col:ce.col,row:ce.row,x:ce.x,y:ce.y,button:me,action:de,ctrl:J.ctrlKey,alt:J.altKey,shift:J.shiftKey})}const G={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:J=>(Y(J),J.buttons||(this._document.removeEventListener("mouseup",G.mouseup),G.mousedrag&&this._document.removeEventListener("mousemove",G.mousedrag)),this.cancel(J)),wheel:J=>(Y(J),this.cancel(J,!0)),mousedrag:J=>{J.buttons&&Y(J)},mousemove:J=>{J.buttons||Y(J)}};this.register(this.coreMouseService.onProtocolChange(J=>{J?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(J)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&J?G.mousemove||(F.addEventListener("mousemove",Q.mousemove),G.mousemove=Q.mousemove):(F.removeEventListener("mousemove",G.mousemove),G.mousemove=null),16&J?G.wheel||(F.addEventListener("wheel",Q.wheel,{passive:!1}),G.wheel=Q.wheel):(F.removeEventListener("wheel",G.wheel),G.wheel=null),2&J?G.mouseup||(G.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",G.mouseup),G.mouseup=null),4&J?G.mousedrag||(G.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",G.mousedrag),G.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,o.addDisposableDomListener)(F,"mousedown",J=>{if(J.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(J))return Y(J),G.mouseup&&this._document.addEventListener("mouseup",G.mouseup),G.mousedrag&&this._document.addEventListener("mousemove",G.mousedrag),this.cancel(J)})),this.register((0,o.addDisposableDomListener)(F,"wheel",J=>{if(!G.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(J)===!1)return!1;if(!this.buffer.hasScrollback){const ce=this.viewport.getLinesScrolled(J);if(ce===0)return;const me=D.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(J.deltaY<0?"A":"B");let de="";for(let ke=0;ke<Math.abs(ce);ke++)de+=me;return this.coreService.triggerDataEvent(de,!0),this.cancel(J,!0)}return this.viewport.handleWheel(J)?this.cancel(J):void 0}},{passive:!1})),this.register((0,o.addDisposableDomListener)(F,"touchstart",J=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(J),this.cancel(J)},{passive:!0})),this.register((0,o.addDisposableDomListener)(F,"touchmove",J=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(J)?void 0:this.cancel(J)},{passive:!1}))}refresh(W,F){var Y;(Y=this._renderService)==null||Y.refreshRows(W,F)}updateCursorStyle(W){var F;(F=this._selectionService)!=null&&F.shouldColumnSelect(W)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(W,F,Y=0){var G;Y===1?(super.scrollLines(W,F,Y),this.refresh(0,this.rows-1)):(G=this.viewport)==null||G.scrollLines(W)}paste(W){(0,d.paste)(W,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(W){this._customKeyEventHandler=W}attachCustomWheelEventHandler(W){this._customWheelEventHandler=W}registerLinkProvider(W){return this._linkProviderService.registerLinkProvider(W)}registerCharacterJoiner(W){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const F=this._characterJoinerService.register(W);return this.refresh(0,this.rows-1),F}deregisterCharacterJoiner(W){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(W)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(W){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+W)}registerDecoration(W){return this._decorationService.registerDecoration(W)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(W,F,Y){this._selectionService.setSelection(W,F,Y)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var W;(W=this._selectionService)==null||W.clearSelection()}selectAll(){var W;(W=this._selectionService)==null||W.selectAll()}selectLines(W,F){var Y;(Y=this._selectionService)==null||Y.selectLines(W,F)}_keyDown(W){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1)return!1;const F=this.browser.isMac&&this.options.macOptionIsMeta&&W.altKey;if(!F&&!this._compositionHelper.keydown(W))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;F||W.key!=="Dead"&&W.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Y=(0,P.evaluateKeyboardEvent)(W,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(W),Y.type===3||Y.type===2){const G=this.rows-1;return this.scrollLines(Y.type===2?-G:G),this.cancel(W,!0)}return Y.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,W)||(Y.cancel&&this.cancel(W,!0),!Y.key||!!(W.key&&!W.ctrlKey&&!W.altKey&&!W.metaKey&&W.key.length===1&&W.key.charCodeAt(0)>=65&&W.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Y.key!==D.C0.ETX&&Y.key!==D.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Y.key,domEvent:W}),this._showCursor(),this.coreService.triggerDataEvent(Y.key,!0),!this.optionsService.rawOptions.screenReaderMode||W.altKey||W.ctrlKey?this.cancel(W,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(W,F){const Y=W.isMac&&!this.options.macOptionIsMeta&&F.altKey&&!F.ctrlKey&&!F.metaKey||W.isWindows&&F.altKey&&F.ctrlKey&&!F.metaKey||W.isWindows&&F.getModifierState("AltGraph");return F.type==="keypress"?Y:Y&&(!F.keyCode||F.keyCode>47)}_keyUp(W){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1||(function(F){return F.keyCode===16||F.keyCode===17||F.keyCode===18}(W)||this.focus(),this.updateCursorStyle(W),this._keyPressHandled=!1)}_keyPress(W){let F;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(W)===!1)return!1;if(this.cancel(W),W.charCode)F=W.charCode;else if(W.which===null||W.which===void 0)F=W.keyCode;else{if(W.which===0||W.charCode===0)return!1;F=W.which}return!(!F||(W.altKey||W.ctrlKey||W.metaKey)&&!this._isThirdLevelShift(this.browser,W)||(F=String.fromCharCode(F),this._onKey.fire({key:F,domEvent:W}),this._showCursor(),this.coreService.triggerDataEvent(F,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(W){if(W.data&&W.inputType==="insertText"&&(!W.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const F=W.data;return this.coreService.triggerDataEvent(F,!0),this.cancel(W),!0}return!1}resize(W,F){W!==this.cols||F!==this.rows?super.resize(W,F):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(W,F){var Y,G;(Y=this._charSizeService)==null||Y.measure(),(G=this.viewport)==null||G.syncScrollArea(!0)}clear(){var W;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let F=1;F<this.rows;F++)this.buffer.lines.push(this.buffer.getBlankLine(I.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(W=this.viewport)==null||W.reset(),this.refresh(0,this.rows-1)}}reset(){var F,Y;this.options.rows=this.rows,this.options.cols=this.cols;const W=this._customKeyEventHandler;this._setup(),super.reset(),(F=this._selectionService)==null||F.reset(),this._decorationService.reset(),(Y=this.viewport)==null||Y.reset(),this._customKeyEventHandler=W,this.refresh(0,this.rows-1)}clearTextureAtlas(){var W;(W=this._renderService)==null||W.clearTextureAtlas()}_reportFocus(){var W;(W=this.element)!=null&&W.classList.contains("focus")?this.coreService.triggerDataEvent(D.C0.ESC+"[I"):this.coreService.triggerDataEvent(D.C0.ESC+"[O")}_reportWindowsOptions(W){if(this._renderService)switch(W){case H.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const F=this._renderService.dimensions.css.canvas.width.toFixed(0),Y=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${D.C0.ESC}[4;${Y};${F}t`);break;case H.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const G=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${D.C0.ESC}[6;${Q};${G}t`)}}cancel(W,F){if(this.options.cancelEvents||F)return W.preventDefault(),W.stopPropagation(),!1}}c.Terminal=U},9924:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TimeBasedDebouncer=void 0,c.TimeBasedDebouncer=class{constructor(s,d=1e3){this._renderCallback=s,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(s,d,o){this._rowCount=o,s=s!==void 0?s:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,s):s,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d;const r=Date.now();if(r-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=r,this._innerRefresh();else if(!this._additionalRefreshRequested){const a=r-this._lastRefreshMs,l=this._debounceThresholdMS-a;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},l)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const s=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(s,d)}}},1680:function(y,c,s){var d=this&&this.__decorate||function(m,g,w,S){var b,_=arguments.length,x=_<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(m,g,w,S);else for(var C=m.length-1;C>=0;C--)(b=m[C])&&(x=(_<3?b(x):_>3?b(g,w,x):b(g,w))||x);return _>3&&x&&Object.defineProperty(g,w,x),x},o=this&&this.__param||function(m,g){return function(w,S){g(w,S,m)}};Object.defineProperty(c,"__esModule",{value:!0}),c.Viewport=void 0;const r=s(3656),a=s(4725),l=s(8460),h=s(844),f=s(2585);let p=c.Viewport=class extends h.Disposable{constructor(m,g,w,S,b,_,x,C){super(),this._viewportElement=m,this._scrollArea=g,this._bufferService=w,this._optionsService=S,this._charSizeService=b,this._renderService=_,this._coreBrowserService=x,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new l.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,r.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(C.colors),this.register(C.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(m){this._viewportElement.style.backgroundColor=m.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(m){if(m)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const m=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==m&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=m),this._refreshAnimationFrame=null}syncScrollArea(m=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(m);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(m)}_handleScroll(m){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:g,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const m=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(m*(this._smoothScrollState.target-this._smoothScrollState.origin)),m<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(m,g){const w=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&w<this._lastRecordedBufferHeight)||(m.cancelable&&m.preventDefault(),!1)}handleWheel(m){const g=this._getPixelsScrolled(m);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(m,g))}scrollLines(m){if(m!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const g=m*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:m,suppressScrollEvent:!1})}_getPixelsScrolled(m){if(m.deltaY===0||m.shiftKey)return 0;let g=this._applyScrollModifier(m.deltaY,m);return m.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:m.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getBufferElements(m,g){var C;let w,S="";const b=[],_=g??this._bufferService.buffer.lines.length,x=this._bufferService.buffer.lines;for(let k=m;k<_;k++){const M=x.get(k);if(!M)continue;const T=(C=x.get(k+1))==null?void 0:C.isWrapped;if(S+=M.translateToString(!T),!T||k===x.length-1){const L=document.createElement("div");L.textContent=S,b.push(L),S.length>0&&(w=L),S=""}}return{bufferElements:b,cursorElement:w}}getLinesScrolled(m){if(m.deltaY===0||m.shiftKey)return 0;let g=this._applyScrollModifier(m.deltaY,m);return m.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):m.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(m,g){const w=this._optionsService.rawOptions.fastScrollModifier;return w==="alt"&&g.altKey||w==="ctrl"&&g.ctrlKey||w==="shift"&&g.shiftKey?m*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:m*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(m){this._lastTouchY=m.touches[0].pageY}handleTouchMove(m){const g=this._lastTouchY-m.touches[0].pageY;return this._lastTouchY=m.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(m,g))}};c.Viewport=p=d([o(2,f.IBufferService),o(3,f.IOptionsService),o(4,a.ICharSizeService),o(5,a.IRenderService),o(6,a.ICoreBrowserService),o(7,a.IThemeService)],p)},3107:function(y,c,s){var d=this&&this.__decorate||function(f,p,m,g){var w,S=arguments.length,b=S<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,m):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,p,m,g);else for(var _=f.length-1;_>=0;_--)(w=f[_])&&(b=(S<3?w(b):S>3?w(p,m,b):w(p,m))||b);return S>3&&b&&Object.defineProperty(p,m,b),b},o=this&&this.__param||function(f,p){return function(m,g){p(m,g,f)}};Object.defineProperty(c,"__esModule",{value:!0}),c.BufferDecorationRenderer=void 0;const r=s(4725),a=s(844),l=s(2585);let h=c.BufferDecorationRenderer=class extends a.Disposable{constructor(f,p,m,g,w){super(),this._screenElement=f,this._bufferService=p,this._coreBrowserService=m,this._decorationService=g,this._renderService=w,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(S=>this._removeDecoration(S))),this.register((0,a.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const f of this._decorationService.decorations)this._renderDecoration(f);this._dimensionsChanged=!1}_renderDecoration(f){this._refreshStyle(f),this._dimensionsChanged&&this._refreshXPosition(f)}_createElement(f){var g;const p=this._coreBrowserService.mainDocument.createElement("div");p.classList.add("xterm-decoration"),p.classList.toggle("xterm-decoration-top-layer",((g=f==null?void 0:f.options)==null?void 0:g.layer)==="top"),p.style.width=`${Math.round((f.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,p.style.height=(f.options.height||1)*this._renderService.dimensions.css.cell.height+"px",p.style.top=(f.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",p.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const m=f.options.x??0;return m&&m>this._bufferService.cols&&(p.style.display="none"),this._refreshXPosition(f,p),p}_refreshStyle(f){const p=f.marker.line-this._bufferService.buffers.active.ydisp;if(p<0||p>=this._bufferService.rows)f.element&&(f.element.style.display="none",f.onRenderEmitter.fire(f.element));else{let m=this._decorationElements.get(f);m||(m=this._createElement(f),f.element=m,this._decorationElements.set(f,m),this._container.appendChild(m),f.onDispose(()=>{this._decorationElements.delete(f),m.remove()})),m.style.top=p*this._renderService.dimensions.css.cell.height+"px",m.style.display=this._altBufferIsActive?"none":"block",f.onRenderEmitter.fire(m)}}_refreshXPosition(f,p=f.element){if(!p)return;const m=f.options.x??0;(f.options.anchor||"left")==="right"?p.style.right=m?m*this._renderService.dimensions.css.cell.width+"px":"":p.style.left=m?m*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(f){var p;(p=this._decorationElements.get(f))==null||p.remove(),this._decorationElements.delete(f),f.dispose()}};c.BufferDecorationRenderer=h=d([o(1,l.IBufferService),o(2,r.ICoreBrowserService),o(3,l.IDecorationService),o(4,r.IRenderService)],h)},5871:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorZoneStore=void 0,c.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(s){if(s.options.overviewRulerOptions){for(const d of this._zones)if(d.color===s.options.overviewRulerOptions.color&&d.position===s.options.overviewRulerOptions.position){if(this._lineIntersectsZone(d,s.marker.line))return;if(this._lineAdjacentToZone(d,s.marker.line,s.options.overviewRulerOptions.position))return void this._addLineToZone(d,s.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=s.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=s.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=s.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=s.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:s.options.overviewRulerOptions.color,position:s.options.overviewRulerOptions.position,startBufferLine:s.marker.line,endBufferLine:s.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(s){this._linePadding=s}_lineIntersectsZone(s,d){return d>=s.startBufferLine&&d<=s.endBufferLine}_lineAdjacentToZone(s,d,o){return d>=s.startBufferLine-this._linePadding[o||"full"]&&d<=s.endBufferLine+this._linePadding[o||"full"]}_addLineToZone(s,d){s.startBufferLine=Math.min(s.startBufferLine,d),s.endBufferLine=Math.max(s.endBufferLine,d)}}},5744:function(y,c,s){var d=this&&this.__decorate||function(w,S,b,_){var x,C=arguments.length,k=C<3?S:_===null?_=Object.getOwnPropertyDescriptor(S,b):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(w,S,b,_);else for(var M=w.length-1;M>=0;M--)(x=w[M])&&(k=(C<3?x(k):C>3?x(S,b,k):x(S,b))||k);return C>3&&k&&Object.defineProperty(S,b,k),k},o=this&&this.__param||function(w,S){return function(b,_){S(b,_,w)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OverviewRulerRenderer=void 0;const r=s(5871),a=s(4725),l=s(844),h=s(2585),f={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},m={full:0,left:0,center:0,right:0};let g=c.OverviewRulerRenderer=class extends l.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(w,S,b,_,x,C,k){var T;super(),this._viewportElement=w,this._screenElement=S,this._bufferService=b,this._decorationService=_,this._renderService=x,this._optionsService=C,this._coreBrowserService=k,this._colorZoneStore=new r.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(T=this._viewportElement.parentElement)==null||T.insertBefore(this._canvas,this._viewportElement);const M=this._canvas.getContext("2d");if(!M)throw new Error("Ctx cannot be null");this._ctx=M,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,l.toDisposable)(()=>{var L;(L=this._canvas)==null||L.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const w=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=w,p.center=S,p.right=w,this._refreshDrawHeightConstants(),m.full=0,m.left=0,m.center=p.left,m.right=p.left+p.center}_refreshDrawHeightConstants(){f.full=Math.round(2*this._coreBrowserService.dpr);const w=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(w,12),6)*this._coreBrowserService.dpr);f.left=S,f.center=S,f.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*f.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const w=this._colorZoneStore.zones;for(const S of w)S.position!=="full"&&this._renderColorZone(S);for(const S of w)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(w){this._ctx.fillStyle=w.color,this._ctx.fillRect(m[w.position||"full"],Math.round((this._canvas.height-1)*(w.startBufferLine/this._bufferService.buffers.active.lines.length)-f[w.position||"full"]/2),p[w.position||"full"],Math.round((this._canvas.height-1)*((w.endBufferLine-w.startBufferLine)/this._bufferService.buffers.active.lines.length)+f[w.position||"full"]))}_queueRefresh(w,S){this._shouldUpdateDimensions=w||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};c.OverviewRulerRenderer=g=d([o(2,h.IBufferService),o(3,h.IDecorationService),o(4,a.IRenderService),o(5,h.IOptionsService),o(6,a.ICoreBrowserService)],g)},2950:function(y,c,s){var d=this&&this.__decorate||function(f,p,m,g){var w,S=arguments.length,b=S<3?p:g===null?g=Object.getOwnPropertyDescriptor(p,m):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(f,p,m,g);else for(var _=f.length-1;_>=0;_--)(w=f[_])&&(b=(S<3?w(b):S>3?w(p,m,b):w(p,m))||b);return S>3&&b&&Object.defineProperty(p,m,b),b},o=this&&this.__param||function(f,p){return function(m,g){p(m,g,f)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CompositionHelper=void 0;const r=s(4725),a=s(2585),l=s(2584);let h=c.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(f,p,m,g,w,S){this._textarea=f,this._compositionView=p,this._bufferService=m,this._optionsService=g,this._coreService=w,this._renderService=S,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(f){this._compositionView.textContent=f.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(f){if(this._isComposing||this._isSendingComposition){if(f.keyCode===229||f.keyCode===16||f.keyCode===17||f.keyCode===18)return!1;this._finalizeComposition(!1)}return f.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(f){if(this._compositionView.classList.remove("active"),this._isComposing=!1,f){const p={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let m;this._isSendingComposition=!1,p.start+=this._dataAlreadySent.length,m=this._isComposing?this._textarea.value.substring(p.start,p.end):this._textarea.value.substring(p.start),m.length>0&&this._coreService.triggerDataEvent(m,!0)}},0)}else{this._isSendingComposition=!1;const p=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(p,!0)}}_handleAnyTextareaChanges(){const f=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const p=this._textarea.value,m=p.replace(f,"");this._dataAlreadySent=m,p.length>f.length?this._coreService.triggerDataEvent(m,!0):p.length<f.length?this._coreService.triggerDataEvent(`${l.C0.DEL}`,!0):p.length===f.length&&p!==f&&this._coreService.triggerDataEvent(p,!0)}},0)}updateCompositionElements(f){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const p=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),m=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,w=p*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=w+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=m+"px",this._compositionView.style.lineHeight=m+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const S=this._compositionView.getBoundingClientRect();this._textarea.style.left=w+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(S.width,1)+"px",this._textarea.style.height=Math.max(S.height,1)+"px",this._textarea.style.lineHeight=S.height+"px"}f||setTimeout(()=>this.updateCompositionElements(!0),0)}}};c.CompositionHelper=h=d([o(2,a.IBufferService),o(3,a.IOptionsService),o(4,a.ICoreService),o(5,r.IRenderService)],h)},9806:(y,c)=>{function s(d,o,r){const a=r.getBoundingClientRect(),l=d.getComputedStyle(r),h=parseInt(l.getPropertyValue("padding-left")),f=parseInt(l.getPropertyValue("padding-top"));return[o.clientX-a.left-h,o.clientY-a.top-f]}Object.defineProperty(c,"__esModule",{value:!0}),c.getCoords=c.getCoordsRelativeToElement=void 0,c.getCoordsRelativeToElement=s,c.getCoords=function(d,o,r,a,l,h,f,p,m){if(!h)return;const g=s(d,o,r);return g?(g[0]=Math.ceil((g[0]+(m?f/2:0))/f),g[1]=Math.ceil(g[1]/p),g[0]=Math.min(Math.max(g[0],1),a+(m?1:0)),g[1]=Math.min(Math.max(g[1],1),l),g):void 0}},9504:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.moveToCellSequence=void 0;const d=s(2584);function o(p,m,g,w){const S=p-r(p,g),b=m-r(m,g),_=Math.abs(S-b)-function(x,C,k){let M=0;const T=x-r(x,k),L=C-r(C,k);for(let E=0;E<Math.abs(T-L);E++){const A=a(x,C)==="A"?-1:1,R=k.buffer.lines.get(T+A*E);R!=null&&R.isWrapped&&M++}return M}(p,m,g);return f(_,h(a(p,m),w))}function r(p,m){let g=0,w=m.buffer.lines.get(p),S=w==null?void 0:w.isWrapped;for(;S&&p>=0&&p<m.rows;)g++,w=m.buffer.lines.get(--p),S=w==null?void 0:w.isWrapped;return g}function a(p,m){return p>m?"A":"B"}function l(p,m,g,w,S,b){let _=p,x=m,C="";for(;_!==g||x!==w;)_+=S?1:-1,S&&_>b.cols-1?(C+=b.buffer.translateBufferLineToString(x,!1,p,_),_=0,p=0,x++):!S&&_<0&&(C+=b.buffer.translateBufferLineToString(x,!1,0,p+1),_=b.cols-1,p=_,x--);return C+b.buffer.translateBufferLineToString(x,!1,p,_)}function h(p,m){const g=m?"O":"[";return d.C0.ESC+g+p}function f(p,m){p=Math.floor(p);let g="";for(let w=0;w<p;w++)g+=m;return g}c.moveToCellSequence=function(p,m,g,w){const S=g.buffer.x,b=g.buffer.y;if(!g.buffer.hasScrollback)return function(C,k,M,T,L,E){return o(k,T,L,E).length===0?"":f(l(C,k,C,k-r(k,L),!1,L).length,h("D",E))}(S,b,0,m,g,w)+o(b,m,g,w)+function(C,k,M,T,L,E){let A;A=o(k,T,L,E).length>0?T-r(T,L):k;const R=T,I=function(D,P,O,$,N,H){let B;return B=o(O,$,N,H).length>0?$-r($,N):P,D<O&&B<=$||D>=O&&B<$?"C":"D"}(C,k,M,T,L,E);return f(l(C,A,M,R,I==="C",L).length,h(I,E))}(S,b,p,m,g,w);let _;if(b===m)return _=S>p?"D":"C",f(Math.abs(S-p),h(_,w));_=b>m?"D":"C";const x=Math.abs(b-m);return f(function(C,k){return k.cols-C}(b>m?p:S,g)+(x-1)*g.cols+1+((b>m?S:p)-1),h(_,w))}},1296:function(y,c,s){var d=this&&this.__decorate||function(E,A,R,I){var D,P=arguments.length,O=P<3?A:I===null?I=Object.getOwnPropertyDescriptor(A,R):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(E,A,R,I);else for(var $=E.length-1;$>=0;$--)(D=E[$])&&(O=(P<3?D(O):P>3?D(A,R,O):D(A,R))||O);return P>3&&O&&Object.defineProperty(A,R,O),O},o=this&&this.__param||function(E,A){return function(R,I){A(R,I,E)}};Object.defineProperty(c,"__esModule",{value:!0}),c.DomRenderer=void 0;const r=s(3787),a=s(2550),l=s(2223),h=s(6171),f=s(6052),p=s(4725),m=s(8055),g=s(8460),w=s(844),S=s(2585),b="xterm-dom-renderer-owner-",_="xterm-rows",x="xterm-fg-",C="xterm-bg-",k="xterm-focus",M="xterm-selection";let T=1,L=c.DomRenderer=class extends w.Disposable{constructor(E,A,R,I,D,P,O,$,N,H,B,z,U){super(),this._terminal=E,this._document=A,this._element=R,this._screenElement=I,this._viewportElement=D,this._helperContainer=P,this._linkifier2=O,this._charSizeService=N,this._optionsService=H,this._bufferService=B,this._coreBrowserService=z,this._themeService=U,this._terminalClass=T++,this._rowElements=[],this._selectionRenderModel=(0,f.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new g.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(_),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(M),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,h.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(V=>this._injectCss(V))),this._injectCss(this._themeService.colors),this._rowFactory=$.createInstance(r.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(V=>this._handleLinkHover(V))),this.register(this._linkifier2.onHideLinkUnderline(V=>this._handleLinkLeave(V))),this.register((0,w.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new a.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const E=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*E,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*E),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/E),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/E),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const R of this._rowElements)R.style.width=`${this.dimensions.css.canvas.width}px`,R.style.height=`${this.dimensions.css.cell.height}px`,R.style.lineHeight=`${this.dimensions.css.cell.height}px`,R.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const A=`${this._terminalSelector} .${_} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=A,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(E){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let A=`${this._terminalSelector} .${_} { color: ${E.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;A+=`${this._terminalSelector} .${_} .xterm-dim { color: ${m.color.multiplyOpacity(E.foreground,.5).css};}`,A+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const R=`blink_underline_${this._terminalClass}`,I=`blink_bar_${this._terminalClass}`,D=`blink_block_${this._terminalClass}`;A+=`@keyframes ${R} { 50% {  border-bottom-style: hidden; }}`,A+=`@keyframes ${I} { 50% {  box-shadow: none; }}`,A+=`@keyframes ${D} { 0% {  background-color: ${E.cursor.css};  color: ${E.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${E.cursor.css}; }}`,A+=`${this._terminalSelector} .${_}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${R} 1s step-end infinite;}${this._terminalSelector} .${_}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${I} 1s step-end infinite;}${this._terminalSelector} .${_}.${k} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${D} 1s step-end infinite;}${this._terminalSelector} .${_} .xterm-cursor.xterm-cursor-block { background-color: ${E.cursor.css}; color: ${E.cursorAccent.css};}${this._terminalSelector} .${_} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${E.cursor.css} !important; color: ${E.cursorAccent.css} !important;}${this._terminalSelector} .${_} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${E.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${_} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${E.cursor.css} inset;}${this._terminalSelector} .${_} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${E.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,A+=`${this._terminalSelector} .${M} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${M} div { position: absolute; background-color: ${E.selectionBackgroundOpaque.css};}${this._terminalSelector} .${M} div { position: absolute; background-color: ${E.selectionInactiveBackgroundOpaque.css};}`;for(const[P,O]of E.ansi.entries())A+=`${this._terminalSelector} .${x}${P} { color: ${O.css}; }${this._terminalSelector} .${x}${P}.xterm-dim { color: ${m.color.multiplyOpacity(O,.5).css}; }${this._terminalSelector} .${C}${P} { background-color: ${O.css}; }`;A+=`${this._terminalSelector} .${x}${l.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(E.background).css}; }${this._terminalSelector} .${x}${l.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(E.background),.5).css}; }${this._terminalSelector} .${C}${l.INVERTED_DEFAULT_COLOR} { background-color: ${E.foreground.css}; }`,this._themeStyleElement.textContent=A}_setDefaultSpacing(){const E=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${E}px`,this._rowFactory.defaultSpacing=E}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(E,A){for(let R=this._rowElements.length;R<=A;R++){const I=this._document.createElement("div");this._rowContainer.appendChild(I),this._rowElements.push(I)}for(;this._rowElements.length>A;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(E,A){this._refreshRowElements(E,A),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(k),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(k),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(E,A,R){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(E,A,R),this.renderRows(0,this._bufferService.rows-1),!E||!A)return;this._selectionRenderModel.update(this._terminal,E,A,R);const I=this._selectionRenderModel.viewportStartRow,D=this._selectionRenderModel.viewportEndRow,P=this._selectionRenderModel.viewportCappedStartRow,O=this._selectionRenderModel.viewportCappedEndRow;if(P>=this._bufferService.rows||O<0)return;const $=this._document.createDocumentFragment();if(R){const N=E[0]>A[0];$.appendChild(this._createSelectionElement(P,N?A[0]:E[0],N?E[0]:A[0],O-P+1))}else{const N=I===P?E[0]:0,H=P===D?A[0]:this._bufferService.cols;$.appendChild(this._createSelectionElement(P,N,H));const B=O-P-1;if($.appendChild(this._createSelectionElement(P+1,0,this._bufferService.cols,B)),P!==O){const z=D===O?A[0]:this._bufferService.cols;$.appendChild(this._createSelectionElement(O,0,z))}}this._selectionContainer.appendChild($)}_createSelectionElement(E,A,R,I=1){const D=this._document.createElement("div"),P=A*this.dimensions.css.cell.width;let O=this.dimensions.css.cell.width*(R-A);return P+O>this.dimensions.css.canvas.width&&(O=this.dimensions.css.canvas.width-P),D.style.height=I*this.dimensions.css.cell.height+"px",D.style.top=E*this.dimensions.css.cell.height+"px",D.style.left=`${P}px`,D.style.width=`${O}px`,D}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const E of this._rowElements)E.replaceChildren()}renderRows(E,A){const R=this._bufferService.buffer,I=R.ybase+R.y,D=Math.min(R.x,this._bufferService.cols-1),P=this._optionsService.rawOptions.cursorBlink,O=this._optionsService.rawOptions.cursorStyle,$=this._optionsService.rawOptions.cursorInactiveStyle;for(let N=E;N<=A;N++){const H=N+R.ydisp,B=this._rowElements[N],z=R.lines.get(H);if(!B||!z)break;B.replaceChildren(...this._rowFactory.createRow(z,H,H===I,O,$,D,P,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!0)}_handleLinkLeave(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!1)}_setCellUnderline(E,A,R,I,D,P){R<0&&(E=0),I<0&&(A=0);const O=this._bufferService.rows-1;R=Math.max(Math.min(R,O),0),I=Math.max(Math.min(I,O),0),D=Math.min(D,this._bufferService.cols);const $=this._bufferService.buffer,N=$.ybase+$.y,H=Math.min($.x,D-1),B=this._optionsService.rawOptions.cursorBlink,z=this._optionsService.rawOptions.cursorStyle,U=this._optionsService.rawOptions.cursorInactiveStyle;for(let V=R;V<=I;++V){const W=V+$.ydisp,F=this._rowElements[V],Y=$.lines.get(W);if(!F||!Y)break;F.replaceChildren(...this._rowFactory.createRow(Y,W,W===N,z,U,H,B,this.dimensions.css.cell.width,this._widthCache,P?V===R?E:0:-1,P?(V===I?A:D)-1:-1))}}};c.DomRenderer=L=d([o(7,S.IInstantiationService),o(8,p.ICharSizeService),o(9,S.IOptionsService),o(10,S.IBufferService),o(11,p.ICoreBrowserService),o(12,p.IThemeService)],L)},3787:function(y,c,s){var d=this&&this.__decorate||function(_,x,C,k){var M,T=arguments.length,L=T<3?x:k===null?k=Object.getOwnPropertyDescriptor(x,C):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(_,x,C,k);else for(var E=_.length-1;E>=0;E--)(M=_[E])&&(L=(T<3?M(L):T>3?M(x,C,L):M(x,C))||L);return T>3&&L&&Object.defineProperty(x,C,L),L},o=this&&this.__param||function(_,x){return function(C,k){x(C,k,_)}};Object.defineProperty(c,"__esModule",{value:!0}),c.DomRendererRowFactory=void 0;const r=s(2223),a=s(643),l=s(511),h=s(2585),f=s(8055),p=s(4725),m=s(4269),g=s(6171),w=s(3734);let S=c.DomRendererRowFactory=class{constructor(_,x,C,k,M,T,L){this._document=_,this._characterJoinerService=x,this._optionsService=C,this._coreBrowserService=k,this._coreService=M,this._decorationService=T,this._themeService=L,this._workCell=new l.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(_,x,C){this._selectionStart=_,this._selectionEnd=x,this._columnSelectMode=C}createRow(_,x,C,k,M,T,L,E,A,R,I){const D=[],P=this._characterJoinerService.getJoinedCharacters(x),O=this._themeService.colors;let $,N=_.getNoBgTrimmedLength();C&&N<T+1&&(N=T+1);let H=0,B="",z=0,U=0,V=0,W=!1,F=0,Y=!1,G=0;const Q=[],J=R!==-1&&I!==-1;for(let ce=0;ce<N;ce++){_.loadCell(ce,this._workCell);let me=this._workCell.getWidth();if(me===0)continue;let de=!1,ke=ce,le=this._workCell;if(P.length>0&&ce===P[0][0]){de=!0;const he=P.shift();le=new m.JoinedCellData(this._workCell,_.translateToString(!0,he[0],he[1]),he[1]-he[0]),ke=he[1]-1,me=le.getWidth()}const nt=this._isCellInSelection(ce,x),Ft=C&&ce===T,Zt=J&&ce>=R&&ce<=I;let xn=!1;this._decorationService.forEachDecorationAtCell(ce,x,void 0,he=>{xn=!0});let Ht=le.getChars()||a.WHITESPACE_CELL_CHAR;if(Ht===" "&&(le.isUnderline()||le.isOverline())&&(Ht=" "),G=me*E-A.get(Ht,le.isBold(),le.isItalic()),$){if(H&&(nt&&Y||!nt&&!Y&&le.bg===z)&&(nt&&Y&&O.selectionForeground||le.fg===U)&&le.extended.ext===V&&Zt===W&&G===F&&!Ft&&!de&&!xn){le.isInvisible()?B+=a.WHITESPACE_CELL_CHAR:B+=Ht,H++;continue}H&&($.textContent=B),$=this._document.createElement("span"),H=0,B=""}else $=this._document.createElement("span");if(z=le.bg,U=le.fg,V=le.extended.ext,W=Zt,F=G,Y=nt,de&&T>=ce&&T<=ke&&(T=ce),!this._coreService.isCursorHidden&&Ft&&this._coreService.isCursorInitialized){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)L&&Q.push("xterm-cursor-blink"),Q.push(k==="bar"?"xterm-cursor-bar":k==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(M)switch(M){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(le.isBold()&&Q.push("xterm-bold"),le.isItalic()&&Q.push("xterm-italic"),le.isDim()&&Q.push("xterm-dim"),B=le.isInvisible()?a.WHITESPACE_CELL_CHAR:le.getChars()||a.WHITESPACE_CELL_CHAR,le.isUnderline()&&(Q.push(`xterm-underline-${le.extended.underlineStyle}`),B===" "&&(B=" "),!le.isUnderlineColorDefault()))if(le.isUnderlineColorRGB())$.style.textDecorationColor=`rgb(${w.AttributeData.toColorRGB(le.getUnderlineColor()).join(",")})`;else{let he=le.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&le.isBold()&&he<8&&(he+=8),$.style.textDecorationColor=O.ansi[he].css}le.isOverline()&&(Q.push("xterm-overline"),B===" "&&(B=" ")),le.isStrikethrough()&&Q.push("xterm-strikethrough"),Zt&&($.style.textDecoration="underline");let Ke=le.getFgColor(),Tt=le.getFgColorMode(),at=le.getBgColor(),K=le.getBgColorMode();const q=!!le.isInverse();if(q){const he=Ke;Ke=at,at=he;const Ce=Tt;Tt=K,K=Ce}let Z,re,se,ye=!1;switch(this._decorationService.forEachDecorationAtCell(ce,x,void 0,he=>{he.options.layer!=="top"&&ye||(he.backgroundColorRGB&&(K=50331648,at=he.backgroundColorRGB.rgba>>8&16777215,Z=he.backgroundColorRGB),he.foregroundColorRGB&&(Tt=50331648,Ke=he.foregroundColorRGB.rgba>>8&16777215,re=he.foregroundColorRGB),ye=he.options.layer==="top")}),!ye&&nt&&(Z=this._coreBrowserService.isFocused?O.selectionBackgroundOpaque:O.selectionInactiveBackgroundOpaque,at=Z.rgba>>8&16777215,K=50331648,ye=!0,O.selectionForeground&&(Tt=50331648,Ke=O.selectionForeground.rgba>>8&16777215,re=O.selectionForeground)),ye&&Q.push("xterm-decoration-top"),K){case 16777216:case 33554432:se=O.ansi[at],Q.push(`xterm-bg-${at}`);break;case 50331648:se=f.channels.toColor(at>>16,at>>8&255,255&at),this._addStyle($,`background-color:#${b((at>>>0).toString(16),"0",6)}`);break;default:q?(se=O.foreground,Q.push(`xterm-bg-${r.INVERTED_DEFAULT_COLOR}`)):se=O.background}switch(Z||le.isDim()&&(Z=f.color.multiplyOpacity(se,.5)),Tt){case 16777216:case 33554432:le.isBold()&&Ke<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Ke+=8),this._applyMinimumContrast($,se,O.ansi[Ke],le,Z,void 0)||Q.push(`xterm-fg-${Ke}`);break;case 50331648:const he=f.channels.toColor(Ke>>16&255,Ke>>8&255,255&Ke);this._applyMinimumContrast($,se,he,le,Z,re)||this._addStyle($,`color:#${b(Ke.toString(16),"0",6)}`);break;default:this._applyMinimumContrast($,se,O.foreground,le,Z,re)||q&&Q.push(`xterm-fg-${r.INVERTED_DEFAULT_COLOR}`)}Q.length&&($.className=Q.join(" "),Q.length=0),Ft||de||xn?$.textContent=B:H++,G!==this.defaultSpacing&&($.style.letterSpacing=`${G}px`),D.push($),ce=ke}return $&&H&&($.textContent=B),D}_applyMinimumContrast(_,x,C,k,M,T){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,g.treatGlyphAsBackgroundColor)(k.getCode()))return!1;const L=this._getContrastCache(k);let E;if(M||T||(E=L.getColor(x.rgba,C.rgba)),E===void 0){const A=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);E=f.color.ensureContrastRatio(M||x,T||C,A),L.setColor((M||x).rgba,(T||C).rgba,E??null)}return!!E&&(this._addStyle(_,`color:${E.css}`),!0)}_getContrastCache(_){return _.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(_,x){_.setAttribute("style",`${_.getAttribute("style")||""}${x};`)}_isCellInSelection(_,x){const C=this._selectionStart,k=this._selectionEnd;return!(!C||!k)&&(this._columnSelectMode?C[0]<=k[0]?_>=C[0]&&x>=C[1]&&_<k[0]&&x<=k[1]:_<C[0]&&x>=C[1]&&_>=k[0]&&x<=k[1]:x>C[1]&&x<k[1]||C[1]===k[1]&&x===C[1]&&_>=C[0]&&_<k[0]||C[1]<k[1]&&x===k[1]&&_<k[0]||C[1]<k[1]&&x===C[1]&&_>=C[0])}};function b(_,x,C){for(;_.length<C;)_=x+_;return _}c.DomRendererRowFactory=S=d([o(1,p.ICharacterJoinerService),o(2,h.IOptionsService),o(3,p.ICoreBrowserService),o(4,h.ICoreService),o(5,h.IDecorationService),o(6,p.IThemeService)],S)},2550:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WidthCache=void 0,c.WidthCache=class{constructor(s,d){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=s.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const o=s.createElement("span");o.classList.add("xterm-char-measure-element");const r=s.createElement("span");r.classList.add("xterm-char-measure-element"),r.style.fontWeight="bold";const a=s.createElement("span");a.classList.add("xterm-char-measure-element"),a.style.fontStyle="italic";const l=s.createElement("span");l.classList.add("xterm-char-measure-element"),l.style.fontWeight="bold",l.style.fontStyle="italic",this._measureElements=[o,r,a,l],this._container.appendChild(o),this._container.appendChild(r),this._container.appendChild(a),this._container.appendChild(l),d.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(s,d,o,r){s===this._font&&d===this._fontSize&&o===this._weight&&r===this._weightBold||(this._font=s,this._fontSize=d,this._weight=o,this._weightBold=r,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${o}`,this._measureElements[1].style.fontWeight=`${r}`,this._measureElements[2].style.fontWeight=`${o}`,this._measureElements[3].style.fontWeight=`${r}`,this.clear())}get(s,d,o){let r=0;if(!d&&!o&&s.length===1&&(r=s.charCodeAt(0))<256){if(this._flat[r]!==-9999)return this._flat[r];const h=this._measure(s,0);return h>0&&(this._flat[r]=h),h}let a=s;d&&(a+="B"),o&&(a+="I");let l=this._holey.get(a);if(l===void 0){let h=0;d&&(h|=1),o&&(h|=2),l=this._measure(s,h),l>0&&this._holey.set(a,l)}return l}_measure(s,d){const o=this._measureElements[d];return o.textContent=s.repeat(32),o.offsetWidth/32}}},2223:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TEXT_BASELINE=c.DIM_OPACITY=c.INVERTED_DEFAULT_COLOR=void 0;const d=s(6114);c.INVERTED_DEFAULT_COLOR=257,c.DIM_OPACITY=.5,c.TEXT_BASELINE=d.isFirefox||d.isLegacyEdge?"bottom":"ideographic"},6171:(y,c)=>{function s(o){return 57508<=o&&o<=57558}function d(o){return o>=128512&&o<=128591||o>=127744&&o<=128511||o>=128640&&o<=128767||o>=9728&&o<=9983||o>=9984&&o<=10175||o>=65024&&o<=65039||o>=129280&&o<=129535||o>=127462&&o<=127487}Object.defineProperty(c,"__esModule",{value:!0}),c.computeNextVariantOffset=c.createRenderDimensions=c.treatGlyphAsBackgroundColor=c.allowRescaling=c.isEmoji=c.isRestrictedPowerlineGlyph=c.isPowerlineGlyph=c.throwIfFalsy=void 0,c.throwIfFalsy=function(o){if(!o)throw new Error("value must not be falsy");return o},c.isPowerlineGlyph=s,c.isRestrictedPowerlineGlyph=function(o){return 57520<=o&&o<=57527},c.isEmoji=d,c.allowRescaling=function(o,r,a,l){return r===1&&a>Math.ceil(1.5*l)&&o!==void 0&&o>255&&!d(o)&&!s(o)&&!function(h){return 57344<=h&&h<=63743}(o)},c.treatGlyphAsBackgroundColor=function(o){return s(o)||function(r){return 9472<=r&&r<=9631}(o)},c.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},c.computeNextVariantOffset=function(o,r,a=0){return(o-(2*Math.round(r)-a))%(2*Math.round(r))}},6052:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createSelectionRenderModel=void 0;class s{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(o,r,a,l=!1){if(this.selectionStart=r,this.selectionEnd=a,!r||!a||r[0]===a[0]&&r[1]===a[1])return void this.clear();const h=o.buffers.active.ydisp,f=r[1]-h,p=a[1]-h,m=Math.max(f,0),g=Math.min(p,o.rows-1);m>=o.rows||g<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=l,this.viewportStartRow=f,this.viewportEndRow=p,this.viewportCappedStartRow=m,this.viewportCappedEndRow=g,this.startCol=r[0],this.endCol=a[0])}isCellSelected(o,r,a){return!!this.hasSelection&&(a-=o.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?r>=this.startCol&&a>=this.viewportCappedStartRow&&r<this.endCol&&a<=this.viewportCappedEndRow:r<this.startCol&&a>=this.viewportCappedStartRow&&r>=this.endCol&&a<=this.viewportCappedEndRow:a>this.viewportStartRow&&a<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&a===this.viewportStartRow&&r>=this.startCol&&r<this.endCol||this.viewportStartRow<this.viewportEndRow&&a===this.viewportEndRow&&r<this.endCol||this.viewportStartRow<this.viewportEndRow&&a===this.viewportStartRow&&r>=this.startCol)}}c.createSelectionRenderModel=function(){return new s}},456:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionModel=void 0,c.SelectionModel=class{constructor(s){this._bufferService=s,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const s=this.selectionStart[0]+this.selectionStartLength;return s>this._bufferService.cols?s%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(s/this._bufferService.cols)-1]:[s%this._bufferService.cols,this.selectionStart[1]+Math.floor(s/this._bufferService.cols)]:[s,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const s=this.selectionStart[0]+this.selectionStartLength;return s>this._bufferService.cols?[s%this._bufferService.cols,this.selectionStart[1]+Math.floor(s/this._bufferService.cols)]:[Math.max(s,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const s=this.selectionStart,d=this.selectionEnd;return!(!s||!d)&&(s[1]>d[1]||s[1]===d[1]&&s[0]>d[0])}handleTrim(s){return this.selectionStart&&(this.selectionStart[1]-=s),this.selectionEnd&&(this.selectionEnd[1]-=s),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(y,c,s){var d=this&&this.__decorate||function(g,w,S,b){var _,x=arguments.length,C=x<3?w:b===null?b=Object.getOwnPropertyDescriptor(w,S):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,w,S,b);else for(var k=g.length-1;k>=0;k--)(_=g[k])&&(C=(x<3?_(C):x>3?_(w,S,C):_(w,S))||C);return x>3&&C&&Object.defineProperty(w,S,C),C},o=this&&this.__param||function(g,w){return function(S,b){w(S,b,g)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CharSizeService=void 0;const r=s(2585),a=s(8460),l=s(844);let h=c.CharSizeService=class extends l.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(g,w,S){super(),this._optionsService=S,this.width=0,this.height=0,this._onCharSizeChange=this.register(new a.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new m(this._optionsService))}catch{this._measureStrategy=this.register(new p(g,w,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const g=this._measureStrategy.measure();g.width===this.width&&g.height===this.height||(this.width=g.width,this.height=g.height,this._onCharSizeChange.fire())}};c.CharSizeService=h=d([o(2,r.IOptionsService)],h);class f extends l.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(w,S){w!==void 0&&w>0&&S!==void 0&&S>0&&(this._result.width=w,this._result.height=S)}}class p extends f{constructor(w,S,b){super(),this._document=w,this._parentElement=S,this._optionsService=b,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class m extends f{constructor(w){super(),this._optionsService=w,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const S=this._ctx.measureText("W");if(!("width"in S&&"fontBoundingBoxAscent"in S&&"fontBoundingBoxDescent"in S))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const w=this._ctx.measureText("W");return this._validateAndSet(w.width,w.fontBoundingBoxAscent+w.fontBoundingBoxDescent),this._result}}},4269:function(y,c,s){var d=this&&this.__decorate||function(m,g,w,S){var b,_=arguments.length,x=_<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,w):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(m,g,w,S);else for(var C=m.length-1;C>=0;C--)(b=m[C])&&(x=(_<3?b(x):_>3?b(g,w,x):b(g,w))||x);return _>3&&x&&Object.defineProperty(g,w,x),x},o=this&&this.__param||function(m,g){return function(w,S){g(w,S,m)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterJoinerService=c.JoinedCellData=void 0;const r=s(3734),a=s(643),l=s(511),h=s(2585);class f extends r.AttributeData{constructor(g,w,S){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=w,this._width=S}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}c.JoinedCellData=f;let p=c.CharacterJoinerService=class iv{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new l.CellData}register(g){const w={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(w),w.id}deregister(g){for(let w=0;w<this._characterJoiners.length;w++)if(this._characterJoiners[w].id===g)return this._characterJoiners.splice(w,1),!0;return!1}getJoinedCharacters(g){if(this._characterJoiners.length===0)return[];const w=this._bufferService.buffer.lines.get(g);if(!w||w.length===0)return[];const S=[],b=w.translateToString(!0);let _=0,x=0,C=0,k=w.getFg(0),M=w.getBg(0);for(let T=0;T<w.getTrimmedLength();T++)if(w.loadCell(T,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==M){if(T-_>1){const L=this._getJoinedRanges(b,C,x,w,_);for(let E=0;E<L.length;E++)S.push(L[E])}_=T,C=x,k=this._workCell.fg,M=this._workCell.bg}x+=this._workCell.getChars().length||a.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-_>1){const T=this._getJoinedRanges(b,C,x,w,_);for(let L=0;L<T.length;L++)S.push(T[L])}return S}_getJoinedRanges(g,w,S,b,_){const x=g.substring(w,S);let C=[];try{C=this._characterJoiners[0].handler(x)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const M=this._characterJoiners[k].handler(x);for(let T=0;T<M.length;T++)iv._mergeRanges(C,M[T])}catch(M){console.error(M)}return this._stringRangesToCellRanges(C,b,_),C}_stringRangesToCellRanges(g,w,S){let b=0,_=!1,x=0,C=g[b];if(C){for(let k=S;k<this._bufferService.cols;k++){const M=w.getWidth(k),T=w.getString(k).length||a.WHITESPACE_CELL_CHAR.length;if(M!==0){if(!_&&C[0]<=x&&(C[0]=k,_=!0),C[1]<=x){if(C[1]=k,C=g[++b],!C)break;C[0]<=x?(C[0]=k,_=!0):_=!1}x+=T}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(g,w){let S=!1;for(let b=0;b<g.length;b++){const _=g[b];if(S){if(w[1]<=_[0])return g[b-1][1]=w[1],g;if(w[1]<=_[1])return g[b-1][1]=Math.max(w[1],_[1]),g.splice(b,1),g;g.splice(b,1),b--}else{if(w[1]<=_[0])return g.splice(b,0,w),g;if(w[1]<=_[1])return _[0]=Math.min(w[0],_[0]),g;w[0]<_[1]&&(_[0]=Math.min(w[0],_[0]),S=!0)}}return S?g[g.length-1][1]=w[1]:g.push(w),g}};c.CharacterJoinerService=p=d([o(0,h.IBufferService)],p)},5114:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoreBrowserService=void 0;const d=s(844),o=s(8460),r=s(3656);class a extends d.Disposable{constructor(f,p,m){super(),this._textarea=f,this._window=p,this.mainDocument=m,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new l(this._window),this._onDprChange=this.register(new o.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new o.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(g=>this._screenDprMonitor.setWindow(g))),this.register((0,o.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(f){this._window!==f&&(this._window=f,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}c.CoreBrowserService=a;class l extends d.Disposable{constructor(f){super(),this._parentWindow=f,this._windowResizeListener=this.register(new d.MutableDisposable),this._onDprChange=this.register(new o.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,d.toDisposable)(()=>this.clearListener()))}setWindow(f){this._parentWindow=f,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,r.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var f;this._outerListener&&((f=this._resolutionMediaMatchList)==null||f.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.LinkProviderService=void 0;const d=s(844);class o extends d.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,d.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(a){return this.linkProviders.push(a),{dispose:()=>{const l=this.linkProviders.indexOf(a);l!==-1&&this.linkProviders.splice(l,1)}}}}c.LinkProviderService=o},8934:function(y,c,s){var d=this&&this.__decorate||function(h,f,p,m){var g,w=arguments.length,S=w<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,p):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,f,p,m);else for(var b=h.length-1;b>=0;b--)(g=h[b])&&(S=(w<3?g(S):w>3?g(f,p,S):g(f,p))||S);return w>3&&S&&Object.defineProperty(f,p,S),S},o=this&&this.__param||function(h,f){return function(p,m){f(p,m,h)}};Object.defineProperty(c,"__esModule",{value:!0}),c.MouseService=void 0;const r=s(4725),a=s(9806);let l=c.MouseService=class{constructor(h,f){this._renderService=h,this._charSizeService=f}getCoords(h,f,p,m,g){return(0,a.getCoords)(window,h,f,p,m,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(h,f){const p=(0,a.getCoordsRelativeToElement)(window,h,f);if(this._charSizeService.hasValidSize)return p[0]=Math.min(Math.max(p[0],0),this._renderService.dimensions.css.canvas.width-1),p[1]=Math.min(Math.max(p[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(p[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(p[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(p[0]),y:Math.floor(p[1])}}};c.MouseService=l=d([o(0,r.IRenderService),o(1,r.ICharSizeService)],l)},3230:function(y,c,s){var d=this&&this.__decorate||function(g,w,S,b){var _,x=arguments.length,C=x<3?w:b===null?b=Object.getOwnPropertyDescriptor(w,S):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,w,S,b);else for(var k=g.length-1;k>=0;k--)(_=g[k])&&(C=(x<3?_(C):x>3?_(w,S,C):_(w,S))||C);return x>3&&C&&Object.defineProperty(w,S,C),C},o=this&&this.__param||function(g,w){return function(S,b){w(S,b,g)}};Object.defineProperty(c,"__esModule",{value:!0}),c.RenderService=void 0;const r=s(6193),a=s(4725),l=s(8460),h=s(844),f=s(7226),p=s(2585);let m=c.RenderService=class extends h.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(g,w,S,b,_,x,C,k){super(),this._rowCount=g,this._charSizeService=b,this._renderer=this.register(new h.MutableDisposable),this._pausedResizeTask=new f.DebouncedIdleTask,this._observerDisposable=this.register(new h.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new l.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new l.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new l.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new l.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new r.RenderDebouncer((M,T)=>this._renderRows(M,T),C),this.register(this._renderDebouncer),this.register(C.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(x.onResize(()=>this._fullRefresh())),this.register(x.buffers.onBufferActivate(()=>{var M;return(M=this._renderer.value)==null?void 0:M.clear()})),this.register(S.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(_.onDecorationRegistered(()=>this._fullRefresh())),this.register(_.onDecorationRemoved(()=>this._fullRefresh())),this.register(S.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(x.cols,x.rows),this._fullRefresh()})),this.register(S.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(x.buffer.y,x.buffer.y,!0))),this.register(k.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(C.window,w),this.register(C.onWindowChange(M=>this._registerIntersectionObserver(M,w)))}_registerIntersectionObserver(g,w){if("IntersectionObserver"in g){const S=new g.IntersectionObserver(b=>this._handleIntersectionChange(b[b.length-1]),{threshold:0});S.observe(w),this._observerDisposable.value=(0,h.toDisposable)(()=>S.disconnect())}}_handleIntersectionChange(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(g,w,S=!1){this._isPaused?this._needsFullRefresh=!0:(S||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,w,this._rowCount))}_renderRows(g,w){this._renderer.value&&(g=Math.min(g,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(g,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:g,end:w}),this._onRender.fire({start:g,end:w}),this._isNextRenderRedrawOnly=!0)}resize(g,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(g){this._renderer.value=g,this._renderer.value&&(this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(g){return this._renderDebouncer.addRefreshCallback(g)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var g,w;this._renderer.value&&((w=(g=this._renderer.value).clearTextureAtlas)==null||w.call(g),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(g,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var S;return(S=this._renderer.value)==null?void 0:S.handleResize(g,w)}):this._renderer.value.handleResize(g,w),this._fullRefresh())}handleCharSizeChanged(){var g;(g=this._renderer.value)==null||g.handleCharSizeChanged()}handleBlur(){var g;(g=this._renderer.value)==null||g.handleBlur()}handleFocus(){var g;(g=this._renderer.value)==null||g.handleFocus()}handleSelectionChanged(g,w,S){var b;this._selectionState.start=g,this._selectionState.end=w,this._selectionState.columnSelectMode=S,(b=this._renderer.value)==null||b.handleSelectionChanged(g,w,S)}handleCursorMove(){var g;(g=this._renderer.value)==null||g.handleCursorMove()}clear(){var g;(g=this._renderer.value)==null||g.clear()}};c.RenderService=m=d([o(2,p.IOptionsService),o(3,a.ICharSizeService),o(4,p.IDecorationService),o(5,p.IBufferService),o(6,a.ICoreBrowserService),o(7,a.IThemeService)],m)},9312:function(y,c,s){var d=this&&this.__decorate||function(C,k,M,T){var L,E=arguments.length,A=E<3?k:T===null?T=Object.getOwnPropertyDescriptor(k,M):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(C,k,M,T);else for(var R=C.length-1;R>=0;R--)(L=C[R])&&(A=(E<3?L(A):E>3?L(k,M,A):L(k,M))||A);return E>3&&A&&Object.defineProperty(k,M,A),A},o=this&&this.__param||function(C,k){return function(M,T){k(M,T,C)}};Object.defineProperty(c,"__esModule",{value:!0}),c.SelectionService=void 0;const r=s(9806),a=s(9504),l=s(456),h=s(4725),f=s(8460),p=s(844),m=s(6114),g=s(4841),w=s(511),S=s(2585),b=" ",_=new RegExp(b,"g");let x=c.SelectionService=class extends p.Disposable{constructor(C,k,M,T,L,E,A,R,I){super(),this._element=C,this._screenElement=k,this._linkifier=M,this._bufferService=T,this._coreService=L,this._mouseService=E,this._optionsService=A,this._renderService=R,this._coreBrowserService=I,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new w.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new f.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new f.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new f.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new f.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=D=>this._handleMouseMove(D),this._mouseUpListener=D=>this._handleMouseUp(D),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(D=>this._handleTrim(D)),this.register(this._bufferService.buffers.onBufferActivate(D=>this._handleBufferActivate(D))),this.enable(),this._model=new l.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,p.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!C||!k||C[0]===k[0]&&C[1]===k[1])}get selectionText(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!C||!k)return"";const M=this._bufferService.buffer,T=[];if(this._activeSelectionMode===3){if(C[0]===k[0])return"";const L=C[0]<k[0]?C[0]:k[0],E=C[0]<k[0]?k[0]:C[0];for(let A=C[1];A<=k[1];A++){const R=M.translateBufferLineToString(A,!0,L,E);T.push(R)}}else{const L=C[1]===k[1]?k[0]:void 0;T.push(M.translateBufferLineToString(C[1],!0,C[0],L));for(let E=C[1]+1;E<=k[1]-1;E++){const A=M.lines.get(E),R=M.translateBufferLineToString(E,!0);A!=null&&A.isWrapped?T[T.length-1]+=R:T.push(R)}if(C[1]!==k[1]){const E=M.lines.get(k[1]),A=M.translateBufferLineToString(k[1],!0,0,k[0]);E&&E.isWrapped?T[T.length-1]+=A:T.push(A)}}return T.map(L=>L.replace(_," ")).join(m.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),m.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const k=this._getMouseBufferCoords(C),M=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!!(M&&T&&k)&&this._areCoordsInSelection(k,M,T)}isCellInSelection(C,k){const M=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!M||!T)&&this._areCoordsInSelection([C,k],M,T)}_areCoordsInSelection(C,k,M){return C[1]>k[1]&&C[1]<M[1]||k[1]===M[1]&&C[1]===k[1]&&C[0]>=k[0]&&C[0]<M[0]||k[1]<M[1]&&C[1]===M[1]&&C[0]<M[0]||k[1]<M[1]&&C[1]===k[1]&&C[0]>=k[0]}_selectWordAtCursor(C,k){var L,E;const M=(E=(L=this._linkifier.currentLink)==null?void 0:L.link)==null?void 0:E.range;if(M)return this._model.selectionStart=[M.start.x-1,M.start.y-1],this._model.selectionStartLength=(0,g.getRangeLength)(M,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const T=this._getMouseBufferCoords(C);return!!T&&(this._selectWordAt(T,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,k){this._model.clearSelection(),C=Math.max(C,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(C){this._model.handleTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const k=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(C){let k=(0,r.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const M=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=M?0:(k>M&&(k-=M),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(C){return m.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}handleMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._handleIncrementalClick(C):C.detail===1?this._handleSingleClick(C):C.detail===2?this._handleDoubleClick(C):C.detail===3&&this._handleTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_handleSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(C){const k=this._getMouseBufferCoords(C);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(C){return C.altKey&&!(m.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const M=this._bufferService.buffer;if(this._model.selectionEnd[1]<M.lines.length){const T=M.lines.get(this._model.selectionEnd[1]);T&&T.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_handleMouseUp(C){const k=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const M=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(M&&M[0]!==void 0&&M[1]!==void 0){const T=(0,a.moveToCellSequence)(M[0]-1,M[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(T,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,M=!(!C||!k||C[0]===k[0]&&C[1]===k[1]);M?C&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,k,M)):this._oldHasSelection&&this._fireOnSelectionChange(C,k,M)}_fireOnSelectionChange(C,k,M){this._oldSelectionStart=C,this._oldSelectionEnd=k,this._oldHasSelection=M,this._onSelectionChange.fire()}_handleBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(C,k){let M=k;for(let T=0;k>=T;T++){const L=C.loadCell(T,this._workCell).getChars().length;this._workCell.getWidth()===0?M--:L>1&&k!==T&&(M+=L-1)}return M}setSelection(C,k,M){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,k],this._model.selectionStartLength=M,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,k,M=!0,T=!0){if(C[0]>=this._bufferService.cols)return;const L=this._bufferService.buffer,E=L.lines.get(C[1]);if(!E)return;const A=L.translateBufferLineToString(C[1],!1);let R=this._convertViewportColToCharacterIndex(E,C[0]),I=R;const D=C[0]-R;let P=0,O=0,$=0,N=0;if(A.charAt(R)===" "){for(;R>0&&A.charAt(R-1)===" ";)R--;for(;I<A.length&&A.charAt(I+1)===" ";)I++}else{let z=C[0],U=C[0];E.getWidth(z)===0&&(P++,z--),E.getWidth(U)===2&&(O++,U++);const V=E.getString(U).length;for(V>1&&(N+=V-1,I+=V-1);z>0&&R>0&&!this._isCharWordSeparator(E.loadCell(z-1,this._workCell));){E.loadCell(z-1,this._workCell);const W=this._workCell.getChars().length;this._workCell.getWidth()===0?(P++,z--):W>1&&($+=W-1,R-=W-1),R--,z--}for(;U<E.length&&I+1<A.length&&!this._isCharWordSeparator(E.loadCell(U+1,this._workCell));){E.loadCell(U+1,this._workCell);const W=this._workCell.getChars().length;this._workCell.getWidth()===2?(O++,U++):W>1&&(N+=W-1,I+=W-1),I++,U++}}I++;let H=R+D-P+$,B=Math.min(this._bufferService.cols,I-R+P+O-$-N);if(k||A.slice(R,I).trim()!==""){if(M&&H===0&&E.getCodePoint(0)!==32){const z=L.lines.get(C[1]-1);if(z&&E.isWrapped&&z.getCodePoint(this._bufferService.cols-1)!==32){const U=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if(U){const V=this._bufferService.cols-U.start;H-=V,B+=V}}}if(T&&H+B===this._bufferService.cols&&E.getCodePoint(this._bufferService.cols-1)!==32){const z=L.lines.get(C[1]+1);if(z!=null&&z.isWrapped&&z.getCodePoint(0)!==32){const U=this._getWordAt([0,C[1]+1],!1,!1,!0);U&&(B+=U.length)}}return{start:H,length:B}}}_selectWordAt(C,k){const M=this._getWordAt(C,k);if(M){for(;M.start<0;)M.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[M.start,C[1]],this._model.selectionStartLength=M.length}}_selectToWordAt(C){const k=this._getWordAt(C,!0);if(k){let M=C[1];for(;k.start<0;)k.start+=this._bufferService.cols,M--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,M++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,M]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const k=this._bufferService.buffer.getWrappedRangeForLine(C),M={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,g.getRangeLength)(M,this._bufferService.cols)}};c.SelectionService=x=d([o(3,S.IBufferService),o(4,S.ICoreService),o(5,h.IMouseService),o(6,S.IOptionsService),o(7,h.IRenderService),o(8,h.ICoreBrowserService)],x)},4725:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ILinkProviderService=c.IThemeService=c.ICharacterJoinerService=c.ISelectionService=c.IRenderService=c.IMouseService=c.ICoreBrowserService=c.ICharSizeService=void 0;const d=s(8343);c.ICharSizeService=(0,d.createDecorator)("CharSizeService"),c.ICoreBrowserService=(0,d.createDecorator)("CoreBrowserService"),c.IMouseService=(0,d.createDecorator)("MouseService"),c.IRenderService=(0,d.createDecorator)("RenderService"),c.ISelectionService=(0,d.createDecorator)("SelectionService"),c.ICharacterJoinerService=(0,d.createDecorator)("CharacterJoinerService"),c.IThemeService=(0,d.createDecorator)("ThemeService"),c.ILinkProviderService=(0,d.createDecorator)("LinkProviderService")},6731:function(y,c,s){var d=this&&this.__decorate||function(x,C,k,M){var T,L=arguments.length,E=L<3?C:M===null?M=Object.getOwnPropertyDescriptor(C,k):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(x,C,k,M);else for(var A=x.length-1;A>=0;A--)(T=x[A])&&(E=(L<3?T(E):L>3?T(C,k,E):T(C,k))||E);return L>3&&E&&Object.defineProperty(C,k,E),E},o=this&&this.__param||function(x,C){return function(k,M){C(k,M,x)}};Object.defineProperty(c,"__esModule",{value:!0}),c.ThemeService=c.DEFAULT_ANSI_COLORS=void 0;const r=s(7239),a=s(8055),l=s(8460),h=s(844),f=s(2585),p=a.css.toColor("#ffffff"),m=a.css.toColor("#000000"),g=a.css.toColor("#ffffff"),w=a.css.toColor("#000000"),S={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};c.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const x=[a.css.toColor("#2e3436"),a.css.toColor("#cc0000"),a.css.toColor("#4e9a06"),a.css.toColor("#c4a000"),a.css.toColor("#3465a4"),a.css.toColor("#75507b"),a.css.toColor("#06989a"),a.css.toColor("#d3d7cf"),a.css.toColor("#555753"),a.css.toColor("#ef2929"),a.css.toColor("#8ae234"),a.css.toColor("#fce94f"),a.css.toColor("#729fcf"),a.css.toColor("#ad7fa8"),a.css.toColor("#34e2e2"),a.css.toColor("#eeeeec")],C=[0,95,135,175,215,255];for(let k=0;k<216;k++){const M=C[k/36%6|0],T=C[k/6%6|0],L=C[k%6];x.push({css:a.channels.toCss(M,T,L),rgba:a.channels.toRgba(M,T,L)})}for(let k=0;k<24;k++){const M=8+10*k;x.push({css:a.channels.toCss(M,M,M),rgba:a.channels.toRgba(M,M,M)})}return x})());let b=c.ThemeService=class extends h.Disposable{get colors(){return this._colors}constructor(x){super(),this._optionsService=x,this._contrastCache=new r.ColorContrastCache,this._halfContrastCache=new r.ColorContrastCache,this._onChangeColors=this.register(new l.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:p,background:m,cursor:g,cursorAccent:w,selectionForeground:void 0,selectionBackgroundTransparent:S,selectionBackgroundOpaque:a.color.blend(m,S),selectionInactiveBackgroundTransparent:S,selectionInactiveBackgroundOpaque:a.color.blend(m,S),ansi:c.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(x={}){const C=this._colors;if(C.foreground=_(x.foreground,p),C.background=_(x.background,m),C.cursor=_(x.cursor,g),C.cursorAccent=_(x.cursorAccent,w),C.selectionBackgroundTransparent=_(x.selectionBackground,S),C.selectionBackgroundOpaque=a.color.blend(C.background,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundTransparent=_(x.selectionInactiveBackground,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundOpaque=a.color.blend(C.background,C.selectionInactiveBackgroundTransparent),C.selectionForeground=x.selectionForeground?_(x.selectionForeground,a.NULL_COLOR):void 0,C.selectionForeground===a.NULL_COLOR&&(C.selectionForeground=void 0),a.color.isOpaque(C.selectionBackgroundTransparent)&&(C.selectionBackgroundTransparent=a.color.opacity(C.selectionBackgroundTransparent,.3)),a.color.isOpaque(C.selectionInactiveBackgroundTransparent)&&(C.selectionInactiveBackgroundTransparent=a.color.opacity(C.selectionInactiveBackgroundTransparent,.3)),C.ansi=c.DEFAULT_ANSI_COLORS.slice(),C.ansi[0]=_(x.black,c.DEFAULT_ANSI_COLORS[0]),C.ansi[1]=_(x.red,c.DEFAULT_ANSI_COLORS[1]),C.ansi[2]=_(x.green,c.DEFAULT_ANSI_COLORS[2]),C.ansi[3]=_(x.yellow,c.DEFAULT_ANSI_COLORS[3]),C.ansi[4]=_(x.blue,c.DEFAULT_ANSI_COLORS[4]),C.ansi[5]=_(x.magenta,c.DEFAULT_ANSI_COLORS[5]),C.ansi[6]=_(x.cyan,c.DEFAULT_ANSI_COLORS[6]),C.ansi[7]=_(x.white,c.DEFAULT_ANSI_COLORS[7]),C.ansi[8]=_(x.brightBlack,c.DEFAULT_ANSI_COLORS[8]),C.ansi[9]=_(x.brightRed,c.DEFAULT_ANSI_COLORS[9]),C.ansi[10]=_(x.brightGreen,c.DEFAULT_ANSI_COLORS[10]),C.ansi[11]=_(x.brightYellow,c.DEFAULT_ANSI_COLORS[11]),C.ansi[12]=_(x.brightBlue,c.DEFAULT_ANSI_COLORS[12]),C.ansi[13]=_(x.brightMagenta,c.DEFAULT_ANSI_COLORS[13]),C.ansi[14]=_(x.brightCyan,c.DEFAULT_ANSI_COLORS[14]),C.ansi[15]=_(x.brightWhite,c.DEFAULT_ANSI_COLORS[15]),x.extendedAnsi){const k=Math.min(C.ansi.length-16,x.extendedAnsi.length);for(let M=0;M<k;M++)C.ansi[M+16]=_(x.extendedAnsi[M],c.DEFAULT_ANSI_COLORS[M+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(x){this._restoreColor(x),this._onChangeColors.fire(this.colors)}_restoreColor(x){if(x!==void 0)switch(x){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[x]=this._restoreColors.ansi[x]}else for(let C=0;C<this._restoreColors.ansi.length;++C)this._colors.ansi[C]=this._restoreColors.ansi[C]}modifyColors(x){x(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function _(x,C){if(x!==void 0)try{return a.css.toColor(x)}catch{}return C}c.ThemeService=b=d([o(0,f.IOptionsService)],b)},6349:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CircularList=void 0;const d=s(8460),o=s(844);class r extends o.Disposable{constructor(l){super(),this._maxLength=l,this.onDeleteEmitter=this.register(new d.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new d.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new d.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(l){if(this._maxLength===l)return;const h=new Array(l);for(let f=0;f<Math.min(l,this.length);f++)h[f]=this._array[this._getCyclicIndex(f)];this._array=h,this._maxLength=l,this._startIndex=0}get length(){return this._length}set length(l){if(l>this._length)for(let h=this._length;h<l;h++)this._array[h]=void 0;this._length=l}get(l){return this._array[this._getCyclicIndex(l)]}set(l,h){this._array[this._getCyclicIndex(l)]=h}push(l){this._array[this._getCyclicIndex(this._length)]=l,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(l,h,...f){if(h){for(let p=l;p<this._length-h;p++)this._array[this._getCyclicIndex(p)]=this._array[this._getCyclicIndex(p+h)];this._length-=h,this.onDeleteEmitter.fire({index:l,amount:h})}for(let p=this._length-1;p>=l;p--)this._array[this._getCyclicIndex(p+f.length)]=this._array[this._getCyclicIndex(p)];for(let p=0;p<f.length;p++)this._array[this._getCyclicIndex(l+p)]=f[p];if(f.length&&this.onInsertEmitter.fire({index:l,amount:f.length}),this._length+f.length>this._maxLength){const p=this._length+f.length-this._maxLength;this._startIndex+=p,this._length=this._maxLength,this.onTrimEmitter.fire(p)}else this._length+=f.length}trimStart(l){l>this._length&&(l=this._length),this._startIndex+=l,this._length-=l,this.onTrimEmitter.fire(l)}shiftElements(l,h,f){if(!(h<=0)){if(l<0||l>=this._length)throw new Error("start argument out of range");if(l+f<0)throw new Error("Cannot shift elements in list beyond index 0");if(f>0){for(let m=h-1;m>=0;m--)this.set(l+m+f,this.get(l+m));const p=l+h+f-this._length;if(p>0)for(this._length+=p;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let p=0;p<h;p++)this.set(l+p+f,this.get(l+p))}}_getCyclicIndex(l){return(this._startIndex+l)%this._maxLength}}c.CircularList=r},1439:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.clone=void 0,c.clone=function s(d,o=5){if(typeof d!="object")return d;const r=Array.isArray(d)?[]:{};for(const a in d)r[a]=o<=1?d[a]:d[a]&&s(d[a],o-1);return r}},8055:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.contrastRatio=c.toPaddedHex=c.rgba=c.rgb=c.css=c.color=c.channels=c.NULL_COLOR=void 0;let s=0,d=0,o=0,r=0;var a,l,h,f,p;function m(w){const S=w.toString(16);return S.length<2?"0"+S:S}function g(w,S){return w<S?(S+.05)/(w+.05):(w+.05)/(S+.05)}c.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(S,b,_,x){return x!==void 0?`#${m(S)}${m(b)}${m(_)}${m(x)}`:`#${m(S)}${m(b)}${m(_)}`},w.toRgba=function(S,b,_,x=255){return(S<<24|b<<16|_<<8|x)>>>0},w.toColor=function(S,b,_,x){return{css:w.toCss(S,b,_,x),rgba:w.toRgba(S,b,_,x)}}}(a||(c.channels=a={})),function(w){function S(b,_){return r=Math.round(255*_),[s,d,o]=p.toChannels(b.rgba),{css:a.toCss(s,d,o,r),rgba:a.toRgba(s,d,o,r)}}w.blend=function(b,_){if(r=(255&_.rgba)/255,r===1)return{css:_.css,rgba:_.rgba};const x=_.rgba>>24&255,C=_.rgba>>16&255,k=_.rgba>>8&255,M=b.rgba>>24&255,T=b.rgba>>16&255,L=b.rgba>>8&255;return s=M+Math.round((x-M)*r),d=T+Math.round((C-T)*r),o=L+Math.round((k-L)*r),{css:a.toCss(s,d,o),rgba:a.toRgba(s,d,o)}},w.isOpaque=function(b){return(255&b.rgba)==255},w.ensureContrastRatio=function(b,_,x){const C=p.ensureContrastRatio(b.rgba,_.rgba,x);if(C)return a.toColor(C>>24&255,C>>16&255,C>>8&255)},w.opaque=function(b){const _=(255|b.rgba)>>>0;return[s,d,o]=p.toChannels(_),{css:a.toCss(s,d,o),rgba:_}},w.opacity=S,w.multiplyOpacity=function(b,_){return r=255&b.rgba,S(b,r*_/255)},w.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(l||(c.color=l={})),function(w){let S,b;try{const _=document.createElement("canvas");_.width=1,_.height=1;const x=_.getContext("2d",{willReadFrequently:!0});x&&(S=x,S.globalCompositeOperation="copy",b=S.createLinearGradient(0,0,1,1))}catch{}w.toColor=function(_){if(_.match(/#[\da-f]{3,8}/i))switch(_.length){case 4:return s=parseInt(_.slice(1,2).repeat(2),16),d=parseInt(_.slice(2,3).repeat(2),16),o=parseInt(_.slice(3,4).repeat(2),16),a.toColor(s,d,o);case 5:return s=parseInt(_.slice(1,2).repeat(2),16),d=parseInt(_.slice(2,3).repeat(2),16),o=parseInt(_.slice(3,4).repeat(2),16),r=parseInt(_.slice(4,5).repeat(2),16),a.toColor(s,d,o,r);case 7:return{css:_,rgba:(parseInt(_.slice(1),16)<<8|255)>>>0};case 9:return{css:_,rgba:parseInt(_.slice(1),16)>>>0}}const x=_.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(x)return s=parseInt(x[1]),d=parseInt(x[2]),o=parseInt(x[3]),r=Math.round(255*(x[5]===void 0?1:parseFloat(x[5]))),a.toColor(s,d,o,r);if(!S||!b)throw new Error("css.toColor: Unsupported css format");if(S.fillStyle=b,S.fillStyle=_,typeof S.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(S.fillRect(0,0,1,1),[s,d,o,r]=S.getImageData(0,0,1,1).data,r!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:a.toRgba(s,d,o,r),css:_}}}(h||(c.css=h={})),function(w){function S(b,_,x){const C=b/255,k=_/255,M=x/255;return .2126*(C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4))}w.relativeLuminance=function(b){return S(b>>16&255,b>>8&255,255&b)},w.relativeLuminance2=S}(f||(c.rgb=f={})),function(w){function S(_,x,C){const k=_>>24&255,M=_>>16&255,T=_>>8&255;let L=x>>24&255,E=x>>16&255,A=x>>8&255,R=g(f.relativeLuminance2(L,E,A),f.relativeLuminance2(k,M,T));for(;R<C&&(L>0||E>0||A>0);)L-=Math.max(0,Math.ceil(.1*L)),E-=Math.max(0,Math.ceil(.1*E)),A-=Math.max(0,Math.ceil(.1*A)),R=g(f.relativeLuminance2(L,E,A),f.relativeLuminance2(k,M,T));return(L<<24|E<<16|A<<8|255)>>>0}function b(_,x,C){const k=_>>24&255,M=_>>16&255,T=_>>8&255;let L=x>>24&255,E=x>>16&255,A=x>>8&255,R=g(f.relativeLuminance2(L,E,A),f.relativeLuminance2(k,M,T));for(;R<C&&(L<255||E<255||A<255);)L=Math.min(255,L+Math.ceil(.1*(255-L))),E=Math.min(255,E+Math.ceil(.1*(255-E))),A=Math.min(255,A+Math.ceil(.1*(255-A))),R=g(f.relativeLuminance2(L,E,A),f.relativeLuminance2(k,M,T));return(L<<24|E<<16|A<<8|255)>>>0}w.blend=function(_,x){if(r=(255&x)/255,r===1)return x;const C=x>>24&255,k=x>>16&255,M=x>>8&255,T=_>>24&255,L=_>>16&255,E=_>>8&255;return s=T+Math.round((C-T)*r),d=L+Math.round((k-L)*r),o=E+Math.round((M-E)*r),a.toRgba(s,d,o)},w.ensureContrastRatio=function(_,x,C){const k=f.relativeLuminance(_>>8),M=f.relativeLuminance(x>>8);if(g(k,M)<C){if(M<k){const E=S(_,x,C),A=g(k,f.relativeLuminance(E>>8));if(A<C){const R=b(_,x,C);return A>g(k,f.relativeLuminance(R>>8))?E:R}return E}const T=b(_,x,C),L=g(k,f.relativeLuminance(T>>8));if(L<C){const E=S(_,x,C);return L>g(k,f.relativeLuminance(E>>8))?T:E}return T}},w.reduceLuminance=S,w.increaseLuminance=b,w.toChannels=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]}}(p||(c.rgba=p={})),c.toPaddedHex=m,c.contrastRatio=g},8969:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CoreTerminal=void 0;const d=s(844),o=s(2585),r=s(4348),a=s(7866),l=s(744),h=s(7302),f=s(6975),p=s(8460),m=s(1753),g=s(1480),w=s(7994),S=s(9282),b=s(5435),_=s(5981),x=s(2660);let C=!1;class k extends d.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new p.EventEmitter),this._onScroll.event(T=>{var L;(L=this._onScrollApi)==null||L.fire(T.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(T){for(const L in T)this.optionsService.options[L]=T[L]}constructor(T){super(),this._windowsWrappingHeuristics=this.register(new d.MutableDisposable),this._onBinary=this.register(new p.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new p.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new p.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new p.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new p.EventEmitter),this._instantiationService=new r.InstantiationService,this.optionsService=this.register(new h.OptionsService(T)),this._instantiationService.setService(o.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(l.BufferService)),this._instantiationService.setService(o.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(a.LogService)),this._instantiationService.setService(o.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(f.CoreService)),this._instantiationService.setService(o.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(m.CoreMouseService)),this._instantiationService.setService(o.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(o.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(w.CharsetService),this._instantiationService.setService(o.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(x.OscLinkService),this._instantiationService.setService(o.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new b.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,p.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,p.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,p.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,p.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(L=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(L=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new _.WriteBuffer((L,E)=>this._inputHandler.parse(L,E))),this.register((0,p.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(T,L){this._writeBuffer.write(T,L)}writeSync(T,L){this._logService.logLevel<=o.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(T,L)}input(T,L=!0){this.coreService.triggerDataEvent(T,L)}resize(T,L){isNaN(T)||isNaN(L)||(T=Math.max(T,l.MINIMUM_COLS),L=Math.max(L,l.MINIMUM_ROWS),this._bufferService.resize(T,L))}scroll(T,L=!1){this._bufferService.scroll(T,L)}scrollLines(T,L,E){this._bufferService.scrollLines(T,L,E)}scrollPages(T){this.scrollLines(T*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(T){const L=T-this._bufferService.buffer.ydisp;L!==0&&this.scrollLines(L)}registerEscHandler(T,L){return this._inputHandler.registerEscHandler(T,L)}registerDcsHandler(T,L){return this._inputHandler.registerDcsHandler(T,L)}registerCsiHandler(T,L){return this._inputHandler.registerCsiHandler(T,L)}registerOscHandler(T,L){return this._inputHandler.registerOscHandler(T,L)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let T=!1;const L=this.optionsService.rawOptions.windowsPty;L&&L.buildNumber!==void 0&&L.buildNumber!==void 0?T=L.backend==="conpty"&&L.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(T=!0),T?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const T=[];T.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),T.push(this.registerCsiHandler({final:"H"},()=>((0,S.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,d.toDisposable)(()=>{for(const L of T)L.dispose()})}}}c.CoreTerminal=k},8460:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.runAndSubscribe=c.forwardEvent=c.EventEmitter=void 0,c.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=s=>(this._listeners.push(s),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===s)return void this._listeners.splice(d,1)}}})),this._event}fire(s,d){const o=[];for(let r=0;r<this._listeners.length;r++)o.push(this._listeners[r]);for(let r=0;r<o.length;r++)o[r].call(void 0,s,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},c.forwardEvent=function(s,d){return s(o=>d.fire(o))},c.runAndSubscribe=function(s,d){return d(void 0),s(o=>d(o))}},5435:function(y,c,s){var d=this&&this.__decorate||function(P,O,$,N){var H,B=arguments.length,z=B<3?O:N===null?N=Object.getOwnPropertyDescriptor(O,$):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(P,O,$,N);else for(var U=P.length-1;U>=0;U--)(H=P[U])&&(z=(B<3?H(z):B>3?H(O,$,z):H(O,$))||z);return B>3&&z&&Object.defineProperty(O,$,z),z},o=this&&this.__param||function(P,O){return function($,N){O($,N,P)}};Object.defineProperty(c,"__esModule",{value:!0}),c.InputHandler=c.WindowsOptionsReportType=void 0;const r=s(2584),a=s(7116),l=s(2015),h=s(844),f=s(482),p=s(8437),m=s(8460),g=s(643),w=s(511),S=s(3734),b=s(2585),_=s(1480),x=s(6242),C=s(6351),k=s(5941),M={"(":0,")":1,"*":2,"+":3,"-":1,".":2},T=131072;function L(P,O){if(P>24)return O.setWinLines||!1;switch(P){case 1:return!!O.restoreWin;case 2:return!!O.minimizeWin;case 3:return!!O.setWinPosition;case 4:return!!O.setWinSizePixels;case 5:return!!O.raiseWin;case 6:return!!O.lowerWin;case 7:return!!O.refreshWin;case 8:return!!O.setWinSizeChars;case 9:return!!O.maximizeWin;case 10:return!!O.fullscreenWin;case 11:return!!O.getWinState;case 13:return!!O.getWinPosition;case 14:return!!O.getWinSizePixels;case 15:return!!O.getScreenSizePixels;case 16:return!!O.getCellSizePixels;case 18:return!!O.getWinSizeChars;case 19:return!!O.getScreenSizeChars;case 20:return!!O.getIconTitle;case 21:return!!O.getWinTitle;case 22:return!!O.pushTitle;case 23:return!!O.popTitle;case 24:return!!O.setWinLines}return!1}var E;(function(P){P[P.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",P[P.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(E||(c.WindowsOptionsReportType=E={}));let A=0;class R extends h.Disposable{getAttrData(){return this._curAttrData}constructor(O,$,N,H,B,z,U,V,W=new l.EscapeSequenceParser){super(),this._bufferService=O,this._charsetService=$,this._coreService=N,this._logService=H,this._optionsService=B,this._oscLinkService=z,this._coreMouseService=U,this._unicodeService=V,this._parser=W,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new f.StringToUtf32,this._utf8Decoder=new f.Utf8ToUtf32,this._workCell=new w.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=p.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=p.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new m.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new m.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new m.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new m.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new m.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new m.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new m.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new m.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new m.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new m.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new m.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new m.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new I(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(F=>this._activeBuffer=F.activeBuffer)),this._parser.setCsiHandlerFallback((F,Y)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(F),params:Y.toArray()})}),this._parser.setEscHandlerFallback(F=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(F)})}),this._parser.setExecuteHandlerFallback(F=>{this._logService.debug("Unknown EXECUTE code: ",{code:F})}),this._parser.setOscHandlerFallback((F,Y,G)=>{this._logService.debug("Unknown OSC code: ",{identifier:F,action:Y,data:G})}),this._parser.setDcsHandlerFallback((F,Y,G)=>{Y==="HOOK"&&(G=G.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(F),action:Y,payload:G})}),this._parser.setPrintHandler((F,Y,G)=>this.print(F,Y,G)),this._parser.registerCsiHandler({final:"@"},F=>this.insertChars(F)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},F=>this.scrollLeft(F)),this._parser.registerCsiHandler({final:"A"},F=>this.cursorUp(F)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},F=>this.scrollRight(F)),this._parser.registerCsiHandler({final:"B"},F=>this.cursorDown(F)),this._parser.registerCsiHandler({final:"C"},F=>this.cursorForward(F)),this._parser.registerCsiHandler({final:"D"},F=>this.cursorBackward(F)),this._parser.registerCsiHandler({final:"E"},F=>this.cursorNextLine(F)),this._parser.registerCsiHandler({final:"F"},F=>this.cursorPrecedingLine(F)),this._parser.registerCsiHandler({final:"G"},F=>this.cursorCharAbsolute(F)),this._parser.registerCsiHandler({final:"H"},F=>this.cursorPosition(F)),this._parser.registerCsiHandler({final:"I"},F=>this.cursorForwardTab(F)),this._parser.registerCsiHandler({final:"J"},F=>this.eraseInDisplay(F,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},F=>this.eraseInDisplay(F,!0)),this._parser.registerCsiHandler({final:"K"},F=>this.eraseInLine(F,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},F=>this.eraseInLine(F,!0)),this._parser.registerCsiHandler({final:"L"},F=>this.insertLines(F)),this._parser.registerCsiHandler({final:"M"},F=>this.deleteLines(F)),this._parser.registerCsiHandler({final:"P"},F=>this.deleteChars(F)),this._parser.registerCsiHandler({final:"S"},F=>this.scrollUp(F)),this._parser.registerCsiHandler({final:"T"},F=>this.scrollDown(F)),this._parser.registerCsiHandler({final:"X"},F=>this.eraseChars(F)),this._parser.registerCsiHandler({final:"Z"},F=>this.cursorBackwardTab(F)),this._parser.registerCsiHandler({final:"`"},F=>this.charPosAbsolute(F)),this._parser.registerCsiHandler({final:"a"},F=>this.hPositionRelative(F)),this._parser.registerCsiHandler({final:"b"},F=>this.repeatPrecedingCharacter(F)),this._parser.registerCsiHandler({final:"c"},F=>this.sendDeviceAttributesPrimary(F)),this._parser.registerCsiHandler({prefix:">",final:"c"},F=>this.sendDeviceAttributesSecondary(F)),this._parser.registerCsiHandler({final:"d"},F=>this.linePosAbsolute(F)),this._parser.registerCsiHandler({final:"e"},F=>this.vPositionRelative(F)),this._parser.registerCsiHandler({final:"f"},F=>this.hVPosition(F)),this._parser.registerCsiHandler({final:"g"},F=>this.tabClear(F)),this._parser.registerCsiHandler({final:"h"},F=>this.setMode(F)),this._parser.registerCsiHandler({prefix:"?",final:"h"},F=>this.setModePrivate(F)),this._parser.registerCsiHandler({final:"l"},F=>this.resetMode(F)),this._parser.registerCsiHandler({prefix:"?",final:"l"},F=>this.resetModePrivate(F)),this._parser.registerCsiHandler({final:"m"},F=>this.charAttributes(F)),this._parser.registerCsiHandler({final:"n"},F=>this.deviceStatus(F)),this._parser.registerCsiHandler({prefix:"?",final:"n"},F=>this.deviceStatusPrivate(F)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},F=>this.softReset(F)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},F=>this.setCursorStyle(F)),this._parser.registerCsiHandler({final:"r"},F=>this.setScrollRegion(F)),this._parser.registerCsiHandler({final:"s"},F=>this.saveCursor(F)),this._parser.registerCsiHandler({final:"t"},F=>this.windowOptions(F)),this._parser.registerCsiHandler({final:"u"},F=>this.restoreCursor(F)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},F=>this.insertColumns(F)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},F=>this.deleteColumns(F)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},F=>this.selectProtected(F)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},F=>this.requestMode(F,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},F=>this.requestMode(F,!1)),this._parser.setExecuteHandler(r.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(r.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(r.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(r.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(r.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(r.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(r.C1.IND,()=>this.index()),this._parser.setExecuteHandler(r.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(r.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new x.OscHandler(F=>(this.setTitle(F),this.setIconName(F),!0))),this._parser.registerOscHandler(1,new x.OscHandler(F=>this.setIconName(F))),this._parser.registerOscHandler(2,new x.OscHandler(F=>this.setTitle(F))),this._parser.registerOscHandler(4,new x.OscHandler(F=>this.setOrReportIndexedColor(F))),this._parser.registerOscHandler(8,new x.OscHandler(F=>this.setHyperlink(F))),this._parser.registerOscHandler(10,new x.OscHandler(F=>this.setOrReportFgColor(F))),this._parser.registerOscHandler(11,new x.OscHandler(F=>this.setOrReportBgColor(F))),this._parser.registerOscHandler(12,new x.OscHandler(F=>this.setOrReportCursorColor(F))),this._parser.registerOscHandler(104,new x.OscHandler(F=>this.restoreIndexedColor(F))),this._parser.registerOscHandler(110,new x.OscHandler(F=>this.restoreFgColor(F))),this._parser.registerOscHandler(111,new x.OscHandler(F=>this.restoreBgColor(F))),this._parser.registerOscHandler(112,new x.OscHandler(F=>this.restoreCursorColor(F))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const F in a.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:F},()=>this.selectCharset("("+F)),this._parser.registerEscHandler({intermediates:")",final:F},()=>this.selectCharset(")"+F)),this._parser.registerEscHandler({intermediates:"*",final:F},()=>this.selectCharset("*"+F)),this._parser.registerEscHandler({intermediates:"+",final:F},()=>this.selectCharset("+"+F)),this._parser.registerEscHandler({intermediates:"-",final:F},()=>this.selectCharset("-"+F)),this._parser.registerEscHandler({intermediates:".",final:F},()=>this.selectCharset("."+F)),this._parser.registerEscHandler({intermediates:"/",final:F},()=>this.selectCharset("/"+F));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(F=>(this._logService.error("Parsing error: ",F),F)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new C.DcsHandler((F,Y)=>this.requestStatusString(F,Y)))}_preserveStack(O,$,N,H){this._parseStack.paused=!0,this._parseStack.cursorStartX=O,this._parseStack.cursorStartY=$,this._parseStack.decodedLength=N,this._parseStack.position=H}_logSlowResolvingAsync(O){this._logService.logLevel<=b.LogLevelEnum.WARN&&Promise.race([O,new Promise(($,N)=>setTimeout(()=>N("#SLOW_TIMEOUT"),5e3))]).catch($=>{if($!=="#SLOW_TIMEOUT")throw $;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(O,$){let N,H=this._activeBuffer.x,B=this._activeBuffer.y,z=0;const U=this._parseStack.paused;if(U){if(N=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,$))return this._logSlowResolvingAsync(N),N;H=this._parseStack.cursorStartX,B=this._parseStack.cursorStartY,this._parseStack.paused=!1,O.length>T&&(z=this._parseStack.position+T)}if(this._logService.logLevel<=b.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof O=="string"?` "${O}"`:` "${Array.prototype.map.call(O,F=>String.fromCharCode(F)).join("")}"`),typeof O=="string"?O.split("").map(F=>F.charCodeAt(0)):O),this._parseBuffer.length<O.length&&this._parseBuffer.length<T&&(this._parseBuffer=new Uint32Array(Math.min(O.length,T))),U||this._dirtyRowTracker.clearRange(),O.length>T)for(let F=z;F<O.length;F+=T){const Y=F+T<O.length?F+T:O.length,G=typeof O=="string"?this._stringDecoder.decode(O.substring(F,Y),this._parseBuffer):this._utf8Decoder.decode(O.subarray(F,Y),this._parseBuffer);if(N=this._parser.parse(this._parseBuffer,G))return this._preserveStack(H,B,G,F),this._logSlowResolvingAsync(N),N}else if(!U){const F=typeof O=="string"?this._stringDecoder.decode(O,this._parseBuffer):this._utf8Decoder.decode(O,this._parseBuffer);if(N=this._parser.parse(this._parseBuffer,F))return this._preserveStack(H,B,F,0),this._logSlowResolvingAsync(N),N}this._activeBuffer.x===H&&this._activeBuffer.y===B||this._onCursorMove.fire();const V=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),W=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);W<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(W,this._bufferService.rows-1),Math.min(V,this._bufferService.rows-1))}print(O,$,N){let H,B;const z=this._charsetService.charset,U=this._optionsService.rawOptions.screenReaderMode,V=this._bufferService.cols,W=this._coreService.decPrivateModes.wraparound,F=this._coreService.modes.insertMode,Y=this._curAttrData;let G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&N-$>0&&G.getWidth(this._activeBuffer.x-1)===2&&G.setCellFromCodepoint(this._activeBuffer.x-1,0,1,Y);let Q=this._parser.precedingJoinState;for(let J=$;J<N;++J){if(H=O[J],H<127&&z){const ke=z[String.fromCharCode(H)];ke&&(H=ke.charCodeAt(0))}const ce=this._unicodeService.charProperties(H,Q);B=_.UnicodeService.extractWidth(ce);const me=_.UnicodeService.extractShouldJoin(ce),de=me?_.UnicodeService.extractWidth(Q):0;if(Q=ce,U&&this._onA11yChar.fire((0,f.stringFromCodePoint)(H)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+B-de>V){if(W){const ke=G;let le=this._activeBuffer.x-de;for(this._activeBuffer.x=de,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),G=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),de>0&&G instanceof p.BufferLine&&G.copyCellsFrom(ke,le,0,de,!1);le<V;)ke.setCellFromCodepoint(le++,0,1,Y)}else if(this._activeBuffer.x=V-1,B===2)continue}if(me&&this._activeBuffer.x){const ke=G.getWidth(this._activeBuffer.x-1)?1:2;G.addCodepointToCell(this._activeBuffer.x-ke,H,B);for(let le=B-de;--le>=0;)G.setCellFromCodepoint(this._activeBuffer.x++,0,0,Y)}else if(F&&(G.insertCells(this._activeBuffer.x,B-de,this._activeBuffer.getNullCell(Y)),G.getWidth(V-1)===2&&G.setCellFromCodepoint(V-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,Y)),G.setCellFromCodepoint(this._activeBuffer.x++,H,B,Y),B>0)for(;--B;)G.setCellFromCodepoint(this._activeBuffer.x++,0,0,Y)}this._parser.precedingJoinState=Q,this._activeBuffer.x<V&&N-$>0&&G.getWidth(this._activeBuffer.x)===0&&!G.hasContent(this._activeBuffer.x)&&G.setCellFromCodepoint(this._activeBuffer.x,0,1,Y),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(O,$){return O.final!=="t"||O.prefix||O.intermediates?this._parser.registerCsiHandler(O,$):this._parser.registerCsiHandler(O,N=>!L(N.params[0],this._optionsService.rawOptions.windowOptions)||$(N))}registerDcsHandler(O,$){return this._parser.registerDcsHandler(O,new C.DcsHandler($))}registerEscHandler(O,$){return this._parser.registerEscHandler(O,$)}registerOscHandler(O,$){return this._parser.registerOscHandler(O,new x.OscHandler($))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var O;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((O=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&O.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);$.hasWidth(this._activeBuffer.x)&&!$.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const O=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-O),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(O=this._bufferService.cols-1){this._activeBuffer.x=Math.min(O,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(O,$){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=O,this._activeBuffer.y=this._activeBuffer.scrollTop+$):(this._activeBuffer.x=O,this._activeBuffer.y=$),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(O,$){this._restrictCursor(),this._setCursor(this._activeBuffer.x+O,this._activeBuffer.y+$)}cursorUp(O){const $=this._activeBuffer.y-this._activeBuffer.scrollTop;return $>=0?this._moveCursor(0,-Math.min($,O.params[0]||1)):this._moveCursor(0,-(O.params[0]||1)),!0}cursorDown(O){const $=this._activeBuffer.scrollBottom-this._activeBuffer.y;return $>=0?this._moveCursor(0,Math.min($,O.params[0]||1)):this._moveCursor(0,O.params[0]||1),!0}cursorForward(O){return this._moveCursor(O.params[0]||1,0),!0}cursorBackward(O){return this._moveCursor(-(O.params[0]||1),0),!0}cursorNextLine(O){return this.cursorDown(O),this._activeBuffer.x=0,!0}cursorPrecedingLine(O){return this.cursorUp(O),this._activeBuffer.x=0,!0}cursorCharAbsolute(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(O){return this._setCursor(O.length>=2?(O.params[1]||1)-1:0,(O.params[0]||1)-1),!0}charPosAbsolute(O){return this._setCursor((O.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(O){return this._moveCursor(O.params[0]||1,0),!0}linePosAbsolute(O){return this._setCursor(this._activeBuffer.x,(O.params[0]||1)-1),!0}vPositionRelative(O){return this._moveCursor(0,O.params[0]||1),!0}hVPosition(O){return this.cursorPosition(O),!0}tabClear(O){const $=O.params[0];return $===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:$===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let $=O.params[0]||1;for(;$--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(O){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let $=O.params[0]||1;for(;$--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(O){const $=O.params[0];return $===1&&(this._curAttrData.bg|=536870912),$!==2&&$!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(O,$,N,H=!1,B=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);z.replaceCells($,N,this._activeBuffer.getNullCell(this._eraseAttrData()),B),H&&(z.isWrapped=!1)}_resetBufferLine(O,$=!1){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);N&&(N.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),$),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+O),N.isWrapped=!1)}eraseInDisplay(O,$=!1){let N;switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:for(N=this._activeBuffer.y,this._dirtyRowTracker.markDirty(N),this._eraseInBufferLine(N++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,$);N<this._bufferService.rows;N++)this._resetBufferLine(N,$);this._dirtyRowTracker.markDirty(N);break;case 1:for(N=this._activeBuffer.y,this._dirtyRowTracker.markDirty(N),this._eraseInBufferLine(N,0,this._activeBuffer.x+1,!0,$),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(N+1).isWrapped=!1);N--;)this._resetBufferLine(N,$);this._dirtyRowTracker.markDirty(0);break;case 2:for(N=this._bufferService.rows,this._dirtyRowTracker.markDirty(N-1);N--;)this._resetBufferLine(N,$);this._dirtyRowTracker.markDirty(0);break;case 3:const H=this._activeBuffer.lines.length-this._bufferService.rows;H>0&&(this._activeBuffer.lines.trimStart(H),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-H,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-H,0),this._onScroll.fire(0))}return!0}eraseInLine(O,$=!1){switch(this._restrictCursor(this._bufferService.cols),O.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,$);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,$);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,$)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(O){this._restrictCursor();let $=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=this._activeBuffer.ybase+this._activeBuffer.y,H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,B=this._bufferService.rows-1+this._activeBuffer.ybase-H+1;for(;$--;)this._activeBuffer.lines.splice(B-1,1),this._activeBuffer.lines.splice(N,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(O){this._restrictCursor();let $=O.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=this._activeBuffer.ybase+this._activeBuffer.y;let H;for(H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,H=this._bufferService.rows-1+this._activeBuffer.ybase-H;$--;)this._activeBuffer.lines.splice(N,1),this._activeBuffer.lines.splice(H,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(O){this._restrictCursor();const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return $&&($.insertCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(O){this._restrictCursor();const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return $&&($.deleteCells(this._activeBuffer.x,O.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(O){let $=O.params[0]||1;for(;$--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(O){let $=O.params[0]||1;for(;$--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(p.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const $=O.params[0]||1;for(let N=this._activeBuffer.scrollTop;N<=this._activeBuffer.scrollBottom;++N){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);H.deleteCells(0,$,this._activeBuffer.getNullCell(this._eraseAttrData())),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const $=O.params[0]||1;for(let N=this._activeBuffer.scrollTop;N<=this._activeBuffer.scrollBottom;++N){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);H.insertCells(0,$,this._activeBuffer.getNullCell(this._eraseAttrData())),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const $=O.params[0]||1;for(let N=this._activeBuffer.scrollTop;N<=this._activeBuffer.scrollBottom;++N){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);H.insertCells(this._activeBuffer.x,$,this._activeBuffer.getNullCell(this._eraseAttrData())),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(O){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const $=O.params[0]||1;for(let N=this._activeBuffer.scrollTop;N<=this._activeBuffer.scrollBottom;++N){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);H.deleteCells(this._activeBuffer.x,$,this._activeBuffer.getNullCell(this._eraseAttrData())),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(O){this._restrictCursor();const $=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return $&&($.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(O.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(O){const $=this._parser.precedingJoinState;if(!$)return!0;const N=O.params[0]||1,H=_.UnicodeService.extractWidth($),B=this._activeBuffer.x-H,z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(B),U=new Uint32Array(z.length*N);let V=0;for(let F=0;F<z.length;){const Y=z.codePointAt(F)||0;U[V++]=Y,F+=Y>65535?2:1}let W=V;for(let F=1;F<N;++F)U.copyWithin(W,0,V),W+=V;return this.print(U,0,W),!0}sendDeviceAttributesPrimary(O){return O.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(r.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(r.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(O){return O.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(r.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(r.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(O.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(r.C0.ESC+"[>83;40003;0c")),!0}_is(O){return(this._optionsService.rawOptions.termName+"").indexOf(O)===0}setMode(O){for(let $=0;$<O.length;$++)switch(O.params[$]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(O){for(let $=0;$<O.length;$++)switch(O.params[$]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),this._charsetService.setgCharset(1,a.DEFAULT_CHARSET),this._charsetService.setgCharset(2,a.DEFAULT_CHARSET),this._charsetService.setgCharset(3,a.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(O){for(let $=0;$<O.length;$++)switch(O.params[$]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(O){for(let $=0;$<O.length;$++)switch(O.params[$]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),O.params[$]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(O,$){const N=this._coreService.decPrivateModes,{activeProtocol:H,activeEncoding:B}=this._coreMouseService,z=this._coreService,{buffers:U,cols:V}=this._bufferService,{active:W,alt:F}=U,Y=this._optionsService.rawOptions,G=me=>me?1:2,Q=O.params[0];return J=Q,ce=$?Q===2?4:Q===4?G(z.modes.insertMode):Q===12?3:Q===20?G(Y.convertEol):0:Q===1?G(N.applicationCursorKeys):Q===3?Y.windowOptions.setWinLines?V===80?2:V===132?1:0:0:Q===6?G(N.origin):Q===7?G(N.wraparound):Q===8?3:Q===9?G(H==="X10"):Q===12?G(Y.cursorBlink):Q===25?G(!z.isCursorHidden):Q===45?G(N.reverseWraparound):Q===66?G(N.applicationKeypad):Q===67?4:Q===1e3?G(H==="VT200"):Q===1002?G(H==="DRAG"):Q===1003?G(H==="ANY"):Q===1004?G(N.sendFocus):Q===1005?4:Q===1006?G(B==="SGR"):Q===1015?4:Q===1016?G(B==="SGR_PIXELS"):Q===1048?1:Q===47||Q===1047||Q===1049?G(W===F):Q===2004?G(N.bracketedPasteMode):0,z.triggerDataEvent(`${r.C0.ESC}[${$?"":"?"}${J};${ce}$y`),!0;var J,ce}_updateAttrColor(O,$,N,H,B){return $===2?(O|=50331648,O&=-16777216,O|=S.AttributeData.fromColorRGB([N,H,B])):$===5&&(O&=-50331904,O|=33554432|255&N),O}_extractColor(O,$,N){const H=[0,0,-1,0,0,0];let B=0,z=0;do{if(H[z+B]=O.params[$+z],O.hasSubParams($+z)){const U=O.getSubParams($+z);let V=0;do H[1]===5&&(B=1),H[z+V+1+B]=U[V];while(++V<U.length&&V+z+1+B<H.length);break}if(H[1]===5&&z+B>=2||H[1]===2&&z+B>=5)break;H[1]&&(B=1)}while(++z+$<O.length&&z+B<H.length);for(let U=2;U<H.length;++U)H[U]===-1&&(H[U]=0);switch(H[0]){case 38:N.fg=this._updateAttrColor(N.fg,H[1],H[3],H[4],H[5]);break;case 48:N.bg=this._updateAttrColor(N.bg,H[1],H[3],H[4],H[5]);break;case 58:N.extended=N.extended.clone(),N.extended.underlineColor=this._updateAttrColor(N.extended.underlineColor,H[1],H[3],H[4],H[5])}return z}_processUnderline(O,$){$.extended=$.extended.clone(),(!~O||O>5)&&(O=1),$.extended.underlineStyle=O,$.fg|=268435456,O===0&&($.fg&=-268435457),$.updateExtended()}_processSGR0(O){O.fg=p.DEFAULT_ATTR_DATA.fg,O.bg=p.DEFAULT_ATTR_DATA.bg,O.extended=O.extended.clone(),O.extended.underlineStyle=0,O.extended.underlineColor&=-67108864,O.updateExtended()}charAttributes(O){if(O.length===1&&O.params[0]===0)return this._processSGR0(this._curAttrData),!0;const $=O.length;let N;const H=this._curAttrData;for(let B=0;B<$;B++)N=O.params[B],N>=30&&N<=37?(H.fg&=-50331904,H.fg|=16777216|N-30):N>=40&&N<=47?(H.bg&=-50331904,H.bg|=16777216|N-40):N>=90&&N<=97?(H.fg&=-50331904,H.fg|=16777224|N-90):N>=100&&N<=107?(H.bg&=-50331904,H.bg|=16777224|N-100):N===0?this._processSGR0(H):N===1?H.fg|=134217728:N===3?H.bg|=67108864:N===4?(H.fg|=268435456,this._processUnderline(O.hasSubParams(B)?O.getSubParams(B)[0]:1,H)):N===5?H.fg|=536870912:N===7?H.fg|=67108864:N===8?H.fg|=1073741824:N===9?H.fg|=2147483648:N===2?H.bg|=134217728:N===21?this._processUnderline(2,H):N===22?(H.fg&=-134217729,H.bg&=-134217729):N===23?H.bg&=-67108865:N===24?(H.fg&=-268435457,this._processUnderline(0,H)):N===25?H.fg&=-536870913:N===27?H.fg&=-67108865:N===28?H.fg&=-1073741825:N===29?H.fg&=2147483647:N===39?(H.fg&=-67108864,H.fg|=16777215&p.DEFAULT_ATTR_DATA.fg):N===49?(H.bg&=-67108864,H.bg|=16777215&p.DEFAULT_ATTR_DATA.bg):N===38||N===48||N===58?B+=this._extractColor(O,B,H):N===53?H.bg|=1073741824:N===55?H.bg&=-1073741825:N===59?(H.extended=H.extended.clone(),H.extended.underlineColor=-1,H.updateExtended()):N===100?(H.fg&=-67108864,H.fg|=16777215&p.DEFAULT_ATTR_DATA.fg,H.bg&=-67108864,H.bg|=16777215&p.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",N);return!0}deviceStatus(O){switch(O.params[0]){case 5:this._coreService.triggerDataEvent(`${r.C0.ESC}[0n`);break;case 6:const $=this._activeBuffer.y+1,N=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${r.C0.ESC}[${$};${N}R`)}return!0}deviceStatusPrivate(O){if(O.params[0]===6){const $=this._activeBuffer.y+1,N=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${r.C0.ESC}[?${$};${N}R`)}return!0}softReset(O){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=p.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(O){const $=O.params[0]||1;switch($){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const N=$%2==1;return this._optionsService.options.cursorBlink=N,!0}setScrollRegion(O){const $=O.params[0]||1;let N;return(O.length<2||(N=O.params[1])>this._bufferService.rows||N===0)&&(N=this._bufferService.rows),N>$&&(this._activeBuffer.scrollTop=$-1,this._activeBuffer.scrollBottom=N-1,this._setCursor(0,0)),!0}windowOptions(O){if(!L(O.params[0],this._optionsService.rawOptions.windowOptions))return!0;const $=O.length>1?O.params[1]:0;switch(O.params[0]){case 14:$!==2&&this._onRequestWindowsOptionsReport.fire(E.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(E.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${r.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:$!==0&&$!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),$!==0&&$!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:$!==0&&$!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),$!==0&&$!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(O){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(O){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(O){return this._windowTitle=O,this._onTitleChange.fire(O),!0}setIconName(O){return this._iconName=O,!0}setOrReportIndexedColor(O){const $=[],N=O.split(";");for(;N.length>1;){const H=N.shift(),B=N.shift();if(/^\d+$/.exec(H)){const z=parseInt(H);if(D(z))if(B==="?")$.push({type:0,index:z});else{const U=(0,k.parseColor)(B);U&&$.push({type:1,index:z,color:U})}}}return $.length&&this._onColor.fire($),!0}setHyperlink(O){const $=O.split(";");return!($.length<2)&&($[1]?this._createHyperlink($[0],$[1]):!$[0]&&this._finishHyperlink())}_createHyperlink(O,$){this._getCurrentLinkId()&&this._finishHyperlink();const N=O.split(":");let H;const B=N.findIndex(z=>z.startsWith("id="));return B!==-1&&(H=N[B].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:H,uri:$}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(O,$){const N=O.split(";");for(let H=0;H<N.length&&!($>=this._specialColors.length);++H,++$)if(N[H]==="?")this._onColor.fire([{type:0,index:this._specialColors[$]}]);else{const B=(0,k.parseColor)(N[H]);B&&this._onColor.fire([{type:1,index:this._specialColors[$],color:B}])}return!0}setOrReportFgColor(O){return this._setOrReportSpecialColor(O,0)}setOrReportBgColor(O){return this._setOrReportSpecialColor(O,1)}setOrReportCursorColor(O){return this._setOrReportSpecialColor(O,2)}restoreIndexedColor(O){if(!O)return this._onColor.fire([{type:2}]),!0;const $=[],N=O.split(";");for(let H=0;H<N.length;++H)if(/^\d+$/.exec(N[H])){const B=parseInt(N[H]);D(B)&&$.push({type:2,index:B})}return $.length&&this._onColor.fire($),!0}restoreFgColor(O){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(O){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(O){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,a.DEFAULT_CHARSET),!0}selectCharset(O){return O.length!==2?(this.selectDefaultCharset(),!0):(O[0]==="/"||this._charsetService.setgCharset(M[O[0]],a.CHARSETS[O[1]]||a.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const O=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,O,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=p.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=p.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(O){return this._charsetService.setgLevel(O),!0}screenAlignmentPattern(){const O=new w.CellData;O.content=4194373,O.fg=this._curAttrData.fg,O.bg=this._curAttrData.bg,this._setCursor(0,0);for(let $=0;$<this._bufferService.rows;++$){const N=this._activeBuffer.ybase+this._activeBuffer.y+$,H=this._activeBuffer.lines.get(N);H&&(H.fill(O),H.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(O,$){const N=this._bufferService.buffer,H=this._optionsService.rawOptions;return(B=>(this._coreService.triggerDataEvent(`${r.C0.ESC}${B}${r.C0.ESC}\\`),!0))(O==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:O==='"p'?'P1$r61;1"p':O==="r"?`P1$r${N.scrollTop+1};${N.scrollBottom+1}r`:O==="m"?"P1$r0m":O===" q"?`P1$r${{block:2,underline:4,bar:6}[H.cursorStyle]-(H.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(O,$){this._dirtyRowTracker.markRangeDirty(O,$)}}c.InputHandler=R;let I=class{constructor(P){this._bufferService=P,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(P){P<this.start?this.start=P:P>this.end&&(this.end=P)}markRangeDirty(P,O){P>O&&(A=P,P=O,O=A),P<this.start&&(this.start=P),O>this.end&&(this.end=O)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function D(P){return 0<=P&&P<256}I=d([o(0,b.IBufferService)],I)},844:(y,c)=>{function s(d){for(const o of d)o.dispose();d.length=0}Object.defineProperty(c,"__esModule",{value:!0}),c.getDisposeArrayDisposable=c.disposeArray=c.toDisposable=c.MutableDisposable=c.Disposable=void 0,c.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const o=this._disposables.indexOf(d);o!==-1&&this._disposables.splice(o,1)}},c.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var o;this._isDisposed||d===this._value||((o=this._value)==null||o.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)==null||d.dispose(),this._value=void 0}},c.toDisposable=function(d){return{dispose:d}},c.disposeArray=s,c.getDisposeArrayDisposable=function(d){return{dispose:()=>s(d)}}},1505:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FourKeyMap=c.TwoKeyMap=void 0;class s{constructor(){this._data={}}set(o,r,a){this._data[o]||(this._data[o]={}),this._data[o][r]=a}get(o,r){return this._data[o]?this._data[o][r]:void 0}clear(){this._data={}}}c.TwoKeyMap=s,c.FourKeyMap=class{constructor(){this._data=new s}set(d,o,r,a,l){this._data.get(d,o)||this._data.set(d,o,new s),this._data.get(d,o).set(r,a,l)}get(d,o,r,a){var l;return(l=this._data.get(d,o))==null?void 0:l.get(r,a)}clear(){this._data.clear()}}},6114:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isChromeOS=c.isLinux=c.isWindows=c.isIphone=c.isIpad=c.isMac=c.getSafariVersion=c.isSafari=c.isLegacyEdge=c.isFirefox=c.isNode=void 0,c.isNode=typeof process<"u"&&"title"in process;const s=c.isNode?"node":navigator.userAgent,d=c.isNode?"node":navigator.platform;c.isFirefox=s.includes("Firefox"),c.isLegacyEdge=s.includes("Edge"),c.isSafari=/^((?!chrome|android).)*safari/i.test(s),c.getSafariVersion=function(){if(!c.isSafari)return 0;const o=s.match(/Version\/(\d+)/);return o===null||o.length<2?0:parseInt(o[1])},c.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(d),c.isIpad=d==="iPad",c.isIphone=d==="iPhone",c.isWindows=["Windows","Win16","Win32","WinCE"].includes(d),c.isLinux=d.indexOf("Linux")>=0,c.isChromeOS=/\bCrOS\b/.test(s)},6106:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SortedList=void 0;let s=0;c.SortedList=class{constructor(d){this._getKey=d,this._array=[]}clear(){this._array.length=0}insert(d){this._array.length!==0?(s=this._search(this._getKey(d)),this._array.splice(s,0,d)):this._array.push(d)}delete(d){if(this._array.length===0)return!1;const o=this._getKey(d);if(o===void 0||(s=this._search(o),s===-1)||this._getKey(this._array[s])!==o)return!1;do if(this._array[s]===d)return this._array.splice(s,1),!0;while(++s<this._array.length&&this._getKey(this._array[s])===o);return!1}*getKeyIterator(d){if(this._array.length!==0&&(s=this._search(d),!(s<0||s>=this._array.length)&&this._getKey(this._array[s])===d))do yield this._array[s];while(++s<this._array.length&&this._getKey(this._array[s])===d)}forEachByKey(d,o){if(this._array.length!==0&&(s=this._search(d),!(s<0||s>=this._array.length)&&this._getKey(this._array[s])===d))do o(this._array[s]);while(++s<this._array.length&&this._getKey(this._array[s])===d)}values(){return[...this._array].values()}_search(d){let o=0,r=this._array.length-1;for(;r>=o;){let a=o+r>>1;const l=this._getKey(this._array[a]);if(l>d)r=a-1;else{if(!(l<d)){for(;a>0&&this._getKey(this._array[a-1])===d;)a--;return a}o=a+1}}return o}}},7226:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DebouncedIdleTask=c.IdleTaskQueue=c.PriorityTaskQueue=void 0;const d=s(6114);class o{constructor(){this._tasks=[],this._i=0}enqueue(l){this._tasks.push(l),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(l){this._idleCallback=void 0;let h=0,f=0,p=l.timeRemaining(),m=0;for(;this._i<this._tasks.length;){if(h=Date.now(),this._tasks[this._i]()||this._i++,h=Math.max(1,Date.now()-h),f=Math.max(h,f),m=l.timeRemaining(),1.5*f>m)return p-h<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(p-h))}ms`),void this._start();p=m}this.clear()}}class r extends o{_requestCallback(l){return setTimeout(()=>l(this._createDeadline(16)))}_cancelCallback(l){clearTimeout(l)}_createDeadline(l){const h=Date.now()+l;return{timeRemaining:()=>Math.max(0,h-Date.now())}}}c.PriorityTaskQueue=r,c.IdleTaskQueue=!d.isNode&&"requestIdleCallback"in window?class extends o{_requestCallback(a){return requestIdleCallback(a)}_cancelCallback(a){cancelIdleCallback(a)}}:r,c.DebouncedIdleTask=class{constructor(){this._queue=new c.IdleTaskQueue}set(a){this._queue.clear(),this._queue.enqueue(a)}flush(){this._queue.flush()}}},9282:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.updateWindowsModeWrappedState=void 0;const d=s(643);c.updateWindowsModeWrappedState=function(o){const r=o.buffer.lines.get(o.buffer.ybase+o.buffer.y-1),a=r==null?void 0:r.get(o.cols-1),l=o.buffer.lines.get(o.buffer.ybase+o.buffer.y);l&&a&&(l.isWrapped=a[d.CHAR_DATA_CODE_INDEX]!==d.NULL_CELL_CODE&&a[d.CHAR_DATA_CODE_INDEX]!==d.WHITESPACE_CELL_CODE)}},3734:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ExtendedAttrs=c.AttributeData=void 0;class s{constructor(){this.fg=0,this.bg=0,this.extended=new d}static toColorRGB(r){return[r>>>16&255,r>>>8&255,255&r]}static fromColorRGB(r){return(255&r[0])<<16|(255&r[1])<<8|255&r[2]}clone(){const r=new s;return r.fg=this.fg,r.bg=this.bg,r.extended=this.extended.clone(),r}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}c.AttributeData=s;class d{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(r){this._ext=r}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(r){this._ext&=-469762049,this._ext|=r<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(r){this._ext&=-67108864,this._ext|=67108863&r}get urlId(){return this._urlId}set urlId(r){this._urlId=r}get underlineVariantOffset(){const r=(3758096384&this._ext)>>29;return r<0?4294967288^r:r}set underlineVariantOffset(r){this._ext&=536870911,this._ext|=r<<29&3758096384}constructor(r=0,a=0){this._ext=0,this._urlId=0,this._ext=r,this._urlId=a}clone(){return new d(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}c.ExtendedAttrs=d},9092:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Buffer=c.MAX_BUFFER_SIZE=void 0;const d=s(6349),o=s(7226),r=s(3734),a=s(8437),l=s(4634),h=s(511),f=s(643),p=s(4863),m=s(7116);c.MAX_BUFFER_SIZE=4294967295,c.Buffer=class{constructor(g,w,S){this._hasScrollback=g,this._optionsService=w,this._bufferService=S,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=a.DEFAULT_ATTR_DATA.clone(),this.savedCharset=m.DEFAULT_CHARSET,this.markers=[],this._nullCell=h.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]),this._whitespaceCell=h.CellData.fromCharData([0,f.WHITESPACE_CELL_CHAR,f.WHITESPACE_CELL_WIDTH,f.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new o.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(g){return g?(this._nullCell.fg=g.fg,this._nullCell.bg=g.bg,this._nullCell.extended=g.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new r.ExtendedAttrs),this._nullCell}getWhitespaceCell(g){return g?(this._whitespaceCell.fg=g.fg,this._whitespaceCell.bg=g.bg,this._whitespaceCell.extended=g.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new r.ExtendedAttrs),this._whitespaceCell}getBlankLine(g,w){return new a.BufferLine(this._bufferService.cols,this.getNullCell(g),w)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const g=this.ybase+this.y-this.ydisp;return g>=0&&g<this._rows}_getCorrectBufferLength(g){if(!this._hasScrollback)return g;const w=g+this._optionsService.rawOptions.scrollback;return w>c.MAX_BUFFER_SIZE?c.MAX_BUFFER_SIZE:w}fillViewportRows(g){if(this.lines.length===0){g===void 0&&(g=a.DEFAULT_ATTR_DATA);let w=this._rows;for(;w--;)this.lines.push(this.getBlankLine(g))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(g,w){const S=this.getNullCell(a.DEFAULT_ATTR_DATA);let b=0;const _=this._getCorrectBufferLength(w);if(_>this.lines.maxLength&&(this.lines.maxLength=_),this.lines.length>0){if(this._cols<g)for(let C=0;C<this.lines.length;C++)b+=+this.lines.get(C).resize(g,S);let x=0;if(this._rows<w)for(let C=this._rows;C<w;C++)this.lines.length<w+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new a.BufferLine(g,S)):this.ybase>0&&this.lines.length<=this.ybase+this.y+x+1?(this.ybase--,x++,this.ydisp>0&&this.ydisp--):this.lines.push(new a.BufferLine(g,S)));else for(let C=this._rows;C>w;C--)this.lines.length>w+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(_<this.lines.maxLength){const C=this.lines.length-_;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=_}this.x=Math.min(this.x,g-1),this.y=Math.min(this.y,w-1),x&&(this.y+=x),this.savedX=Math.min(this.savedX,g-1),this.scrollTop=0}if(this.scrollBottom=w-1,this._isReflowEnabled&&(this._reflow(g,w),this._cols>g))for(let x=0;x<this.lines.length;x++)b+=+this.lines.get(x).resize(g,S);this._cols=g,this._rows=w,this._memoryCleanupQueue.clear(),b>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let g=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,g=!1);let w=0;for(;this._memoryCleanupPosition<this.lines.length;)if(w+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),w>100)return!0;return g}get _isReflowEnabled(){const g=this._optionsService.rawOptions.windowsPty;return g&&g.buildNumber?this._hasScrollback&&g.backend==="conpty"&&g.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(g,w){this._cols!==g&&(g>this._cols?this._reflowLarger(g,w):this._reflowSmaller(g,w))}_reflowLarger(g,w){const S=(0,l.reflowLargerGetLinesToRemove)(this.lines,this._cols,g,this.ybase+this.y,this.getNullCell(a.DEFAULT_ATTR_DATA));if(S.length>0){const b=(0,l.reflowLargerCreateNewLayout)(this.lines,S);(0,l.reflowLargerApplyNewLayout)(this.lines,b.layout),this._reflowLargerAdjustViewport(g,w,b.countRemoved)}}_reflowLargerAdjustViewport(g,w,S){const b=this.getNullCell(a.DEFAULT_ATTR_DATA);let _=S;for(;_-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<w&&this.lines.push(new a.BufferLine(g,b))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-S,0)}_reflowSmaller(g,w){const S=this.getNullCell(a.DEFAULT_ATTR_DATA),b=[];let _=0;for(let x=this.lines.length-1;x>=0;x--){let C=this.lines.get(x);if(!C||!C.isWrapped&&C.getTrimmedLength()<=g)continue;const k=[C];for(;C.isWrapped&&x>0;)C=this.lines.get(--x),k.unshift(C);const M=this.ybase+this.y;if(M>=x&&M<x+k.length)continue;const T=k[k.length-1].getTrimmedLength(),L=(0,l.reflowSmallerGetNewLineLengths)(k,this._cols,g),E=L.length-k.length;let A;A=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+E):Math.max(0,this.lines.length-this.lines.maxLength+E);const R=[];for(let N=0;N<E;N++){const H=this.getBlankLine(a.DEFAULT_ATTR_DATA,!0);R.push(H)}R.length>0&&(b.push({start:x+k.length+_,newLines:R}),_+=R.length),k.push(...R);let I=L.length-1,D=L[I];D===0&&(I--,D=L[I]);let P=k.length-E-1,O=T;for(;P>=0;){const N=Math.min(O,D);if(k[I]===void 0)break;if(k[I].copyCellsFrom(k[P],O-N,D-N,N,!0),D-=N,D===0&&(I--,D=L[I]),O-=N,O===0){P--;const H=Math.max(P,0);O=(0,l.getWrappedLineTrimmedLength)(k,H,this._cols)}}for(let N=0;N<k.length;N++)L[N]<g&&k[N].setCell(L[N],S);let $=E-A;for(;$-- >0;)this.ybase===0?this.y<w-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+_)-w&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+E,this.ybase+w-1)}if(b.length>0){const x=[],C=[];for(let I=0;I<this.lines.length;I++)C.push(this.lines.get(I));const k=this.lines.length;let M=k-1,T=0,L=b[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+_);let E=0;for(let I=Math.min(this.lines.maxLength-1,k+_-1);I>=0;I--)if(L&&L.start>M+E){for(let D=L.newLines.length-1;D>=0;D--)this.lines.set(I--,L.newLines[D]);I++,x.push({index:M+1,amount:L.newLines.length}),E+=L.newLines.length,L=b[++T]}else this.lines.set(I,C[M--]);let A=0;for(let I=x.length-1;I>=0;I--)x[I].index+=A,this.lines.onInsertEmitter.fire(x[I]),A+=x[I].amount;const R=Math.max(0,k+_-this.lines.maxLength);R>0&&this.lines.onTrimEmitter.fire(R)}}translateBufferLineToString(g,w,S=0,b){const _=this.lines.get(g);return _?_.translateToString(w,S,b):""}getWrappedRangeForLine(g){let w=g,S=g;for(;w>0&&this.lines.get(w).isWrapped;)w--;for(;S+1<this.lines.length&&this.lines.get(S+1).isWrapped;)S++;return{first:w,last:S}}setupTabStops(g){for(g!=null?this.tabs[g]||(g=this.prevStop(g)):(this.tabs={},g=0);g<this._cols;g+=this._optionsService.rawOptions.tabStopWidth)this.tabs[g]=!0}prevStop(g){for(g==null&&(g=this.x);!this.tabs[--g]&&g>0;);return g>=this._cols?this._cols-1:g<0?0:g}nextStop(g){for(g==null&&(g=this.x);!this.tabs[++g]&&g<this._cols;);return g>=this._cols?this._cols-1:g<0?0:g}clearMarkers(g){this._isClearing=!0;for(let w=0;w<this.markers.length;w++)this.markers[w].line===g&&(this.markers[w].dispose(),this.markers.splice(w--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].dispose(),this.markers.splice(g--,1);this._isClearing=!1}addMarker(g){const w=new p.Marker(g);return this.markers.push(w),w.register(this.lines.onTrim(S=>{w.line-=S,w.line<0&&w.dispose()})),w.register(this.lines.onInsert(S=>{w.line>=S.index&&(w.line+=S.amount)})),w.register(this.lines.onDelete(S=>{w.line>=S.index&&w.line<S.index+S.amount&&w.dispose(),w.line>S.index&&(w.line-=S.amount)})),w.register(w.onDispose(()=>this._removeMarker(w))),w}_removeMarker(g){this._isClearing||this.markers.splice(this.markers.indexOf(g),1)}}},8437:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferLine=c.DEFAULT_ATTR_DATA=void 0;const d=s(3734),o=s(511),r=s(643),a=s(482);c.DEFAULT_ATTR_DATA=Object.freeze(new d.AttributeData);let l=0;class h{constructor(p,m,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*p);const w=m||o.CellData.fromCharData([0,r.NULL_CELL_CHAR,r.NULL_CELL_WIDTH,r.NULL_CELL_CODE]);for(let S=0;S<p;++S)this.setCell(S,w);this.length=p}get(p){const m=this._data[3*p+0],g=2097151&m;return[this._data[3*p+1],2097152&m?this._combined[p]:g?(0,a.stringFromCodePoint)(g):"",m>>22,2097152&m?this._combined[p].charCodeAt(this._combined[p].length-1):g]}set(p,m){this._data[3*p+1]=m[r.CHAR_DATA_ATTR_INDEX],m[r.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[p]=m[1],this._data[3*p+0]=2097152|p|m[r.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*p+0]=m[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|m[r.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(p){return this._data[3*p+0]>>22}hasWidth(p){return 12582912&this._data[3*p+0]}getFg(p){return this._data[3*p+1]}getBg(p){return this._data[3*p+2]}hasContent(p){return 4194303&this._data[3*p+0]}getCodePoint(p){const m=this._data[3*p+0];return 2097152&m?this._combined[p].charCodeAt(this._combined[p].length-1):2097151&m}isCombined(p){return 2097152&this._data[3*p+0]}getString(p){const m=this._data[3*p+0];return 2097152&m?this._combined[p]:2097151&m?(0,a.stringFromCodePoint)(2097151&m):""}isProtected(p){return 536870912&this._data[3*p+2]}loadCell(p,m){return l=3*p,m.content=this._data[l+0],m.fg=this._data[l+1],m.bg=this._data[l+2],2097152&m.content&&(m.combinedData=this._combined[p]),268435456&m.bg&&(m.extended=this._extendedAttrs[p]),m}setCell(p,m){2097152&m.content&&(this._combined[p]=m.combinedData),268435456&m.bg&&(this._extendedAttrs[p]=m.extended),this._data[3*p+0]=m.content,this._data[3*p+1]=m.fg,this._data[3*p+2]=m.bg}setCellFromCodepoint(p,m,g,w){268435456&w.bg&&(this._extendedAttrs[p]=w.extended),this._data[3*p+0]=m|g<<22,this._data[3*p+1]=w.fg,this._data[3*p+2]=w.bg}addCodepointToCell(p,m,g){let w=this._data[3*p+0];2097152&w?this._combined[p]+=(0,a.stringFromCodePoint)(m):2097151&w?(this._combined[p]=(0,a.stringFromCodePoint)(2097151&w)+(0,a.stringFromCodePoint)(m),w&=-2097152,w|=2097152):w=m|4194304,g&&(w&=-12582913,w|=g<<22),this._data[3*p+0]=w}insertCells(p,m,g){if((p%=this.length)&&this.getWidth(p-1)===2&&this.setCellFromCodepoint(p-1,0,1,g),m<this.length-p){const w=new o.CellData;for(let S=this.length-p-m-1;S>=0;--S)this.setCell(p+m+S,this.loadCell(p+S,w));for(let S=0;S<m;++S)this.setCell(p+S,g)}else for(let w=p;w<this.length;++w)this.setCell(w,g);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,g)}deleteCells(p,m,g){if(p%=this.length,m<this.length-p){const w=new o.CellData;for(let S=0;S<this.length-p-m;++S)this.setCell(p+S,this.loadCell(p+m+S,w));for(let S=this.length-m;S<this.length;++S)this.setCell(S,g)}else for(let w=p;w<this.length;++w)this.setCell(w,g);p&&this.getWidth(p-1)===2&&this.setCellFromCodepoint(p-1,0,1,g),this.getWidth(p)!==0||this.hasContent(p)||this.setCellFromCodepoint(p,0,1,g)}replaceCells(p,m,g,w=!1){if(w)for(p&&this.getWidth(p-1)===2&&!this.isProtected(p-1)&&this.setCellFromCodepoint(p-1,0,1,g),m<this.length&&this.getWidth(m-1)===2&&!this.isProtected(m)&&this.setCellFromCodepoint(m,0,1,g);p<m&&p<this.length;)this.isProtected(p)||this.setCell(p,g),p++;else for(p&&this.getWidth(p-1)===2&&this.setCellFromCodepoint(p-1,0,1,g),m<this.length&&this.getWidth(m-1)===2&&this.setCellFromCodepoint(m,0,1,g);p<m&&p<this.length;)this.setCell(p++,g)}resize(p,m){if(p===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*p;if(p>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const w=new Uint32Array(g);w.set(this._data),this._data=w}for(let w=this.length;w<p;++w)this.setCell(w,m)}else{this._data=this._data.subarray(0,g);const w=Object.keys(this._combined);for(let b=0;b<w.length;b++){const _=parseInt(w[b],10);_>=p&&delete this._combined[_]}const S=Object.keys(this._extendedAttrs);for(let b=0;b<S.length;b++){const _=parseInt(S[b],10);_>=p&&delete this._extendedAttrs[_]}}return this.length=p,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const p=new Uint32Array(this._data.length);return p.set(this._data),this._data=p,1}return 0}fill(p,m=!1){if(m)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,p);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,p)}}copyFrom(p){this.length!==p.length?this._data=new Uint32Array(p._data):this._data.set(p._data),this.length=p.length,this._combined={};for(const m in p._combined)this._combined[m]=p._combined[m];this._extendedAttrs={};for(const m in p._extendedAttrs)this._extendedAttrs[m]=p._extendedAttrs[m];this.isWrapped=p.isWrapped}clone(){const p=new h(0);p._data=new Uint32Array(this._data),p.length=this.length;for(const m in this._combined)p._combined[m]=this._combined[m];for(const m in this._extendedAttrs)p._extendedAttrs[m]=this._extendedAttrs[m];return p.isWrapped=this.isWrapped,p}getTrimmedLength(){for(let p=this.length-1;p>=0;--p)if(4194303&this._data[3*p+0])return p+(this._data[3*p+0]>>22);return 0}getNoBgTrimmedLength(){for(let p=this.length-1;p>=0;--p)if(4194303&this._data[3*p+0]||50331648&this._data[3*p+2])return p+(this._data[3*p+0]>>22);return 0}copyCellsFrom(p,m,g,w,S){const b=p._data;if(S)for(let x=w-1;x>=0;x--){for(let C=0;C<3;C++)this._data[3*(g+x)+C]=b[3*(m+x)+C];268435456&b[3*(m+x)+2]&&(this._extendedAttrs[g+x]=p._extendedAttrs[m+x])}else for(let x=0;x<w;x++){for(let C=0;C<3;C++)this._data[3*(g+x)+C]=b[3*(m+x)+C];268435456&b[3*(m+x)+2]&&(this._extendedAttrs[g+x]=p._extendedAttrs[m+x])}const _=Object.keys(p._combined);for(let x=0;x<_.length;x++){const C=parseInt(_[x],10);C>=m&&(this._combined[C-m+g]=p._combined[C])}}translateToString(p,m,g,w){m=m??0,g=g??this.length,p&&(g=Math.min(g,this.getTrimmedLength())),w&&(w.length=0);let S="";for(;m<g;){const b=this._data[3*m+0],_=2097151&b,x=2097152&b?this._combined[m]:_?(0,a.stringFromCodePoint)(_):r.WHITESPACE_CELL_CHAR;if(S+=x,w)for(let C=0;C<x.length;++C)w.push(m);m+=b>>22||1}return w&&w.push(m),S}}c.BufferLine=h},4841:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getRangeLength=void 0,c.getRangeLength=function(s,d){if(s.start.y>s.end.y)throw new Error(`Buffer range end (${s.end.x}, ${s.end.y}) cannot be before start (${s.start.x}, ${s.start.y})`);return d*(s.end.y-s.start.y)+(s.end.x-s.start.x+1)}},4634:(y,c)=>{function s(d,o,r){if(o===d.length-1)return d[o].getTrimmedLength();const a=!d[o].hasContent(r-1)&&d[o].getWidth(r-1)===1,l=d[o+1].getWidth(0)===2;return a&&l?r-1:r}Object.defineProperty(c,"__esModule",{value:!0}),c.getWrappedLineTrimmedLength=c.reflowSmallerGetNewLineLengths=c.reflowLargerApplyNewLayout=c.reflowLargerCreateNewLayout=c.reflowLargerGetLinesToRemove=void 0,c.reflowLargerGetLinesToRemove=function(d,o,r,a,l){const h=[];for(let f=0;f<d.length-1;f++){let p=f,m=d.get(++p);if(!m.isWrapped)continue;const g=[d.get(f)];for(;p<d.length&&m.isWrapped;)g.push(m),m=d.get(++p);if(a>=f&&a<p){f+=g.length-1;continue}let w=0,S=s(g,w,o),b=1,_=0;for(;b<g.length;){const C=s(g,b,o),k=C-_,M=r-S,T=Math.min(k,M);g[w].copyCellsFrom(g[b],_,S,T,!1),S+=T,S===r&&(w++,S=0),_+=T,_===C&&(b++,_=0),S===0&&w!==0&&g[w-1].getWidth(r-1)===2&&(g[w].copyCellsFrom(g[w-1],r-1,S++,1,!1),g[w-1].setCell(r-1,l))}g[w].replaceCells(S,r,l);let x=0;for(let C=g.length-1;C>0&&(C>w||g[C].getTrimmedLength()===0);C--)x++;x>0&&(h.push(f+g.length-x),h.push(x)),f+=g.length-1}return h},c.reflowLargerCreateNewLayout=function(d,o){const r=[];let a=0,l=o[a],h=0;for(let f=0;f<d.length;f++)if(l===f){const p=o[++a];d.onDeleteEmitter.fire({index:f-h,amount:p}),f+=p-1,h+=p,l=o[++a]}else r.push(f);return{layout:r,countRemoved:h}},c.reflowLargerApplyNewLayout=function(d,o){const r=[];for(let a=0;a<o.length;a++)r.push(d.get(o[a]));for(let a=0;a<r.length;a++)d.set(a,r[a]);d.length=o.length},c.reflowSmallerGetNewLineLengths=function(d,o,r){const a=[],l=d.map((m,g)=>s(d,g,o)).reduce((m,g)=>m+g);let h=0,f=0,p=0;for(;p<l;){if(l-p<r){a.push(l-p);break}h+=r;const m=s(d,f,o);h>m&&(h-=m,f++);const g=d[f].getWidth(h-1)===2;g&&h--;const w=g?r-1:r;a.push(w),p+=w}return a},c.getWrappedLineTrimmedLength=s},5295:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferSet=void 0;const d=s(8460),o=s(844),r=s(9092);class a extends o.Disposable{constructor(h,f){super(),this._optionsService=h,this._bufferService=f,this._onBufferActivate=this.register(new d.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new r.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new r.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(h){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(h),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(h,f){this._normal.resize(h,f),this._alt.resize(h,f),this.setupTabStops(h)}setupTabStops(h){this._normal.setupTabStops(h),this._alt.setupTabStops(h)}}c.BufferSet=a},511:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CellData=void 0;const d=s(482),o=s(643),r=s(3734);class a extends r.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new r.ExtendedAttrs,this.combinedData=""}static fromCharData(h){const f=new a;return f.setFromCharData(h),f}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(h){this.fg=h[o.CHAR_DATA_ATTR_INDEX],this.bg=0;let f=!1;if(h[o.CHAR_DATA_CHAR_INDEX].length>2)f=!0;else if(h[o.CHAR_DATA_CHAR_INDEX].length===2){const p=h[o.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=p&&p<=56319){const m=h[o.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=m&&m<=57343?this.content=1024*(p-55296)+m-56320+65536|h[o.CHAR_DATA_WIDTH_INDEX]<<22:f=!0}else f=!0}else this.content=h[o.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|h[o.CHAR_DATA_WIDTH_INDEX]<<22;f&&(this.combinedData=h[o.CHAR_DATA_CHAR_INDEX],this.content=2097152|h[o.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}c.CellData=a},643:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WHITESPACE_CELL_CODE=c.WHITESPACE_CELL_WIDTH=c.WHITESPACE_CELL_CHAR=c.NULL_CELL_CODE=c.NULL_CELL_WIDTH=c.NULL_CELL_CHAR=c.CHAR_DATA_CODE_INDEX=c.CHAR_DATA_WIDTH_INDEX=c.CHAR_DATA_CHAR_INDEX=c.CHAR_DATA_ATTR_INDEX=c.DEFAULT_EXT=c.DEFAULT_ATTR=c.DEFAULT_COLOR=void 0,c.DEFAULT_COLOR=0,c.DEFAULT_ATTR=256|c.DEFAULT_COLOR<<9,c.DEFAULT_EXT=0,c.CHAR_DATA_ATTR_INDEX=0,c.CHAR_DATA_CHAR_INDEX=1,c.CHAR_DATA_WIDTH_INDEX=2,c.CHAR_DATA_CODE_INDEX=3,c.NULL_CELL_CHAR="",c.NULL_CELL_WIDTH=1,c.NULL_CELL_CODE=0,c.WHITESPACE_CELL_CHAR=" ",c.WHITESPACE_CELL_WIDTH=1,c.WHITESPACE_CELL_CODE=32},4863:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Marker=void 0;const d=s(8460),o=s(844);class r{get id(){return this._id}constructor(l){this.line=l,this.isDisposed=!1,this._disposables=[],this._id=r._nextId++,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,o.disposeArray)(this._disposables),this._disposables.length=0)}register(l){return this._disposables.push(l),l}}c.Marker=r,r._nextId=1},7116:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_CHARSET=c.CHARSETS=void 0,c.CHARSETS={},c.DEFAULT_CHARSET=c.CHARSETS.B,c.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},c.CHARSETS.A={"#":"£"},c.CHARSETS.B=void 0,c.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},c.CHARSETS.C=c.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},c.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},c.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},c.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},c.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},c.CHARSETS.E=c.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},c.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},c.CHARSETS.H=c.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},c.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(y,c)=>{var s,d,o;Object.defineProperty(c,"__esModule",{value:!0}),c.C1_ESCAPED=c.C1=c.C0=void 0,function(r){r.NUL="\0",r.SOH="",r.STX="",r.ETX="",r.EOT="",r.ENQ="",r.ACK="",r.BEL="\x07",r.BS="\b",r.HT="	",r.LF=`
`,r.VT="\v",r.FF="\f",r.CR="\r",r.SO="",r.SI="",r.DLE="",r.DC1="",r.DC2="",r.DC3="",r.DC4="",r.NAK="",r.SYN="",r.ETB="",r.CAN="",r.EM="",r.SUB="",r.ESC="\x1B",r.FS="",r.GS="",r.RS="",r.US="",r.SP=" ",r.DEL=""}(s||(c.C0=s={})),function(r){r.PAD="",r.HOP="",r.BPH="",r.NBH="",r.IND="",r.NEL="",r.SSA="",r.ESA="",r.HTS="",r.HTJ="",r.VTS="",r.PLD="",r.PLU="",r.RI="",r.SS2="",r.SS3="",r.DCS="",r.PU1="",r.PU2="",r.STS="",r.CCH="",r.MW="",r.SPA="",r.EPA="",r.SOS="",r.SGCI="",r.SCI="",r.CSI="",r.ST="",r.OSC="",r.PM="",r.APC=""}(d||(c.C1=d={})),function(r){r.ST=`${s.ESC}\\`}(o||(c.C1_ESCAPED=o={}))},7399:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.evaluateKeyboardEvent=void 0;const d=s(2584),o={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};c.evaluateKeyboardEvent=function(r,a,l,h){const f={type:0,cancel:!1,key:void 0},p=(r.shiftKey?1:0)|(r.altKey?2:0)|(r.ctrlKey?4:0)|(r.metaKey?8:0);switch(r.keyCode){case 0:r.key==="UIKeyInputUpArrow"?f.key=a?d.C0.ESC+"OA":d.C0.ESC+"[A":r.key==="UIKeyInputLeftArrow"?f.key=a?d.C0.ESC+"OD":d.C0.ESC+"[D":r.key==="UIKeyInputRightArrow"?f.key=a?d.C0.ESC+"OC":d.C0.ESC+"[C":r.key==="UIKeyInputDownArrow"&&(f.key=a?d.C0.ESC+"OB":d.C0.ESC+"[B");break;case 8:f.key=r.ctrlKey?"\b":d.C0.DEL,r.altKey&&(f.key=d.C0.ESC+f.key);break;case 9:if(r.shiftKey){f.key=d.C0.ESC+"[Z";break}f.key=d.C0.HT,f.cancel=!0;break;case 13:f.key=r.altKey?d.C0.ESC+d.C0.CR:d.C0.CR,f.cancel=!0;break;case 27:f.key=d.C0.ESC,r.altKey&&(f.key=d.C0.ESC+d.C0.ESC),f.cancel=!0;break;case 37:if(r.metaKey)break;p?(f.key=d.C0.ESC+"[1;"+(p+1)+"D",f.key===d.C0.ESC+"[1;3D"&&(f.key=d.C0.ESC+(l?"b":"[1;5D"))):f.key=a?d.C0.ESC+"OD":d.C0.ESC+"[D";break;case 39:if(r.metaKey)break;p?(f.key=d.C0.ESC+"[1;"+(p+1)+"C",f.key===d.C0.ESC+"[1;3C"&&(f.key=d.C0.ESC+(l?"f":"[1;5C"))):f.key=a?d.C0.ESC+"OC":d.C0.ESC+"[C";break;case 38:if(r.metaKey)break;p?(f.key=d.C0.ESC+"[1;"+(p+1)+"A",l||f.key!==d.C0.ESC+"[1;3A"||(f.key=d.C0.ESC+"[1;5A")):f.key=a?d.C0.ESC+"OA":d.C0.ESC+"[A";break;case 40:if(r.metaKey)break;p?(f.key=d.C0.ESC+"[1;"+(p+1)+"B",l||f.key!==d.C0.ESC+"[1;3B"||(f.key=d.C0.ESC+"[1;5B")):f.key=a?d.C0.ESC+"OB":d.C0.ESC+"[B";break;case 45:r.shiftKey||r.ctrlKey||(f.key=d.C0.ESC+"[2~");break;case 46:f.key=p?d.C0.ESC+"[3;"+(p+1)+"~":d.C0.ESC+"[3~";break;case 36:f.key=p?d.C0.ESC+"[1;"+(p+1)+"H":a?d.C0.ESC+"OH":d.C0.ESC+"[H";break;case 35:f.key=p?d.C0.ESC+"[1;"+(p+1)+"F":a?d.C0.ESC+"OF":d.C0.ESC+"[F";break;case 33:r.shiftKey?f.type=2:r.ctrlKey?f.key=d.C0.ESC+"[5;"+(p+1)+"~":f.key=d.C0.ESC+"[5~";break;case 34:r.shiftKey?f.type=3:r.ctrlKey?f.key=d.C0.ESC+"[6;"+(p+1)+"~":f.key=d.C0.ESC+"[6~";break;case 112:f.key=p?d.C0.ESC+"[1;"+(p+1)+"P":d.C0.ESC+"OP";break;case 113:f.key=p?d.C0.ESC+"[1;"+(p+1)+"Q":d.C0.ESC+"OQ";break;case 114:f.key=p?d.C0.ESC+"[1;"+(p+1)+"R":d.C0.ESC+"OR";break;case 115:f.key=p?d.C0.ESC+"[1;"+(p+1)+"S":d.C0.ESC+"OS";break;case 116:f.key=p?d.C0.ESC+"[15;"+(p+1)+"~":d.C0.ESC+"[15~";break;case 117:f.key=p?d.C0.ESC+"[17;"+(p+1)+"~":d.C0.ESC+"[17~";break;case 118:f.key=p?d.C0.ESC+"[18;"+(p+1)+"~":d.C0.ESC+"[18~";break;case 119:f.key=p?d.C0.ESC+"[19;"+(p+1)+"~":d.C0.ESC+"[19~";break;case 120:f.key=p?d.C0.ESC+"[20;"+(p+1)+"~":d.C0.ESC+"[20~";break;case 121:f.key=p?d.C0.ESC+"[21;"+(p+1)+"~":d.C0.ESC+"[21~";break;case 122:f.key=p?d.C0.ESC+"[23;"+(p+1)+"~":d.C0.ESC+"[23~";break;case 123:f.key=p?d.C0.ESC+"[24;"+(p+1)+"~":d.C0.ESC+"[24~";break;default:if(!r.ctrlKey||r.shiftKey||r.altKey||r.metaKey)if(l&&!h||!r.altKey||r.metaKey)!l||r.altKey||r.ctrlKey||r.shiftKey||!r.metaKey?r.key&&!r.ctrlKey&&!r.altKey&&!r.metaKey&&r.keyCode>=48&&r.key.length===1?f.key=r.key:r.key&&r.ctrlKey&&(r.key==="_"&&(f.key=d.C0.US),r.key==="@"&&(f.key=d.C0.NUL)):r.keyCode===65&&(f.type=1);else{const m=o[r.keyCode],g=m==null?void 0:m[r.shiftKey?1:0];if(g)f.key=d.C0.ESC+g;else if(r.keyCode>=65&&r.keyCode<=90){const w=r.ctrlKey?r.keyCode-64:r.keyCode+32;let S=String.fromCharCode(w);r.shiftKey&&(S=S.toUpperCase()),f.key=d.C0.ESC+S}else if(r.keyCode===32)f.key=d.C0.ESC+(r.ctrlKey?d.C0.NUL:" ");else if(r.key==="Dead"&&r.code.startsWith("Key")){let w=r.code.slice(3,4);r.shiftKey||(w=w.toLowerCase()),f.key=d.C0.ESC+w,f.cancel=!0}}else r.keyCode>=65&&r.keyCode<=90?f.key=String.fromCharCode(r.keyCode-64):r.keyCode===32?f.key=d.C0.NUL:r.keyCode>=51&&r.keyCode<=55?f.key=String.fromCharCode(r.keyCode-51+27):r.keyCode===56?f.key=d.C0.DEL:r.keyCode===219?f.key=d.C0.ESC:r.keyCode===220?f.key=d.C0.FS:r.keyCode===221&&(f.key=d.C0.GS)}return f}},482:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Utf8ToUtf32=c.StringToUtf32=c.utf32ToString=c.stringFromCodePoint=void 0,c.stringFromCodePoint=function(s){return s>65535?(s-=65536,String.fromCharCode(55296+(s>>10))+String.fromCharCode(s%1024+56320)):String.fromCharCode(s)},c.utf32ToString=function(s,d=0,o=s.length){let r="";for(let a=d;a<o;++a){let l=s[a];l>65535?(l-=65536,r+=String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):r+=String.fromCharCode(l)}return r},c.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(s,d){const o=s.length;if(!o)return 0;let r=0,a=0;if(this._interim){const l=s.charCodeAt(a++);56320<=l&&l<=57343?d[r++]=1024*(this._interim-55296)+l-56320+65536:(d[r++]=this._interim,d[r++]=l),this._interim=0}for(let l=a;l<o;++l){const h=s.charCodeAt(l);if(55296<=h&&h<=56319){if(++l>=o)return this._interim=h,r;const f=s.charCodeAt(l);56320<=f&&f<=57343?d[r++]=1024*(h-55296)+f-56320+65536:(d[r++]=h,d[r++]=f)}else h!==65279&&(d[r++]=h)}return r}},c.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(s,d){const o=s.length;if(!o)return 0;let r,a,l,h,f=0,p=0,m=0;if(this.interim[0]){let S=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;let _,x=0;for(;(_=63&this.interim[++x])&&x<4;)b<<=6,b|=_;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=C-x;for(;m<k;){if(m>=o)return 0;if(_=s[m++],(192&_)!=128){m--,S=!0;break}this.interim[x++]=_,b<<=6,b|=63&_}S||(C===2?b<128?m--:d[f++]=b:C===3?b<2048||b>=55296&&b<=57343||b===65279||(d[f++]=b):b<65536||b>1114111||(d[f++]=b)),this.interim.fill(0)}const g=o-4;let w=m;for(;w<o;){for(;!(!(w<g)||128&(r=s[w])||128&(a=s[w+1])||128&(l=s[w+2])||128&(h=s[w+3]));)d[f++]=r,d[f++]=a,d[f++]=l,d[f++]=h,w+=4;if(r=s[w++],r<128)d[f++]=r;else if((224&r)==192){if(w>=o)return this.interim[0]=r,f;if(a=s[w++],(192&a)!=128){w--;continue}if(p=(31&r)<<6|63&a,p<128){w--;continue}d[f++]=p}else if((240&r)==224){if(w>=o)return this.interim[0]=r,f;if(a=s[w++],(192&a)!=128){w--;continue}if(w>=o)return this.interim[0]=r,this.interim[1]=a,f;if(l=s[w++],(192&l)!=128){w--;continue}if(p=(15&r)<<12|(63&a)<<6|63&l,p<2048||p>=55296&&p<=57343||p===65279)continue;d[f++]=p}else if((248&r)==240){if(w>=o)return this.interim[0]=r,f;if(a=s[w++],(192&a)!=128){w--;continue}if(w>=o)return this.interim[0]=r,this.interim[1]=a,f;if(l=s[w++],(192&l)!=128){w--;continue}if(w>=o)return this.interim[0]=r,this.interim[1]=a,this.interim[2]=l,f;if(h=s[w++],(192&h)!=128){w--;continue}if(p=(7&r)<<18|(63&a)<<12|(63&l)<<6|63&h,p<65536||p>1114111)continue;d[f++]=p}}return f}}},225:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeV6=void 0;const d=s(1480),o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],r=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let a;c.UnicodeV6=class{constructor(){if(this.version="6",!a){a=new Uint8Array(65536),a.fill(1),a[0]=0,a.fill(0,1,32),a.fill(0,127,160),a.fill(2,4352,4448),a[9001]=2,a[9002]=2,a.fill(2,11904,42192),a[12351]=1,a.fill(2,44032,55204),a.fill(2,63744,64256),a.fill(2,65040,65050),a.fill(2,65072,65136),a.fill(2,65280,65377),a.fill(2,65504,65511);for(let l=0;l<o.length;++l)a.fill(0,o[l][0],o[l][1]+1)}}wcwidth(l){return l<32?0:l<127?1:l<65536?a[l]:function(h,f){let p,m=0,g=f.length-1;if(h<f[0][0]||h>f[g][1])return!1;for(;g>=m;)if(p=m+g>>1,h>f[p][1])m=p+1;else{if(!(h<f[p][0]))return!0;g=p-1}return!1}(l,r)?0:l>=131072&&l<=196605||l>=196608&&l<=262141?2:1}charProperties(l,h){let f=this.wcwidth(l),p=f===0&&h!==0;if(p){const m=d.UnicodeService.extractWidth(h);m===0?p=!1:m>f&&(f=m)}return d.UnicodeService.createPropertyValue(0,f,p)}}},5981:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WriteBuffer=void 0;const d=s(8460),o=s(844);class r extends o.Disposable{constructor(l){super(),this._action=l,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(l,h){if(h!==void 0&&this._syncCalls>h)return void(this._syncCalls=0);if(this._pendingData+=l.length,this._writeBuffer.push(l),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let f;for(this._isSyncWriting=!0;f=this._writeBuffer.shift();){this._action(f);const p=this._callbacks.shift();p&&p()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(l,h){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=l.length,this._writeBuffer.push(l),this._callbacks.push(h),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=l.length,this._writeBuffer.push(l),this._callbacks.push(h)}_innerWrite(l=0,h=!0){const f=l||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const p=this._writeBuffer[this._bufferOffset],m=this._action(p,h);if(m){const w=S=>Date.now()-f>=12?setTimeout(()=>this._innerWrite(0,S)):this._innerWrite(f,S);return void m.catch(S=>(queueMicrotask(()=>{throw S}),Promise.resolve(!1))).then(w)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=p.length,Date.now()-f>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}c.WriteBuffer=r},5941:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.toRgbString=c.parseColor=void 0;const s=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,d=/^[\da-f]+$/;function o(r,a){const l=r.toString(16),h=l.length<2?"0"+l:l;switch(a){case 4:return l[0];case 8:return h;case 12:return(h+h).slice(0,3);default:return h+h}}c.parseColor=function(r){if(!r)return;let a=r.toLowerCase();if(a.indexOf("rgb:")===0){a=a.slice(4);const l=s.exec(a);if(l){const h=l[1]?15:l[4]?255:l[7]?4095:65535;return[Math.round(parseInt(l[1]||l[4]||l[7]||l[10],16)/h*255),Math.round(parseInt(l[2]||l[5]||l[8]||l[11],16)/h*255),Math.round(parseInt(l[3]||l[6]||l[9]||l[12],16)/h*255)]}}else if(a.indexOf("#")===0&&(a=a.slice(1),d.exec(a)&&[3,6,9,12].includes(a.length))){const l=a.length/3,h=[0,0,0];for(let f=0;f<3;++f){const p=parseInt(a.slice(l*f,l*f+l),16);h[f]=l===1?p<<4:l===2?p:l===3?p>>4:p>>8}return h}},c.toRgbString=function(r,a=16){const[l,h,f]=r;return`rgb:${o(l,a)}/${o(h,a)}/${o(f,a)}`}},5770:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PAYLOAD_LIMIT=void 0,c.PAYLOAD_LIMIT=1e7},6351:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DcsHandler=c.DcsParser=void 0;const d=s(482),o=s(8742),r=s(5770),a=[];c.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=a,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=a}registerHandler(h,f){this._handlers[h]===void 0&&(this._handlers[h]=[]);const p=this._handlers[h];return p.push(f),{dispose:()=>{const m=p.indexOf(f);m!==-1&&p.splice(m,1)}}}clearHandler(h){this._handlers[h]&&delete this._handlers[h]}setHandlerFallback(h){this._handlerFb=h}reset(){if(this._active.length)for(let h=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;h>=0;--h)this._active[h].unhook(!1);this._stack.paused=!1,this._active=a,this._ident=0}hook(h,f){if(this.reset(),this._ident=h,this._active=this._handlers[h]||a,this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].hook(f);else this._handlerFb(this._ident,"HOOK",f)}put(h,f,p){if(this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].put(h,f,p);else this._handlerFb(this._ident,"PUT",(0,d.utf32ToString)(h,f,p))}unhook(h,f=!0){if(this._active.length){let p=!1,m=this._active.length-1,g=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,p=f,g=this._stack.fallThrough,this._stack.paused=!1),!g&&p===!1){for(;m>=0&&(p=this._active[m].unhook(h),p!==!0);m--)if(p instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,p;m--}for(;m>=0;m--)if(p=this._active[m].unhook(!1),p instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,p}else this._handlerFb(this._ident,"UNHOOK",h);this._active=a,this._ident=0}};const l=new o.Params;l.addParam(0),c.DcsHandler=class{constructor(h){this._handler=h,this._data="",this._params=l,this._hitLimit=!1}hook(h){this._params=h.length>1||h.params[0]?h.clone():l,this._data="",this._hitLimit=!1}put(h,f,p){this._hitLimit||(this._data+=(0,d.utf32ToString)(h,f,p),this._data.length>r.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(h){let f=!1;if(this._hitLimit)f=!1;else if(h&&(f=this._handler(this._data,this._params),f instanceof Promise))return f.then(p=>(this._params=l,this._data="",this._hitLimit=!1,p));return this._params=l,this._data="",this._hitLimit=!1,f}}},2015:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.EscapeSequenceParser=c.VT500_TRANSITION_TABLE=c.TransitionTable=void 0;const d=s(844),o=s(8742),r=s(6242),a=s(6351);class l{constructor(m){this.table=new Uint8Array(m)}setDefault(m,g){this.table.fill(m<<4|g)}add(m,g,w,S){this.table[g<<8|m]=w<<4|S}addMany(m,g,w,S){for(let b=0;b<m.length;b++)this.table[g<<8|m[b]]=w<<4|S}}c.TransitionTable=l;const h=160;c.VT500_TRANSITION_TABLE=function(){const p=new l(4095),m=Array.apply(null,Array(256)).map((x,C)=>C),g=(x,C)=>m.slice(x,C),w=g(32,127),S=g(0,24);S.push(25),S.push.apply(S,g(28,32));const b=g(0,14);let _;for(_ in p.setDefault(1,0),p.addMany(w,0,2,0),b)p.addMany([24,26,153,154],_,3,0),p.addMany(g(128,144),_,3,0),p.addMany(g(144,152),_,3,0),p.add(156,_,0,0),p.add(27,_,11,1),p.add(157,_,4,8),p.addMany([152,158,159],_,0,7),p.add(155,_,11,3),p.add(144,_,11,9);return p.addMany(S,0,3,0),p.addMany(S,1,3,1),p.add(127,1,0,1),p.addMany(S,8,0,8),p.addMany(S,3,3,3),p.add(127,3,0,3),p.addMany(S,4,3,4),p.add(127,4,0,4),p.addMany(S,6,3,6),p.addMany(S,5,3,5),p.add(127,5,0,5),p.addMany(S,2,3,2),p.add(127,2,0,2),p.add(93,1,4,8),p.addMany(w,8,5,8),p.add(127,8,5,8),p.addMany([156,27,24,26,7],8,6,0),p.addMany(g(28,32),8,0,8),p.addMany([88,94,95],1,0,7),p.addMany(w,7,0,7),p.addMany(S,7,0,7),p.add(156,7,0,0),p.add(127,7,0,7),p.add(91,1,11,3),p.addMany(g(64,127),3,7,0),p.addMany(g(48,60),3,8,4),p.addMany([60,61,62,63],3,9,4),p.addMany(g(48,60),4,8,4),p.addMany(g(64,127),4,7,0),p.addMany([60,61,62,63],4,0,6),p.addMany(g(32,64),6,0,6),p.add(127,6,0,6),p.addMany(g(64,127),6,0,0),p.addMany(g(32,48),3,9,5),p.addMany(g(32,48),5,9,5),p.addMany(g(48,64),5,0,6),p.addMany(g(64,127),5,7,0),p.addMany(g(32,48),4,9,5),p.addMany(g(32,48),1,9,2),p.addMany(g(32,48),2,9,2),p.addMany(g(48,127),2,10,0),p.addMany(g(48,80),1,10,0),p.addMany(g(81,88),1,10,0),p.addMany([89,90,92],1,10,0),p.addMany(g(96,127),1,10,0),p.add(80,1,11,9),p.addMany(S,9,0,9),p.add(127,9,0,9),p.addMany(g(28,32),9,0,9),p.addMany(g(32,48),9,9,12),p.addMany(g(48,60),9,8,10),p.addMany([60,61,62,63],9,9,10),p.addMany(S,11,0,11),p.addMany(g(32,128),11,0,11),p.addMany(g(28,32),11,0,11),p.addMany(S,10,0,10),p.add(127,10,0,10),p.addMany(g(28,32),10,0,10),p.addMany(g(48,60),10,8,10),p.addMany([60,61,62,63],10,0,11),p.addMany(g(32,48),10,9,12),p.addMany(S,12,0,12),p.add(127,12,0,12),p.addMany(g(28,32),12,0,12),p.addMany(g(32,48),12,9,12),p.addMany(g(48,64),12,0,11),p.addMany(g(64,127),12,12,13),p.addMany(g(64,127),10,12,13),p.addMany(g(64,127),9,12,13),p.addMany(S,13,13,13),p.addMany(w,13,13,13),p.add(127,13,0,13),p.addMany([27,156,24,26],13,14,0),p.add(h,0,2,0),p.add(h,8,5,8),p.add(h,6,0,6),p.add(h,11,0,11),p.add(h,13,13,13),p}();class f extends d.Disposable{constructor(m=c.VT500_TRANSITION_TABLE){super(),this._transitions=m,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new o.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(g,w,S)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,w)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,d.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new r.OscParser),this._dcsParser=this.register(new a.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(m,g=[64,126]){let w=0;if(m.prefix){if(m.prefix.length>1)throw new Error("only one byte as prefix supported");if(w=m.prefix.charCodeAt(0),w&&60>w||w>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(m.intermediates){if(m.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let b=0;b<m.intermediates.length;++b){const _=m.intermediates.charCodeAt(b);if(32>_||_>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");w<<=8,w|=_}}if(m.final.length!==1)throw new Error("final must be a single byte");const S=m.final.charCodeAt(0);if(g[0]>S||S>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return w<<=8,w|=S,w}identToString(m){const g=[];for(;m;)g.push(String.fromCharCode(255&m)),m>>=8;return g.reverse().join("")}setPrintHandler(m){this._printHandler=m}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(m,g){const w=this._identifier(m,[48,126]);this._escHandlers[w]===void 0&&(this._escHandlers[w]=[]);const S=this._escHandlers[w];return S.push(g),{dispose:()=>{const b=S.indexOf(g);b!==-1&&S.splice(b,1)}}}clearEscHandler(m){this._escHandlers[this._identifier(m,[48,126])]&&delete this._escHandlers[this._identifier(m,[48,126])]}setEscHandlerFallback(m){this._escHandlerFb=m}setExecuteHandler(m,g){this._executeHandlers[m.charCodeAt(0)]=g}clearExecuteHandler(m){this._executeHandlers[m.charCodeAt(0)]&&delete this._executeHandlers[m.charCodeAt(0)]}setExecuteHandlerFallback(m){this._executeHandlerFb=m}registerCsiHandler(m,g){const w=this._identifier(m);this._csiHandlers[w]===void 0&&(this._csiHandlers[w]=[]);const S=this._csiHandlers[w];return S.push(g),{dispose:()=>{const b=S.indexOf(g);b!==-1&&S.splice(b,1)}}}clearCsiHandler(m){this._csiHandlers[this._identifier(m)]&&delete this._csiHandlers[this._identifier(m)]}setCsiHandlerFallback(m){this._csiHandlerFb=m}registerDcsHandler(m,g){return this._dcsParser.registerHandler(this._identifier(m),g)}clearDcsHandler(m){this._dcsParser.clearHandler(this._identifier(m))}setDcsHandlerFallback(m){this._dcsParser.setHandlerFallback(m)}registerOscHandler(m,g){return this._oscParser.registerHandler(m,g)}clearOscHandler(m){this._oscParser.clearHandler(m)}setOscHandlerFallback(m){this._oscParser.setHandlerFallback(m)}setErrorHandler(m){this._errorHandler=m}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(m,g,w,S,b){this._parseStack.state=m,this._parseStack.handlers=g,this._parseStack.handlerPos=w,this._parseStack.transition=S,this._parseStack.chunkPos=b}parse(m,g,w){let S,b=0,_=0,x=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,x=this._parseStack.chunkPos+1;else{if(w===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const C=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(w===!1&&k>-1){for(;k>=0&&(S=C[k](this._params),S!==!0);k--)if(S instanceof Promise)return this._parseStack.handlerPos=k,S}this._parseStack.handlers=[];break;case 4:if(w===!1&&k>-1){for(;k>=0&&(S=C[k](),S!==!0);k--)if(S instanceof Promise)return this._parseStack.handlerPos=k,S}this._parseStack.handlers=[];break;case 6:if(b=m[this._parseStack.chunkPos],S=this._dcsParser.unhook(b!==24&&b!==26,w),S)return S;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=m[this._parseStack.chunkPos],S=this._oscParser.end(b!==24&&b!==26,w),S)return S;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,x=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let C=x;C<g;++C){switch(b=m[C],_=this._transitions.table[this.currentState<<8|(b<160?b:h)],_>>4){case 2:for(let E=C+1;;++E){if(E>=g||(b=m[E])<32||b>126&&b<h){this._printHandler(m,C,E),C=E-1;break}if(++E>=g||(b=m[E])<32||b>126&&b<h){this._printHandler(m,C,E),C=E-1;break}if(++E>=g||(b=m[E])<32||b>126&&b<h){this._printHandler(m,C,E),C=E-1;break}if(++E>=g||(b=m[E])<32||b>126&&b<h){this._printHandler(m,C,E),C=E-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:C,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|b];let M=k?k.length-1:-1;for(;M>=0&&(S=k[M](this._params),S!==!0);M--)if(S instanceof Promise)return this._preserveStack(3,k,M,_,C),S;M<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingJoinState=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++C<g&&(b=m[C])>47&&b<60);C--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:const T=this._escHandlers[this._collect<<8|b];let L=T?T.length-1:-1;for(;L>=0&&(S=T[L](),S!==!0);L--)if(S instanceof Promise)return this._preserveStack(4,T,L,_,C),S;L<0&&this._escHandlerFb(this._collect<<8|b),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(let E=C+1;;++E)if(E>=g||(b=m[E])===24||b===26||b===27||b>127&&b<h){this._dcsParser.put(m,C,E),C=E-1;break}break;case 14:if(S=this._dcsParser.unhook(b!==24&&b!==26),S)return this._preserveStack(6,[],0,_,C),S;b===27&&(_|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let E=C+1;;E++)if(E>=g||(b=m[E])<32||b>127&&b<h){this._oscParser.put(m,C,E),C=E-1;break}break;case 6:if(S=this._oscParser.end(b!==24&&b!==26),S)return this._preserveStack(5,[],0,_,C),S;b===27&&(_|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&_}}}c.EscapeSequenceParser=f},6242:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OscHandler=c.OscParser=void 0;const d=s(5770),o=s(482),r=[];c.OscParser=class{constructor(){this._state=0,this._active=r,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(a,l){this._handlers[a]===void 0&&(this._handlers[a]=[]);const h=this._handlers[a];return h.push(l),{dispose:()=>{const f=h.indexOf(l);f!==-1&&h.splice(f,1)}}}clearHandler(a){this._handlers[a]&&delete this._handlers[a]}setHandlerFallback(a){this._handlerFb=a}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=r}reset(){if(this._state===2)for(let a=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;a>=0;--a)this._active[a].end(!1);this._stack.paused=!1,this._active=r,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||r,this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].start();else this._handlerFb(this._id,"START")}_put(a,l,h){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(a,l,h);else this._handlerFb(this._id,"PUT",(0,o.utf32ToString)(a,l,h))}start(){this.reset(),this._state=1}put(a,l,h){if(this._state!==3){if(this._state===1)for(;l<h;){const f=a[l++];if(f===59){this._state=2,this._start();break}if(f<48||57<f)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+f-48}this._state===2&&h-l>0&&this._put(a,l,h)}}end(a,l=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let h=!1,f=this._active.length-1,p=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,h=l,p=this._stack.fallThrough,this._stack.paused=!1),!p&&h===!1){for(;f>=0&&(h=this._active[f].end(a),h!==!0);f--)if(h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,h;f--}for(;f>=0;f--)if(h=this._active[f].end(!1),h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,h}else this._handlerFb(this._id,"END",a);this._active=r,this._id=-1,this._state=0}}},c.OscHandler=class{constructor(a){this._handler=a,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(a,l,h){this._hitLimit||(this._data+=(0,o.utf32ToString)(a,l,h),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(a){let l=!1;if(this._hitLimit)l=!1;else if(a&&(l=this._handler(this._data),l instanceof Promise))return l.then(h=>(this._data="",this._hitLimit=!1,h));return this._data="",this._hitLimit=!1,l}}},8742:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.Params=void 0;const s=2147483647;class d{static fromArray(r){const a=new d;if(!r.length)return a;for(let l=Array.isArray(r[0])?1:0;l<r.length;++l){const h=r[l];if(Array.isArray(h))for(let f=0;f<h.length;++f)a.addSubParam(h[f]);else a.addParam(h)}return a}constructor(r=32,a=32){if(this.maxLength=r,this.maxSubParamsLength=a,a>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(r),this.length=0,this._subParams=new Int32Array(a),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(r),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const r=new d(this.maxLength,this.maxSubParamsLength);return r.params.set(this.params),r.length=this.length,r._subParams.set(this._subParams),r._subParamsLength=this._subParamsLength,r._subParamsIdx.set(this._subParamsIdx),r._rejectDigits=this._rejectDigits,r._rejectSubDigits=this._rejectSubDigits,r._digitIsSub=this._digitIsSub,r}toArray(){const r=[];for(let a=0;a<this.length;++a){r.push(this.params[a]);const l=this._subParamsIdx[a]>>8,h=255&this._subParamsIdx[a];h-l>0&&r.push(Array.prototype.slice.call(this._subParams,l,h))}return r}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(r){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(r<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=r>s?s:r}}addSubParam(r){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(r<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=r>s?s:r,this._subParamsIdx[this.length-1]++}}hasSubParams(r){return(255&this._subParamsIdx[r])-(this._subParamsIdx[r]>>8)>0}getSubParams(r){const a=this._subParamsIdx[r]>>8,l=255&this._subParamsIdx[r];return l-a>0?this._subParams.subarray(a,l):null}getSubParamsAll(){const r={};for(let a=0;a<this.length;++a){const l=this._subParamsIdx[a]>>8,h=255&this._subParamsIdx[a];h-l>0&&(r[a]=this._subParams.slice(l,h))}return r}addDigit(r){let a;if(this._rejectDigits||!(a=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const l=this._digitIsSub?this._subParams:this.params,h=l[a-1];l[a-1]=~h?Math.min(10*h+r,s):r}}c.Params=d},5741:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AddonManager=void 0,c.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let s=this._addons.length-1;s>=0;s--)this._addons[s].instance.dispose()}loadAddon(s,d){const o={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(o),d.dispose=()=>this._wrappedAddonDispose(o),d.activate(s)}_wrappedAddonDispose(s){if(s.isDisposed)return;let d=-1;for(let o=0;o<this._addons.length;o++)if(this._addons[o]===s){d=o;break}if(d===-1)throw new Error("Could not dispose an addon that has not been loaded");s.isDisposed=!0,s.dispose.apply(s.instance),this._addons.splice(d,1)}}},8771:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferApiView=void 0;const d=s(3785),o=s(511);c.BufferApiView=class{constructor(r,a){this._buffer=r,this.type=a}init(r){return this._buffer=r,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(r){const a=this._buffer.lines.get(r);if(a)return new d.BufferLineApiView(a)}getNullCell(){return new o.CellData}}},3785:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferLineApiView=void 0;const d=s(511);c.BufferLineApiView=class{constructor(o){this._line=o}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(o,r){if(!(o<0||o>=this._line.length))return r?(this._line.loadCell(o,r),r):this._line.loadCell(o,new d.CellData)}translateToString(o,r,a){return this._line.translateToString(o,r,a)}}},8285:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BufferNamespaceApi=void 0;const d=s(8771),o=s(8460),r=s(844);class a extends r.Disposable{constructor(h){super(),this._core=h,this._onBufferChange=this.register(new o.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new d.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new d.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}c.BufferNamespaceApi=a},7975:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ParserApi=void 0,c.ParserApi=class{constructor(s){this._core=s}registerCsiHandler(s,d){return this._core.registerCsiHandler(s,o=>d(o.toArray()))}addCsiHandler(s,d){return this.registerCsiHandler(s,d)}registerDcsHandler(s,d){return this._core.registerDcsHandler(s,(o,r)=>d(o,r.toArray()))}addDcsHandler(s,d){return this.registerDcsHandler(s,d)}registerEscHandler(s,d){return this._core.registerEscHandler(s,d)}addEscHandler(s,d){return this.registerEscHandler(s,d)}registerOscHandler(s,d){return this._core.registerOscHandler(s,d)}addOscHandler(s,d){return this.registerOscHandler(s,d)}}},7090:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeApi=void 0,c.UnicodeApi=class{constructor(s){this._core=s}register(s){this._core.unicodeService.register(s)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(s){this._core.unicodeService.activeVersion=s}}},744:function(y,c,s){var d=this&&this.__decorate||function(p,m,g,w){var S,b=arguments.length,_=b<3?m:w===null?w=Object.getOwnPropertyDescriptor(m,g):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(p,m,g,w);else for(var x=p.length-1;x>=0;x--)(S=p[x])&&(_=(b<3?S(_):b>3?S(m,g,_):S(m,g))||_);return b>3&&_&&Object.defineProperty(m,g,_),_},o=this&&this.__param||function(p,m){return function(g,w){m(g,w,p)}};Object.defineProperty(c,"__esModule",{value:!0}),c.BufferService=c.MINIMUM_ROWS=c.MINIMUM_COLS=void 0;const r=s(8460),a=s(844),l=s(5295),h=s(2585);c.MINIMUM_COLS=2,c.MINIMUM_ROWS=1;let f=c.BufferService=class extends a.Disposable{get buffer(){return this.buffers.active}constructor(p){super(),this.isUserScrolling=!1,this._onResize=this.register(new r.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new r.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(p.rawOptions.cols||0,c.MINIMUM_COLS),this.rows=Math.max(p.rawOptions.rows||0,c.MINIMUM_ROWS),this.buffers=this.register(new l.BufferSet(p,this))}resize(p,m){this.cols=p,this.rows=m,this.buffers.resize(p,m),this._onResize.fire({cols:p,rows:m})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(p,m=!1){const g=this.buffer;let w;w=this._cachedBlankLine,w&&w.length===this.cols&&w.getFg(0)===p.fg&&w.getBg(0)===p.bg||(w=g.getBlankLine(p,m),this._cachedBlankLine=w),w.isWrapped=m;const S=g.ybase+g.scrollTop,b=g.ybase+g.scrollBottom;if(g.scrollTop===0){const _=g.lines.isFull;b===g.lines.length-1?_?g.lines.recycle().copyFrom(w):g.lines.push(w.clone()):g.lines.splice(b+1,0,w.clone()),_?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{const _=b-S+1;g.lines.shiftElements(S+1,_-1,-1),g.lines.set(b,w.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(p,m,g){const w=this.buffer;if(p<0){if(w.ydisp===0)return;this.isUserScrolling=!0}else p+w.ydisp>=w.ybase&&(this.isUserScrolling=!1);const S=w.ydisp;w.ydisp=Math.max(Math.min(w.ydisp+p,w.ybase),0),S!==w.ydisp&&(m||this._onScroll.fire(w.ydisp))}};c.BufferService=f=d([o(0,h.IOptionsService)],f)},7994:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharsetService=void 0,c.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(s){this.glevel=s,this.charset=this._charsets[s]}setgCharset(s,d){this._charsets[s]=d,this.glevel===s&&(this.charset=d)}}},1753:function(y,c,s){var d=this&&this.__decorate||function(w,S,b,_){var x,C=arguments.length,k=C<3?S:_===null?_=Object.getOwnPropertyDescriptor(S,b):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(w,S,b,_);else for(var M=w.length-1;M>=0;M--)(x=w[M])&&(k=(C<3?x(k):C>3?x(S,b,k):x(S,b))||k);return C>3&&k&&Object.defineProperty(S,b,k),k},o=this&&this.__param||function(w,S){return function(b,_){S(b,_,w)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CoreMouseService=void 0;const r=s(2585),a=s(8460),l=s(844),h={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:w=>w.button!==4&&w.action===1&&(w.ctrl=!1,w.alt=!1,w.shift=!1,!0)},VT200:{events:19,restrict:w=>w.action!==32},DRAG:{events:23,restrict:w=>w.action!==32||w.button!==3},ANY:{events:31,restrict:w=>!0}};function f(w,S){let b=(w.ctrl?16:0)|(w.shift?4:0)|(w.alt?8:0);return w.button===4?(b|=64,b|=w.action):(b|=3&w.button,4&w.button&&(b|=64),8&w.button&&(b|=128),w.action===32?b|=32:w.action!==0||S||(b|=3)),b}const p=String.fromCharCode,m={DEFAULT:w=>{const S=[f(w,!1)+32,w.col+32,w.row+32];return S[0]>255||S[1]>255||S[2]>255?"":`\x1B[M${p(S[0])}${p(S[1])}${p(S[2])}`},SGR:w=>{const S=w.action===0&&w.button!==4?"m":"M";return`\x1B[<${f(w,!0)};${w.col};${w.row}${S}`},SGR_PIXELS:w=>{const S=w.action===0&&w.button!==4?"m":"M";return`\x1B[<${f(w,!0)};${w.x};${w.y}${S}`}};let g=c.CoreMouseService=class extends l.Disposable{constructor(w,S){super(),this._bufferService=w,this._coreService=S,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new a.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const b of Object.keys(h))this.addProtocol(b,h[b]);for(const b of Object.keys(m))this.addEncoding(b,m[b]);this.reset()}addProtocol(w,S){this._protocols[w]=S}addEncoding(w,S){this._encodings[w]=S}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(w){if(!this._protocols[w])throw new Error(`unknown protocol "${w}"`);this._activeProtocol=w,this._onProtocolChange.fire(this._protocols[w].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(w){if(!this._encodings[w])throw new Error(`unknown encoding "${w}"`);this._activeEncoding=w}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(w){if(w.col<0||w.col>=this._bufferService.cols||w.row<0||w.row>=this._bufferService.rows||w.button===4&&w.action===32||w.button===3&&w.action!==32||w.button!==4&&(w.action===2||w.action===3)||(w.col++,w.row++,w.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,w,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(w))return!1;const S=this._encodings[this._activeEncoding](w);return S&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(S):this._coreService.triggerDataEvent(S,!0)),this._lastEvent=w,!0}explainEvents(w){return{down:!!(1&w),up:!!(2&w),drag:!!(4&w),move:!!(8&w),wheel:!!(16&w)}}_equalEvents(w,S,b){if(b){if(w.x!==S.x||w.y!==S.y)return!1}else if(w.col!==S.col||w.row!==S.row)return!1;return w.button===S.button&&w.action===S.action&&w.ctrl===S.ctrl&&w.alt===S.alt&&w.shift===S.shift}};c.CoreMouseService=g=d([o(0,r.IBufferService),o(1,r.ICoreService)],g)},6975:function(y,c,s){var d=this&&this.__decorate||function(g,w,S,b){var _,x=arguments.length,C=x<3?w:b===null?b=Object.getOwnPropertyDescriptor(w,S):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,w,S,b);else for(var k=g.length-1;k>=0;k--)(_=g[k])&&(C=(x<3?_(C):x>3?_(w,S,C):_(w,S))||C);return x>3&&C&&Object.defineProperty(w,S,C),C},o=this&&this.__param||function(g,w){return function(S,b){w(S,b,g)}};Object.defineProperty(c,"__esModule",{value:!0}),c.CoreService=void 0;const r=s(1439),a=s(8460),l=s(844),h=s(2585),f=Object.freeze({insertMode:!1}),p=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let m=c.CoreService=class extends l.Disposable{constructor(g,w,S){super(),this._bufferService=g,this._logService=w,this._optionsService=S,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new a.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new a.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new a.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new a.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,r.clone)(f),this.decPrivateModes=(0,r.clone)(p)}reset(){this.modes=(0,r.clone)(f),this.decPrivateModes=(0,r.clone)(p)}triggerDataEvent(g,w=!1){if(this._optionsService.rawOptions.disableStdin)return;const S=this._bufferService.buffer;w&&this._optionsService.rawOptions.scrollOnUserInput&&S.ybase!==S.ydisp&&this._onRequestScrollToBottom.fire(),w&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,()=>g.split("").map(b=>b.charCodeAt(0))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,()=>g.split("").map(w=>w.charCodeAt(0))),this._onBinary.fire(g))}};c.CoreService=m=d([o(0,h.IBufferService),o(1,h.ILogService),o(2,h.IOptionsService)],m)},9074:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DecorationService=void 0;const d=s(8055),o=s(8460),r=s(844),a=s(6106);let l=0,h=0;class f extends r.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new a.SortedList(g=>g==null?void 0:g.marker.line),this._onDecorationRegistered=this.register(new o.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new o.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,r.toDisposable)(()=>this.reset()))}registerDecoration(g){if(g.marker.isDisposed)return;const w=new p(g);if(w){const S=w.marker.onDispose(()=>w.dispose());w.onDispose(()=>{w&&(this._decorations.delete(w)&&this._onDecorationRemoved.fire(w),S.dispose())}),this._decorations.insert(w),this._onDecorationRegistered.fire(w)}return w}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,w,S){let b=0,_=0;for(const x of this._decorations.getKeyIterator(w))b=x.options.x??0,_=b+(x.options.width??1),g>=b&&g<_&&(!S||(x.options.layer??"bottom")===S)&&(yield x)}forEachDecorationAtCell(g,w,S,b){this._decorations.forEachByKey(w,_=>{l=_.options.x??0,h=l+(_.options.width??1),g>=l&&g<h&&(!S||(_.options.layer??"bottom")===S)&&b(_)})}}c.DecorationService=f;class p extends r.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=d.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=d.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(g){super(),this.options=g,this.onRenderEmitter=this.register(new o.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new o.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InstantiationService=c.ServiceCollection=void 0;const d=s(2585),o=s(8343);class r{constructor(...l){this._entries=new Map;for(const[h,f]of l)this.set(h,f)}set(l,h){const f=this._entries.get(l);return this._entries.set(l,h),f}forEach(l){for(const[h,f]of this._entries.entries())l(h,f)}has(l){return this._entries.has(l)}get(l){return this._entries.get(l)}}c.ServiceCollection=r,c.InstantiationService=class{constructor(){this._services=new r,this._services.set(d.IInstantiationService,this)}setService(a,l){this._services.set(a,l)}getService(a){return this._services.get(a)}createInstance(a,...l){const h=(0,o.getServiceDependencies)(a).sort((m,g)=>m.index-g.index),f=[];for(const m of h){const g=this._services.get(m.id);if(!g)throw new Error(`[createInstance] ${a.name} depends on UNKNOWN service ${m.id}.`);f.push(g)}const p=h.length>0?h[0].index:l.length;if(l.length!==p)throw new Error(`[createInstance] First service dependency of ${a.name} at position ${p+1} conflicts with ${l.length} static arguments`);return new a(...l,...f)}}},7866:function(y,c,s){var d=this&&this.__decorate||function(p,m,g,w){var S,b=arguments.length,_=b<3?m:w===null?w=Object.getOwnPropertyDescriptor(m,g):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(p,m,g,w);else for(var x=p.length-1;x>=0;x--)(S=p[x])&&(_=(b<3?S(_):b>3?S(m,g,_):S(m,g))||_);return b>3&&_&&Object.defineProperty(m,g,_),_},o=this&&this.__param||function(p,m){return function(g,w){m(g,w,p)}};Object.defineProperty(c,"__esModule",{value:!0}),c.traceCall=c.setTraceLogger=c.LogService=void 0;const r=s(844),a=s(2585),l={trace:a.LogLevelEnum.TRACE,debug:a.LogLevelEnum.DEBUG,info:a.LogLevelEnum.INFO,warn:a.LogLevelEnum.WARN,error:a.LogLevelEnum.ERROR,off:a.LogLevelEnum.OFF};let h,f=c.LogService=class extends r.Disposable{get logLevel(){return this._logLevel}constructor(p){super(),this._optionsService=p,this._logLevel=a.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),h=this}_updateLogLevel(){this._logLevel=l[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(p){for(let m=0;m<p.length;m++)typeof p[m]=="function"&&(p[m]=p[m]())}_log(p,m,g){this._evalLazyOptionalParams(g),p.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+m,...g)}trace(p,...m){var g;this._logLevel<=a.LogLevelEnum.TRACE&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.trace.bind(this._optionsService.options.logger))??console.log,p,m)}debug(p,...m){var g;this._logLevel<=a.LogLevelEnum.DEBUG&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.debug.bind(this._optionsService.options.logger))??console.log,p,m)}info(p,...m){var g;this._logLevel<=a.LogLevelEnum.INFO&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.info.bind(this._optionsService.options.logger))??console.info,p,m)}warn(p,...m){var g;this._logLevel<=a.LogLevelEnum.WARN&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.warn.bind(this._optionsService.options.logger))??console.warn,p,m)}error(p,...m){var g;this._logLevel<=a.LogLevelEnum.ERROR&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.error.bind(this._optionsService.options.logger))??console.error,p,m)}};c.LogService=f=d([o(0,a.IOptionsService)],f),c.setTraceLogger=function(p){h=p},c.traceCall=function(p,m,g){if(typeof g.value!="function")throw new Error("not supported");const w=g.value;g.value=function(...S){if(h.logLevel!==a.LogLevelEnum.TRACE)return w.apply(this,S);h.trace(`GlyphRenderer#${w.name}(${S.map(_=>JSON.stringify(_)).join(", ")})`);const b=w.apply(this,S);return h.trace(`GlyphRenderer#${w.name} return`,b),b}}},7302:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.OptionsService=c.DEFAULT_OPTIONS=void 0;const d=s(8460),o=s(844),r=s(6114);c.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:r.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const a=["normal","bold","100","200","300","400","500","600","700","800","900"];class l extends o.Disposable{constructor(f){super(),this._onOptionChange=this.register(new d.EventEmitter),this.onOptionChange=this._onOptionChange.event;const p={...c.DEFAULT_OPTIONS};for(const m in f)if(m in p)try{const g=f[m];p[m]=this._sanitizeAndValidateOption(m,g)}catch(g){console.error(g)}this.rawOptions=p,this.options={...p},this._setupOptions(),this.register((0,o.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(f,p){return this.onOptionChange(m=>{m===f&&p(this.rawOptions[f])})}onMultipleOptionChange(f,p){return this.onOptionChange(m=>{f.indexOf(m)!==-1&&p()})}_setupOptions(){const f=m=>{if(!(m in c.DEFAULT_OPTIONS))throw new Error(`No option with key "${m}"`);return this.rawOptions[m]},p=(m,g)=>{if(!(m in c.DEFAULT_OPTIONS))throw new Error(`No option with key "${m}"`);g=this._sanitizeAndValidateOption(m,g),this.rawOptions[m]!==g&&(this.rawOptions[m]=g,this._onOptionChange.fire(m))};for(const m in this.rawOptions){const g={get:f.bind(this,m),set:p.bind(this,m)};Object.defineProperty(this.options,m,g)}}_sanitizeAndValidateOption(f,p){switch(f){case"cursorStyle":if(p||(p=c.DEFAULT_OPTIONS[f]),!function(m){return m==="block"||m==="underline"||m==="bar"}(p))throw new Error(`"${p}" is not a valid value for ${f}`);break;case"wordSeparator":p||(p=c.DEFAULT_OPTIONS[f]);break;case"fontWeight":case"fontWeightBold":if(typeof p=="number"&&1<=p&&p<=1e3)break;p=a.includes(p)?p:c.DEFAULT_OPTIONS[f];break;case"cursorWidth":p=Math.floor(p);case"lineHeight":case"tabStopWidth":if(p<1)throw new Error(`${f} cannot be less than 1, value: ${p}`);break;case"minimumContrastRatio":p=Math.max(1,Math.min(21,Math.round(10*p)/10));break;case"scrollback":if((p=Math.min(p,4294967295))<0)throw new Error(`${f} cannot be less than 0, value: ${p}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(p<=0)throw new Error(`${f} cannot be less than or equal to 0, value: ${p}`);break;case"rows":case"cols":if(!p&&p!==0)throw new Error(`${f} must be numeric, value: ${p}`);break;case"windowsPty":p=p??{}}return p}}c.OptionsService=l},2660:function(y,c,s){var d=this&&this.__decorate||function(l,h,f,p){var m,g=arguments.length,w=g<3?h:p===null?p=Object.getOwnPropertyDescriptor(h,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(l,h,f,p);else for(var S=l.length-1;S>=0;S--)(m=l[S])&&(w=(g<3?m(w):g>3?m(h,f,w):m(h,f))||w);return g>3&&w&&Object.defineProperty(h,f,w),w},o=this&&this.__param||function(l,h){return function(f,p){h(f,p,l)}};Object.defineProperty(c,"__esModule",{value:!0}),c.OscLinkService=void 0;const r=s(2585);let a=c.OscLinkService=class{constructor(l){this._bufferService=l,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(l){const h=this._bufferService.buffer;if(l.id===void 0){const S=h.addMarker(h.ybase+h.y),b={data:l,id:this._nextId++,lines:[S]};return S.onDispose(()=>this._removeMarkerFromLink(b,S)),this._dataByLinkId.set(b.id,b),b.id}const f=l,p=this._getEntryIdKey(f),m=this._entriesWithId.get(p);if(m)return this.addLineToLink(m.id,h.ybase+h.y),m.id;const g=h.addMarker(h.ybase+h.y),w={id:this._nextId++,key:this._getEntryIdKey(f),data:f,lines:[g]};return g.onDispose(()=>this._removeMarkerFromLink(w,g)),this._entriesWithId.set(w.key,w),this._dataByLinkId.set(w.id,w),w.id}addLineToLink(l,h){const f=this._dataByLinkId.get(l);if(f&&f.lines.every(p=>p.line!==h)){const p=this._bufferService.buffer.addMarker(h);f.lines.push(p),p.onDispose(()=>this._removeMarkerFromLink(f,p))}}getLinkData(l){var h;return(h=this._dataByLinkId.get(l))==null?void 0:h.data}_getEntryIdKey(l){return`${l.id};;${l.uri}`}_removeMarkerFromLink(l,h){const f=l.lines.indexOf(h);f!==-1&&(l.lines.splice(f,1),l.lines.length===0&&(l.data.id!==void 0&&this._entriesWithId.delete(l.key),this._dataByLinkId.delete(l.id)))}};c.OscLinkService=a=d([o(0,r.IBufferService)],a)},8343:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createDecorator=c.getServiceDependencies=c.serviceRegistry=void 0;const s="di$target",d="di$dependencies";c.serviceRegistry=new Map,c.getServiceDependencies=function(o){return o[d]||[]},c.createDecorator=function(o){if(c.serviceRegistry.has(o))return c.serviceRegistry.get(o);const r=function(a,l,h){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(f,p,m){p[s]===p?p[d].push({id:f,index:m}):(p[d]=[{id:f,index:m}],p[s]=p)})(r,a,h)};return r.toString=()=>o,c.serviceRegistry.set(o,r),r}},2585:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.IDecorationService=c.IUnicodeService=c.IOscLinkService=c.IOptionsService=c.ILogService=c.LogLevelEnum=c.IInstantiationService=c.ICharsetService=c.ICoreService=c.ICoreMouseService=c.IBufferService=void 0;const d=s(8343);var o;c.IBufferService=(0,d.createDecorator)("BufferService"),c.ICoreMouseService=(0,d.createDecorator)("CoreMouseService"),c.ICoreService=(0,d.createDecorator)("CoreService"),c.ICharsetService=(0,d.createDecorator)("CharsetService"),c.IInstantiationService=(0,d.createDecorator)("InstantiationService"),function(r){r[r.TRACE=0]="TRACE",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.OFF=5]="OFF"}(o||(c.LogLevelEnum=o={})),c.ILogService=(0,d.createDecorator)("LogService"),c.IOptionsService=(0,d.createDecorator)("OptionsService"),c.IOscLinkService=(0,d.createDecorator)("OscLinkService"),c.IUnicodeService=(0,d.createDecorator)("UnicodeService"),c.IDecorationService=(0,d.createDecorator)("DecorationService")},1480:(y,c,s)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.UnicodeService=void 0;const d=s(8460),o=s(225);class r{static extractShouldJoin(l){return(1&l)!=0}static extractWidth(l){return l>>1&3}static extractCharKind(l){return l>>3}static createPropertyValue(l,h,f=!1){return(16777215&l)<<3|(3&h)<<1|(f?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new d.EventEmitter,this.onChange=this._onChange.event;const l=new o.UnicodeV6;this.register(l),this._active=l.version,this._activeProvider=l}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(l){if(!this._providers[l])throw new Error(`unknown Unicode version "${l}"`);this._active=l,this._activeProvider=this._providers[l],this._onChange.fire(l)}register(l){this._providers[l.version]=l}wcwidth(l){return this._activeProvider.wcwidth(l)}getStringCellWidth(l){let h=0,f=0;const p=l.length;for(let m=0;m<p;++m){let g=l.charCodeAt(m);if(55296<=g&&g<=56319){if(++m>=p)return h+this.wcwidth(g);const b=l.charCodeAt(m);56320<=b&&b<=57343?g=1024*(g-55296)+b-56320+65536:h+=this.wcwidth(b)}const w=this.charProperties(g,f);let S=r.extractWidth(w);r.extractShouldJoin(w)&&(S-=r.extractWidth(f)),h+=S,f=w}return h}charProperties(l,h){return this._activeProvider.charProperties(l,h)}}c.UnicodeService=r}},i={};function v(y){var c=i[y];if(c!==void 0)return c.exports;var s=i[y]={exports:{}};return n[y].call(s.exports,s,s.exports,v),s.exports}var u={};return(()=>{var y=u;Object.defineProperty(y,"__esModule",{value:!0}),y.Terminal=void 0;const c=v(9042),s=v(3236),d=v(844),o=v(5741),r=v(8285),a=v(7975),l=v(7090),h=["cols","rows"];class f extends d.Disposable{constructor(m){super(),this._core=this.register(new s.Terminal(m)),this._addonManager=this.register(new o.AddonManager),this._publicOptions={...this._core.options};const g=S=>this._core.options[S],w=(S,b)=>{this._checkReadonlyOptions(S),this._core.options[S]=b};for(const S in this._core.options){const b={get:g.bind(this,S),set:w.bind(this,S)};Object.defineProperty(this._publicOptions,S,b)}}_checkReadonlyOptions(m){if(h.includes(m))throw new Error(`Option "${m}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new a.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new l.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new r.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const m=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:m.applicationCursorKeys,applicationKeypadMode:m.applicationKeypad,bracketedPasteMode:m.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:m.origin,reverseWraparoundMode:m.reverseWraparound,sendFocusMode:m.sendFocus,wraparoundMode:m.wraparound}}get options(){return this._publicOptions}set options(m){for(const g in m)this._publicOptions[g]=m[g]}blur(){this._core.blur()}focus(){this._core.focus()}input(m,g=!0){this._core.input(m,g)}resize(m,g){this._verifyIntegers(m,g),this._core.resize(m,g)}open(m){this._core.open(m)}attachCustomKeyEventHandler(m){this._core.attachCustomKeyEventHandler(m)}attachCustomWheelEventHandler(m){this._core.attachCustomWheelEventHandler(m)}registerLinkProvider(m){return this._core.registerLinkProvider(m)}registerCharacterJoiner(m){return this._checkProposedApi(),this._core.registerCharacterJoiner(m)}deregisterCharacterJoiner(m){this._checkProposedApi(),this._core.deregisterCharacterJoiner(m)}registerMarker(m=0){return this._verifyIntegers(m),this._core.registerMarker(m)}registerDecoration(m){return this._checkProposedApi(),this._verifyPositiveIntegers(m.x??0,m.width??0,m.height??0),this._core.registerDecoration(m)}hasSelection(){return this._core.hasSelection()}select(m,g,w){this._verifyIntegers(m,g,w),this._core.select(m,g,w)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(m,g){this._verifyIntegers(m,g),this._core.selectLines(m,g)}dispose(){super.dispose()}scrollLines(m){this._verifyIntegers(m),this._core.scrollLines(m)}scrollPages(m){this._verifyIntegers(m),this._core.scrollPages(m)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(m){this._verifyIntegers(m),this._core.scrollToLine(m)}clear(){this._core.clear()}write(m,g){this._core.write(m,g)}writeln(m,g){this._core.write(m),this._core.write(`\r
`,g)}paste(m){this._core.paste(m)}refresh(m,g){this._verifyIntegers(m,g),this._core.refresh(m,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(m){this._addonManager.loadAddon(this,m)}static get strings(){return c}_verifyIntegers(...m){for(const g of m)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...m){for(const g of m)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}y.Terminal=f})(),u})())})(nv);var u1=nv.exports;const Cn=Object.create(null);Cn.open="0";Cn.close="1";Cn.ping="2";Cn.pong="3";Cn.message="4";Cn.upgrade="5";Cn.noop="6";const Do=Object.create(null);Object.keys(Cn).forEach(e=>{Do[Cn[e]]=e});const Bc={type:"error",data:"parser error"},rv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",sv=typeof ArrayBuffer=="function",ov=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,sh=({type:e,data:t},n,i)=>rv&&t instanceof Blob?n?i(t):rf(t,i):sv&&(t instanceof ArrayBuffer||ov(t))?n?i(t):rf(new Blob([t]),i):i(Cn[e]+(t||"")),rf=(e,t)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];t("b"+(i||""))},n.readAsDataURL(e)};function sf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ll;function h1(e,t){if(rv&&e.data instanceof Blob)return e.data.arrayBuffer().then(sf).then(t);if(sv&&(e.data instanceof ArrayBuffer||ov(e.data)))return t(sf(e.data));sh(e,!1,n=>{Ll||(Ll=new TextEncoder),t(Ll.encode(n))})}const of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<of.length;e++)qr[of.charCodeAt(e)]=e;const d1=e=>{let t=e.length*.75,n=e.length,i,v=0,u,y,c,s;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),o=new Uint8Array(d);for(i=0;i<n;i+=4)u=qr[e.charCodeAt(i)],y=qr[e.charCodeAt(i+1)],c=qr[e.charCodeAt(i+2)],s=qr[e.charCodeAt(i+3)],o[v++]=u<<2|y>>4,o[v++]=(y&15)<<4|c>>2,o[v++]=(c&3)<<6|s&63;return d},f1=typeof ArrayBuffer=="function",oh=(e,t)=>{if(typeof e!="string")return{type:"message",data:av(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:p1(e.substring(1),t)}:Do[n]?e.length>1?{type:Do[n],data:e.substring(1)}:{type:Do[n]}:Bc},p1=(e,t)=>{if(f1){const n=d1(e);return av(n,t)}else return{base64:!0,data:e}},av=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},lv="",g1=(e,t)=>{const n=e.length,i=new Array(n);let v=0;e.forEach((u,y)=>{sh(u,!1,c=>{i[y]=c,++v===n&&t(i.join(lv))})})},m1=(e,t)=>{const n=e.split(lv),i=[];for(let v=0;v<n.length;v++){const u=oh(n[v],t);if(i.push(u),u.type==="error")break}return i};function v1(){return new TransformStream({transform(e,t){h1(e,n=>{const i=n.length;let v;if(i<126)v=new Uint8Array(1),new DataView(v.buffer).setUint8(0,i);else if(i<65536){v=new Uint8Array(3);const u=new DataView(v.buffer);u.setUint8(0,126),u.setUint16(1,i)}else{v=new Uint8Array(9);const u=new DataView(v.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(v[0]|=128),t.enqueue(v),t.enqueue(n)})}})}let Tl;function go(e){return e.reduce((t,n)=>t+n.length,0)}function mo(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let v=0;v<t;v++)n[v]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function y1(e,t){Tl||(Tl=new TextDecoder);const n=[];let i=0,v=-1,u=!1;return new TransformStream({transform(y,c){for(n.push(y);;){if(i===0){if(go(n)<1)break;const s=mo(n,1);u=(s[0]&128)===128,v=s[0]&127,v<126?i=3:v===126?i=1:i=2}else if(i===1){if(go(n)<2)break;const s=mo(n,2);v=new DataView(s.buffer,s.byteOffset,s.length).getUint16(0),i=3}else if(i===2){if(go(n)<8)break;const s=mo(n,8),d=new DataView(s.buffer,s.byteOffset,s.length),o=d.getUint32(0);if(o>Math.pow(2,21)-1){c.enqueue(Bc);break}v=o*Math.pow(2,32)+d.getUint32(4),i=3}else{if(go(n)<v)break;const s=mo(n,v);c.enqueue(oh(u?s:Tl.decode(s),t)),i=0}if(v===0||v>e){c.enqueue(Bc);break}}}})}const cv=4;function qe(e){if(e)return _1(e)}function _1(e){for(var t in qe.prototype)e[t]=qe.prototype[t];return e}qe.prototype.on=qe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};qe.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};qe.prototype.off=qe.prototype.removeListener=qe.prototype.removeAllListeners=qe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,v=0;v<n.length;v++)if(i=n[v],i===t||i.fn===t){n.splice(v,1);break}return n.length===0&&delete this._callbacks["$"+e],this};qe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,v=n.length;i<v;++i)n[i].apply(this,t)}return this};qe.prototype.emitReserved=qe.prototype.emit;qe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};qe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Kt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function uv(e,...t){return t.reduce((n,i)=>(e.hasOwnProperty(i)&&(n[i]=e[i]),n),{})}const w1=Kt.setTimeout,S1=Kt.clearTimeout;function za(e,t){t.useNativeTimers?(e.setTimeoutFn=w1.bind(Kt),e.clearTimeoutFn=S1.bind(Kt)):(e.setTimeoutFn=Kt.setTimeout.bind(Kt),e.clearTimeoutFn=Kt.clearTimeout.bind(Kt))}const b1=1.33;function C1(e){return typeof e=="string"?x1(e):Math.ceil((e.byteLength||e.size)*b1)}function x1(e){let t=0,n=0;for(let i=0,v=e.length;i<v;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}function k1(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function E1(e){let t={},n=e.split("&");for(let i=0,v=n.length;i<v;i++){let u=n[i].split("=");t[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return t}class A1 extends Error{constructor(t,n,i){super(t),this.description=n,this.context=i,this.type="TransportError"}}class ah extends qe{constructor(t){super(),this.writable=!1,za(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,i){return super.emitReserved("error",new A1(t,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=oh(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=k1(t);return n.length?"?"+n:""}}const hv="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Nc=64,L1={};let af=0,vo=0,lf;function cf(e){let t="";do t=hv[e%Nc]+t,e=Math.floor(e/Nc);while(e>0);return t}function dv(){const e=cf(+new Date);return e!==lf?(af=0,lf=e):e+"."+cf(af++)}for(;vo<Nc;vo++)L1[hv[vo]]=vo;let fv=!1;try{fv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const T1=fv;function pv(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||T1))return new XMLHttpRequest}catch{}if(!t)try{return new Kt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function R1(){}const M1=function(){return new pv({xdomain:!1}).responseType!=null}();class $1 extends ah{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let v=location.port;v||(v=i?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||v!==t.port}const n=t&&t.forceBase64;this.supportsBinary=M1&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};m1(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,g1(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=dv()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new bn(this.uri(),t)}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n),i.on("error",(v,u)=>{this.onError("xhr post error",v,u)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=t}}class bn extends qe{constructor(t,n){super(),za(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=uv(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const i=this.xhr=new pv(n);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let v in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(v)&&i.setRequestHeader(v,this.opts.extraHeaders[v])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var v;i.readyState===3&&((v=this.opts.cookieJar)===null||v===void 0||v.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(v){this.setTimeoutFn(()=>{this.onError(v)},0);return}typeof document<"u"&&(this.index=bn.requestsCount++,bn.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=R1,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete bn.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}bn.requestsCount=0;bn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",uf);else if(typeof addEventListener=="function"){const e="onpagehide"in Kt?"pagehide":"unload";addEventListener(e,uf,!1)}}function uf(){for(let e in bn.requests)bn.requests.hasOwnProperty(e)&&bn.requests[e].abort()}const lh=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),yo=Kt.WebSocket||Kt.MozWebSocket,hf=!0,O1="arraybuffer",df=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class I1 extends ah{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,i=df?{}:uv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=hf&&!df?n?new yo(t,n):new yo(t):new yo(t,n,i)}catch(v){return this.emitReserved("error",v)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],v=n===t.length-1;sh(i,this.supportsBinary,u=>{const y={};try{hf&&this.ws.send(u)}catch{}v&&lh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=dv()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!yo}}class D1 extends ah{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=y1(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(n).getReader(),v=v1();v.readable.pipeTo(t.writable),this.writer=v.writable.getWriter();const u=()=>{i.read().then(({done:c,value:s})=>{c||(this.onPacket(s),u())}).catch(c=>{})};u();const y={type:"open"};this.query.sid&&(y.data=`{"sid":"${this.query.sid}"}`),this.writer.write(y).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],v=n===t.length-1;this.writer.write(i).then(()=>{v&&lh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const P1={websocket:I1,webtransport:D1,polling:$1},B1=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,N1=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fc(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let v=B1.exec(e||""),u={},y=14;for(;y--;)u[N1[y]]=v[y]||"";return n!=-1&&i!=-1&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=F1(u,u.path),u.queryKey=H1(u,u.query),u}function F1(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function H1(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,v,u){v&&(n[v]=u)}),n}let gv=class Vi extends qe{constructor(t,n={}){super(),this.binaryType=O1,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Fc(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Fc(n.host).host),za(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=E1(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=cv,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new P1[t](i)}open(){let t;if(this.opts.rememberUpgrade&&Vi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),i=!1;Vi.priorWebsocketSuccess=!1;const v=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",r=>{if(!i)if(r.type==="pong"&&r.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Vi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(o(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const a=new Error("probe error");a.transport=n.name,this.emitReserved("upgradeError",a)}}))};function u(){i||(i=!0,o(),n.close(),n=null)}const y=r=>{const a=new Error("probe error: "+r);a.transport=n.name,u(),this.emitReserved("upgradeError",a)};function c(){y("transport closed")}function s(){y("socket closed")}function d(r){n&&r.name!==n.name&&u()}const o=()=>{n.removeListener("open",v),n.removeListener("error",y),n.removeListener("close",c),this.off("close",s),this.off("upgrading",d)};n.once("open",v),n.once("error",y),n.once("close",c),this.once("close",s),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Vi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const v=this.writeBuffer[i].data;if(v&&(n+=C1(v)),i>0&&n>this.maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}write(t,n,i){return this.sendPacket("message",t,n,i),this}send(t,n,i){return this.sendPacket("message",t,n,i),this}sendPacket(t,n,i,v){if(typeof n=="function"&&(v=n,n=void 0),typeof i=="function"&&(v=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const u={type:t,data:n,options:i};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),v&&this.once("flush",v),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){Vi.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let i=0;const v=t.length;for(;i<v;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}};gv.protocol=cv;function W1(e,t="",n){let i=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),i=Fc(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const u=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+u+":"+i.port+t,i.href=i.protocol+"://"+u+(n&&n.port===i.port?"":":"+i.port),i}const z1=typeof ArrayBuffer=="function",U1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,mv=Object.prototype.toString,j1=typeof Blob=="function"||typeof Blob<"u"&&mv.call(Blob)==="[object BlobConstructor]",V1=typeof File=="function"||typeof File<"u"&&mv.call(File)==="[object FileConstructor]";function ch(e){return z1&&(e instanceof ArrayBuffer||U1(e))||j1&&e instanceof Blob||V1&&e instanceof File}function Po(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(Po(e[n]))return!0;return!1}if(ch(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Po(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Po(e[n]))return!0;return!1}function K1(e){const t=[],n=e.data,i=e;return i.data=Hc(n,t),i.attachments=t.length,{packet:i,buffers:t}}function Hc(e,t){if(!e)return e;if(ch(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=Hc(e[i],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Hc(e[i],t));return n}return e}function G1(e,t){return e.data=Wc(e.data,t),delete e.attachments,e}function Wc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Wc(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Wc(e[n],t));return e}const Y1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],X1=5;var xe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(xe||(xe={}));class q1{constructor(t){this.replacer=t}encode(t){return(t.type===xe.EVENT||t.type===xe.ACK)&&Po(t)?this.encodeAsBinary({type:t.type===xe.EVENT?xe.BINARY_EVENT:xe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===xe.BINARY_EVENT||t.type===xe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=K1(t),i=this.encodeAsString(n.packet),v=n.buffers;return v.unshift(i),v}}function ff(e){return Object.prototype.toString.call(e)==="[object Object]"}class uh extends qe{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const i=n.type===xe.BINARY_EVENT;i||n.type===xe.BINARY_ACK?(n.type=i?xe.EVENT:xe.ACK,this.reconstructor=new Q1(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ch(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(xe[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===xe.BINARY_EVENT||i.type===xe.BINARY_ACK){const u=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const y=t.substring(u,n);if(y!=Number(y)||t.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(y)}if(t.charAt(n+1)==="/"){const u=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););i.nsp=t.substring(u,n)}else i.nsp="/";const v=t.charAt(n+1);if(v!==""&&Number(v)==v){const u=n+1;for(;++n;){const y=t.charAt(n);if(y==null||Number(y)!=y){--n;break}if(n===t.length)break}i.id=Number(t.substring(u,n+1))}if(t.charAt(++n)){const u=this.tryParse(t.substr(n));if(uh.isPayloadValid(i.type,u))i.data=u;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case xe.CONNECT:return ff(n);case xe.DISCONNECT:return n===void 0;case xe.CONNECT_ERROR:return typeof n=="string"||ff(n);case xe.EVENT:case xe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Y1.indexOf(n[0])===-1);case xe.ACK:case xe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Q1{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=G1(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const J1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:uh,Encoder:q1,get PacketType(){return xe},protocol:X1},Symbol.toStringTag,{value:"Module"}));function on(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Z1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vv extends qe{constructor(t,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[on(t,"open",this.onopen.bind(this)),on(t,"packet",this.onpacket.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Z1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:xe.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const y=this.ids++,c=n.pop();this._registerAckCallback(y,c),i.id=y}const v=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!v||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var i;const v=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(v===void 0){this.acks[t]=n;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},v),y=(...c)=>{this.io.clearTimeoutFn(u),n.apply(this,c)};y.withError=!0,this.acks[t]=y}emitWithAck(t,...n){return new Promise((i,v)=>{const u=(y,c)=>y?v(y):i(c);u.withError=!0,n.push(u),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((v,...u)=>i!==this._queue[0]?void 0:(v!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(v)):(this._queue.shift(),n&&n(null,...u)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:xe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case xe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xe.EVENT:case xe.BINARY_EVENT:this.onevent(t);break;case xe.ACK:case xe.BINARY_ACK:this.onack(t);break;case xe.DISCONNECT:this.ondisconnect();break;case xe.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let i=!1;return function(...v){i||(i=!0,n.packet({type:xe.ACK,id:t,data:v}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,t.data)}}}function Er(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Er.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Er.prototype.reset=function(){this.attempts=0};Er.prototype.setMin=function(e){this.ms=e};Er.prototype.setMax=function(e){this.max=e};Er.prototype.setJitter=function(e){this.jitter=e};class zc extends qe{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,za(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Er({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const v=n.parser||J1;this.encoder=new v.Encoder,this.decoder=new v.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new gv(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const v=on(n,"open",function(){i.onopen(),t&&t()}),u=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},y=on(n,"error",u);if(this._timeout!==!1){const c=this._timeout,s=this.setTimeoutFn(()=>{v(),u(new Error("timeout")),n.close()},c);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}return this.subs.push(v),this.subs.push(y),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(on(t,"ping",this.onping.bind(this)),on(t,"data",this.ondata.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){lh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new vv(this,t,n),this.nsps[t]=i),i}_destroy(t){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++)this.engine.write(n[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(v=>{v?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",v)):t.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ur={};function Bo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=W1(e,t.path||"/socket.io"),i=n.source,v=n.id,u=n.path,y=Ur[v]&&u in Ur[v].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||y;let s;return c?s=new zc(i,t):(Ur[v]||(Ur[v]=new zc(i,t)),s=Ur[v]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(Bo,{Manager:zc,Socket:vv,io:Bo,connect:Bo});const os=Bo("https://backend-vqpq.onrender.com"),eb=()=>{const e=pe.useRef(),t=pe.useRef(!1);return pe.useEffect(()=>{if(t.current)return;t.current=!0;const n=new u1.Terminal({rows:20});n.open(e.current),n.onData(v=>{console.log(v),os.emit("terminal:write",v)});function i(v){console.log(v),n.write(v)}os.on("terminal:data",i)},[]),te.jsx("div",{ref:e,id:"terminal",className:"bg-white rounded p-2 text-sm font-mono w-full"})};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=["user","model","function","system"];var gf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(gf||(gf={}));var mf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(mf||(mf={}));var vf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(vf||(vf={}));var yf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(yf||(yf={}));var pa;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(pa||(pa={}));var _f;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(_f||(_f={}));var wf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(wf||(wf={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sf;(function(e){e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(Sf||(Sf={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class zi extends Ct{constructor(t,n){super(t),this.response=n}}class bf extends Ct{constructor(t,n,i,v){super(t),this.status=n,this.statusText=i,this.errorDetails=v}}class No extends Ct{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="https://generativelanguage.googleapis.com",nb="v1beta",ib="0.12.0",rb="genai-js";var Ii;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ii||(Ii={}));class yv{constructor(t,n,i,v,u){this.model=t,this.task=n,this.apiKey=i,this.stream=v,this.requestOptions=u}toString(){var t,n;const i=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||nb;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||tb}/${i}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function sb(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${rb}/${ib}`),t.join(" ")}async function ob(e){const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",sb(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let n=e.requestOptions.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(i){throw new No(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${i.message}`)}for(const[i,v]of n.entries()){if(i==="x-goog-api-key")throw new No(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new No(`Header name ${i} can only be set using the apiClient field`);t.append(i,v)}}return t}async function ab(e,t,n,i,v,u){const y=new yv(e,t,n,i,u);return{url:y.toString(),fetchOptions:Object.assign(Object.assign({},cb(u)),{method:"POST",headers:await ob(y),body:v})}}async function Fs(e,t,n,i,v,u){return lb(e,t,n,i,v,u,fetch)}async function lb(e,t,n,i,v,u,y=fetch){const c=new yv(e,t,n,i,u);let s;try{const d=await ab(e,t,n,i,v,u);if(s=await y(d.url,d.fetchOptions),!s.ok){let o="",r;try{const a=await s.json();o=a.error.message,a.error.details&&(o+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new bf(`Error fetching from ${c.toString()}: [${s.status} ${s.statusText}] ${o}`,s.status,s.statusText,r)}}catch(d){let o=d;throw d instanceof bf||d instanceof No||(o=new Ct(`Error fetching from ${c.toString()}: ${d.message}`),o.stack=d.stack),o}return s}function cb(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,i=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=i}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Fo(e.candidates[0]))throw new zi(`${Kn(e)}`,e);return ub(e)}else if(e.promptFeedback)throw new zi(`Text not available. ${Kn(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fo(e.candidates[0]))throw new zi(`${Kn(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Cf(e)[0]}else if(e.promptFeedback)throw new zi(`Function call not available. ${Kn(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fo(e.candidates[0]))throw new zi(`${Kn(e)}`,e);return Cf(e)}else if(e.promptFeedback)throw new zi(`Function call not available. ${Kn(e)}`,e)},e}function ub(e){var t,n,i,v;const u=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const y of(v=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||v===void 0?void 0:v.parts)y.text&&u.push(y.text);return u.length>0?u.join(""):""}function Cf(e){var t,n,i,v;const u=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const y of(v=(i=e.candidates)===null||i===void 0?void 0:i[0].content)===null||v===void 0?void 0:v.parts)y.functionCall&&u.push(y.functionCall);if(u.length>0)return u}const hb=[pa.RECITATION,pa.SAFETY];function Fo(e){return!!e.finishReason&&hb.includes(e.finishReason)}function Kn(e){var t,n,i;let v="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)v+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(v+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(v+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((i=e.candidates)===null||i===void 0)&&i[0]){const u=e.candidates[0];Fo(u)&&(v+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(v+=`: ${u.finishMessage}`))}return v}function Ts(e){return this instanceof Ts?(this.v=e,this):new Ts(e)}function db(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),v,u=[];return v={},y("next"),y("throw"),y("return"),v[Symbol.asyncIterator]=function(){return this},v;function y(a){i[a]&&(v[a]=function(l){return new Promise(function(h,f){u.push([a,l,h,f])>1||c(a,l)})})}function c(a,l){try{s(i[a](l))}catch(h){r(u[0][3],h)}}function s(a){a.value instanceof Ts?Promise.resolve(a.value.v).then(d,o):r(u[0][2],a)}function d(a){c("next",a)}function o(a){c("throw",a)}function r(a,l){a(l),u.shift(),u.length&&c(u[0][0],u[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function fb(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=mb(t),[i,v]=n.tee();return{stream:gb(i),response:pb(v)}}async function pb(e){const t=[],n=e.getReader();for(;;){const{done:i,value:v}=await n.read();if(i)return hh(vb(t));t.push(v)}}function gb(e){return db(this,arguments,function*(){const n=e.getReader();for(;;){const{value:i,done:v}=yield Ts(n.read());if(v)break;yield yield Ts(hh(i))}})}function mb(e){const t=e.getReader();return new ReadableStream({start(i){let v="";return u();function u(){return t.read().then(({value:y,done:c})=>{if(c){if(v.trim()){i.error(new Ct("Failed to parse stream"));return}i.close();return}v+=y;let s=v.match(xf),d;for(;s;){try{d=JSON.parse(s[1])}catch{i.error(new Ct(`Error parsing JSON response: "${s[1]}"`));return}i.enqueue(d),v=v.substring(s[0].length),s=v.match(xf)}return u()})}}})}function vb(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const i of e)if(i.candidates)for(const v of i.candidates){const u=v.index;if(n.candidates||(n.candidates=[]),n.candidates[u]||(n.candidates[u]={index:v.index}),n.candidates[u].citationMetadata=v.citationMetadata,n.candidates[u].finishReason=v.finishReason,n.candidates[u].finishMessage=v.finishMessage,n.candidates[u].safetyRatings=v.safetyRatings,v.content&&v.content.parts){n.candidates[u].content||(n.candidates[u].content={role:v.content.role||"user",parts:[]});const y={};for(const c of v.content.parts)c.text&&(y.text=c.text),c.functionCall&&(y.functionCall=c.functionCall),Object.keys(y).length===0&&(y.text=""),n.candidates[u].content.parts.push(y)}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v(e,t,n,i){const v=await Fs(t,Ii.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),i);return fb(v)}async function wv(e,t,n,i){const u=await(await Fs(t,Ii.GENERATE_CONTENT,e,!1,JSON.stringify(n),i)).json();return{response:hh(u)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function ga(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return yb(t)}function yb(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let i=!1,v=!1;for(const u of e)"functionResponse"in u?(n.parts.push(u),v=!0):(t.parts.push(u),i=!0);if(i&&v)throw new Ct("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!v)throw new Ct("No content is provided for sending chat message.");return i?t:n}function Rl(e){let t;return e.contents?t=e:t={contents:[ga(e)]},e.systemInstruction&&(t.systemInstruction=Sv(e.systemInstruction)),t}function _b(e){return typeof e=="string"||Array.isArray(e)?{content:ga(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=["text","inlineData","functionCall","functionResponse"],wb={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]};function Sb(e){let t=!1;for(const n of e){const{role:i,parts:v}=n;if(!t&&i!=="user")throw new Ct(`First content should be with role 'user', got ${i}`);if(!pf.includes(i))throw new Ct(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(pf)}`);if(!Array.isArray(v))throw new Ct("Content should have 'parts' property with an array of Parts");if(v.length===0)throw new Ct("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0};for(const c of v)for(const s of kf)s in c&&(u[s]+=1);const y=wb[i];for(const c of kf)if(!y.includes(c)&&u[c]>0)throw new Ct(`Content with role '${i}' can't contain '${c}' part`);t=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="SILENT_ERROR";class bb{constructor(t,n,i,v){this.model=n,this.params=i,this.requestOptions=v,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,i!=null&&i.history&&(Sb(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,i,v,u,y;await this._sendPromise;const c=ga(t),s={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(v=this.params)===null||v===void 0?void 0:v.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,contents:[...this._history,c]};let d;return this._sendPromise=this._sendPromise.then(()=>wv(this._apiKey,this.model,s,this.requestOptions)).then(o=>{var r;if(o.response.candidates&&o.response.candidates.length>0){this._history.push(c);const a=Object.assign({parts:[],role:"model"},(r=o.response.candidates)===null||r===void 0?void 0:r[0].content);this._history.push(a)}else{const a=Kn(o.response);a&&console.warn(`sendMessage() was unsuccessful. ${a}. Inspect response object for details.`)}d=o}),await this._sendPromise,d}async sendMessageStream(t){var n,i,v,u,y;await this._sendPromise;const c=ga(t),s={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(v=this.params)===null||v===void 0?void 0:v.tools,toolConfig:(u=this.params)===null||u===void 0?void 0:u.toolConfig,systemInstruction:(y=this.params)===null||y===void 0?void 0:y.systemInstruction,contents:[...this._history,c]},d=_v(this._apiKey,this.model,s,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>d).catch(o=>{throw new Error(Ef)}).then(o=>o.response).then(o=>{if(o.candidates&&o.candidates.length>0){this._history.push(c);const r=Object.assign({},o.candidates[0].content);r.role||(r.role="model"),this._history.push(r)}else{const r=Kn(o);r&&console.warn(`sendMessageStream() was unsuccessful. ${r}. Inspect response object for details.`)}}).catch(o=>{o.message!==Ef&&console.error(o)}),d}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(e,t,n,i){return(await Fs(t,Ii.COUNT_TOKENS,e,!1,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(e,t,n,i){return(await Fs(t,Ii.EMBED_CONTENT,e,!1,JSON.stringify(n),i)).json()}async function kb(e,t,n,i){const v=n.requests.map(y=>Object.assign(Object.assign({},y),{model:t}));return(await Fs(t,Ii.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:v}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,n,i){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Sv(n.systemInstruction),this.requestOptions=i||{}}async generateContent(t){const n=Rl(t);return wv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}async generateContentStream(t){const n=Rl(t);return _v(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}startChat(t){return new bb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},t),this.requestOptions)}async countTokens(t){const n=Rl(t);return Cb(this.apiKey,this.model,n,this.requestOptions)}async embedContent(t){const n=_b(t);return xb(this.apiKey,this.model,n,this.requestOptions)}async batchEmbedContents(t){return kb(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ct("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Eb(this.apiKey,t,n)}}function Ab(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Lb=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Tb=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rb={};function Af(e,t){return(Rb.jsx?Tb:Lb).test(e)}const Mb=/[ \t\n\f\r]/g;function $b(e){return typeof e=="object"?e.type==="text"?Lf(e.value):!1:Lf(e)}function Lf(e){return e.replace(Mb,"")===""}class Hs{constructor(t,n,i){this.property=t,this.normal=n,i&&(this.space=i)}}Hs.prototype.property={};Hs.prototype.normal={};Hs.prototype.space=null;function bv(e,t){const n={},i={};let v=-1;for(;++v<e.length;)Object.assign(n,e[v].property),Object.assign(i,e[v].normal);return new Hs(n,i,t)}function Uc(e){return e.toLowerCase()}class Jt{constructor(t,n){this.property=t,this.attribute=n}}Jt.prototype.space=null;Jt.prototype.boolean=!1;Jt.prototype.booleanish=!1;Jt.prototype.overloadedBoolean=!1;Jt.prototype.number=!1;Jt.prototype.commaSeparated=!1;Jt.prototype.spaceSeparated=!1;Jt.prototype.commaOrSpaceSeparated=!1;Jt.prototype.mustUseProperty=!1;Jt.prototype.defined=!1;let Ob=0;const _e=Fi(),Ye=Fi(),Cv=Fi(),ie=Fi(),$e=Fi(),hr=Fi(),Mt=Fi();function Fi(){return 2**++Ob}const jc=Object.freeze(Object.defineProperty({__proto__:null,boolean:_e,booleanish:Ye,commaOrSpaceSeparated:Mt,commaSeparated:hr,number:ie,overloadedBoolean:Cv,spaceSeparated:$e},Symbol.toStringTag,{value:"Module"})),Ml=Object.keys(jc);class dh extends Jt{constructor(t,n,i,v){let u=-1;if(super(t,n),Tf(this,"space",v),typeof i=="number")for(;++u<Ml.length;){const y=Ml[u];Tf(this,Ml[u],(i&jc[y])===jc[y])}}}dh.prototype.defined=!0;function Tf(e,t,n){n&&(e[t]=n)}const Ib={}.hasOwnProperty;function Ar(e){const t={},n={};let i;for(i in e.properties)if(Ib.call(e.properties,i)){const v=e.properties[i],u=new dh(i,e.transform(e.attributes||{},i),v,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(u.mustUseProperty=!0),t[i]=u,n[Uc(i)]=i,n[Uc(u.attribute)]=i}return new Hs(t,n,e.space)}const xv=Ar({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),kv=Ar({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Ev(e,t){return t in e?e[t]:t}function Av(e,t){return Ev(e,t.toLowerCase())}const Lv=Ar({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Av,properties:{xmlns:null,xmlnsXLink:null}}),Tv=Ar({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ye,ariaAutoComplete:null,ariaBusy:Ye,ariaChecked:Ye,ariaColCount:ie,ariaColIndex:ie,ariaColSpan:ie,ariaControls:$e,ariaCurrent:null,ariaDescribedBy:$e,ariaDetails:null,ariaDisabled:Ye,ariaDropEffect:$e,ariaErrorMessage:null,ariaExpanded:Ye,ariaFlowTo:$e,ariaGrabbed:Ye,ariaHasPopup:null,ariaHidden:Ye,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$e,ariaLevel:ie,ariaLive:null,ariaModal:Ye,ariaMultiLine:Ye,ariaMultiSelectable:Ye,ariaOrientation:null,ariaOwns:$e,ariaPlaceholder:null,ariaPosInSet:ie,ariaPressed:Ye,ariaReadOnly:Ye,ariaRelevant:null,ariaRequired:Ye,ariaRoleDescription:$e,ariaRowCount:ie,ariaRowIndex:ie,ariaRowSpan:ie,ariaSelected:Ye,ariaSetSize:ie,ariaSort:null,ariaValueMax:ie,ariaValueMin:ie,ariaValueNow:ie,ariaValueText:null,role:null}}),Db=Ar({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Av,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hr,acceptCharset:$e,accessKey:$e,action:null,allow:null,allowFullScreen:_e,allowPaymentRequest:_e,allowUserMedia:_e,alt:null,as:null,async:_e,autoCapitalize:null,autoComplete:$e,autoFocus:_e,autoPlay:_e,blocking:$e,capture:null,charSet:null,checked:_e,cite:null,className:$e,cols:ie,colSpan:null,content:null,contentEditable:Ye,controls:_e,controlsList:$e,coords:ie|hr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_e,defer:_e,dir:null,dirName:null,disabled:_e,download:Cv,draggable:Ye,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_e,formTarget:null,headers:$e,height:ie,hidden:_e,high:ie,href:null,hrefLang:null,htmlFor:$e,httpEquiv:$e,id:null,imageSizes:null,imageSrcSet:null,inert:_e,inputMode:null,integrity:null,is:null,isMap:_e,itemId:null,itemProp:$e,itemRef:$e,itemScope:_e,itemType:$e,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_e,low:ie,manifest:null,max:null,maxLength:ie,media:null,method:null,min:null,minLength:ie,multiple:_e,muted:_e,name:null,nonce:null,noModule:_e,noValidate:_e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_e,optimum:ie,pattern:null,ping:$e,placeholder:null,playsInline:_e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_e,referrerPolicy:null,rel:$e,required:_e,reversed:_e,rows:ie,rowSpan:ie,sandbox:$e,scope:null,scoped:_e,seamless:_e,selected:_e,shadowRootClonable:_e,shadowRootDelegatesFocus:_e,shadowRootMode:null,shape:null,size:ie,sizes:null,slot:null,span:ie,spellCheck:Ye,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ie,step:null,style:null,tabIndex:ie,target:null,title:null,translate:null,type:null,typeMustMatch:_e,useMap:null,value:Ye,width:ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$e,axis:null,background:null,bgColor:null,border:ie,borderColor:null,bottomMargin:ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_e,declare:_e,event:null,face:null,frame:null,frameBorder:null,hSpace:ie,leftMargin:ie,link:null,longDesc:null,lowSrc:null,marginHeight:ie,marginWidth:ie,noResize:_e,noHref:_e,noShade:_e,noWrap:_e,object:null,profile:null,prompt:null,rev:null,rightMargin:ie,rules:null,scheme:null,scrolling:Ye,standby:null,summary:null,text:null,topMargin:ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_e,disableRemotePlayback:_e,prefix:null,property:null,results:ie,security:null,unselectable:null}}),Pb=Ar({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Ev,properties:{about:Mt,accentHeight:ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ie,amplitude:ie,arabicForm:null,ascent:ie,attributeName:null,attributeType:null,azimuth:ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ie,by:null,calcMode:null,capHeight:ie,className:$e,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ie,diffuseConstant:ie,direction:null,display:null,dur:null,divisor:ie,dominantBaseline:null,download:_e,dx:null,dy:null,edgeMode:null,editable:null,elevation:ie,enableBackground:null,end:null,event:null,exponent:ie,externalResourcesRequired:null,fill:null,fillOpacity:ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hr,g2:hr,glyphName:hr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ie,horizOriginX:ie,horizOriginY:ie,id:null,ideographic:ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ie,k:ie,k1:ie,k2:ie,k3:ie,k4:ie,kernelMatrix:Mt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ie,overlineThickness:ie,paintOrder:null,panose1:null,path:null,pathLength:ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$e,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ie,pointsAtY:ie,pointsAtZ:ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Mt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Mt,rev:Mt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Mt,requiredFeatures:Mt,requiredFonts:Mt,requiredFormats:Mt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ie,specularExponent:ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ie,strikethroughThickness:ie,string:null,stroke:null,strokeDashArray:Mt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ie,strokeOpacity:ie,strokeWidth:null,style:null,surfaceScale:ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Mt,tabIndex:ie,tableValues:null,target:null,targetX:ie,targetY:ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Mt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ie,underlineThickness:ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ie,values:null,vAlphabetic:ie,vMathematical:ie,vectorEffect:null,vHanging:ie,vIdeographic:ie,version:null,vertAdvY:ie,vertOriginX:ie,vertOriginY:ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Bb=/^data[-\w.:]+$/i,Rf=/-[a-z]/g,Nb=/[A-Z]/g;function Fb(e,t){const n=Uc(t);let i=t,v=Jt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Bb.test(t)){if(t.charAt(4)==="-"){const u=t.slice(5).replace(Rf,Wb);i="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=t.slice(4);if(!Rf.test(u)){let y=u.replace(Nb,Hb);y.charAt(0)!=="-"&&(y="-"+y),t="data"+y}}v=dh}return new v(i,t)}function Hb(e){return"-"+e.toLowerCase()}function Wb(e){return e.charAt(1).toUpperCase()}const zb={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ub=bv([kv,xv,Lv,Tv,Db],"html"),fh=bv([kv,xv,Lv,Tv,Pb],"svg");function jb(e){return e.join(" ").trim()}var Rv={},Mf=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Vb=/\n/g,Kb=/^\s*/,Gb=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Yb=/^:\s*/,Xb=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,qb=/^[;\s]*/,Qb=/^\s+|\s+$/g,Jb=`
`,$f="/",Of="*",Si="",Zb="comment",eC="declaration",tC=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,i=1;function v(h){var f=h.match(Vb);f&&(n+=f.length);var p=h.lastIndexOf(Jb);i=~p?h.length-p:i+h.length}function u(){var h={line:n,column:i};return function(f){return f.position=new y(h),d(),f}}function y(h){this.start=h,this.end={line:n,column:i},this.source=t.source}y.prototype.content=e;function c(h){var f=new Error(t.source+":"+n+":"+i+": "+h);if(f.reason=h,f.filename=t.source,f.line=n,f.column=i,f.source=e,!t.silent)throw f}function s(h){var f=h.exec(e);if(f){var p=f[0];return v(p),e=e.slice(p.length),f}}function d(){s(Kb)}function o(h){var f;for(h=h||[];f=r();)f!==!1&&h.push(f);return h}function r(){var h=u();if(!($f!=e.charAt(0)||Of!=e.charAt(1))){for(var f=2;Si!=e.charAt(f)&&(Of!=e.charAt(f)||$f!=e.charAt(f+1));)++f;if(f+=2,Si===e.charAt(f-1))return c("End of comment missing");var p=e.slice(2,f-2);return i+=2,v(p),e=e.slice(f),i+=2,h({type:Zb,comment:p})}}function a(){var h=u(),f=s(Gb);if(f){if(r(),!s(Yb))return c("property missing ':'");var p=s(Xb),m=h({type:eC,property:If(f[0].replace(Mf,Si)),value:p?If(p[0].replace(Mf,Si)):Si});return s(qb),m}}function l(){var h=[];o(h);for(var f;f=a();)f!==!1&&(h.push(f),o(h));return h}return d(),l()};function If(e){return e?e.replace(Qb,Si):Si}var nC=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rv,"__esModule",{value:!0});var iC=nC(tC);function rC(e,t){var n=null;if(!e||typeof e!="string")return n;var i=(0,iC.default)(e),v=typeof t=="function";return i.forEach(function(u){if(u.type==="declaration"){var y=u.property,c=u.value;v?t(y,c,u):c&&(n=n||{},n[y]=c)}}),n}var Df=Rv.default=rC;const sC=Df.default||Df,Mv=$v("end"),ph=$v("start");function $v(e){return t;function t(n){const i=n&&n.position&&n.position[e]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function oC(e){const t=ph(e),n=Mv(e);if(t&&n)return{start:t,end:n}}function as(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Pf(e.position):"start"in e||"end"in e?Pf(e):"line"in e||"column"in e?Vc(e):""}function Vc(e){return Bf(e&&e.line)+":"+Bf(e&&e.column)}function Pf(e){return Vc(e&&e.start)+"-"+Vc(e&&e.end)}function Bf(e){return e&&typeof e=="number"?e:1}class pt extends Error{constructor(t,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let v="",u={},y=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof t=="string"?v=t:!u.cause&&t&&(y=!0,v=t.message,u.cause=t),!u.ruleId&&!u.source&&typeof i=="string"){const s=i.indexOf(":");s===-1?u.ruleId=i:(u.source=i.slice(0,s),u.ruleId=i.slice(s+1))}if(!u.place&&u.ancestors&&u.ancestors){const s=u.ancestors[u.ancestors.length-1];s&&(u.place=s.position)}const c=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=v,this.line=c?c.line:void 0,this.name=as(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=y&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual,this.expected,this.note,this.url}}pt.prototype.file="";pt.prototype.name="";pt.prototype.reason="";pt.prototype.message="";pt.prototype.stack="";pt.prototype.column=void 0;pt.prototype.line=void 0;pt.prototype.ancestors=void 0;pt.prototype.cause=void 0;pt.prototype.fatal=void 0;pt.prototype.place=void 0;pt.prototype.ruleId=void 0;pt.prototype.source=void 0;const gh={}.hasOwnProperty,aC=new Map,lC=/[A-Z]/g,cC=/-([a-z])/g,uC=new Set(["table","tbody","thead","tfoot","tr"]),hC=new Set(["td","th"]),Ov="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dC(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=wC(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=_C(n,t.jsx,t.jsxs)}const v={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?fh:Ub,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},u=Iv(v,e,void 0);return u&&typeof u!="string"?u:v.create(e,v.Fragment,{children:u||void 0},void 0)}function Iv(e,t,n){if(t.type==="element")return fC(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return pC(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return mC(e,t,n);if(t.type==="mdxjsEsm")return gC(e,t);if(t.type==="root")return vC(e,t,n);if(t.type==="text")return yC(e,t)}function fC(e,t,n){const i=e.schema;let v=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(v=fh,e.schema=v),e.ancestors.push(t);const u=Pv(e,t.tagName,!1),y=SC(e,t);let c=vh(e,t);return uC.has(t.tagName)&&(c=c.filter(function(s){return typeof s=="string"?!$b(s):!0})),Dv(e,y,u,t),mh(y,c),e.ancestors.pop(),e.schema=i,e.create(t,u,y,n)}function pC(e,t){if(t.data&&t.data.estree&&e.evaluater){const i=t.data.estree.body[0];return i.type,e.evaluater.evaluateExpression(i.expression)}Rs(e,t.position)}function gC(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Rs(e,t.position)}function mC(e,t,n){const i=e.schema;let v=i;t.name==="svg"&&i.space==="html"&&(v=fh,e.schema=v),e.ancestors.push(t);const u=t.name===null?e.Fragment:Pv(e,t.name,!0),y=bC(e,t),c=vh(e,t);return Dv(e,y,u,t),mh(y,c),e.ancestors.pop(),e.schema=i,e.create(t,u,y,n)}function vC(e,t,n){const i={};return mh(i,vh(e,t)),e.create(t,e.Fragment,i,n)}function yC(e,t){return t.value}function Dv(e,t,n,i){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=i)}function mh(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function _C(e,t,n){return i;function i(v,u,y,c){const d=Array.isArray(y.children)?n:t;return c?d(u,y,c):d(u,y)}}function wC(e,t){return n;function n(i,v,u,y){const c=Array.isArray(u.children),s=ph(i);return t(v,u,y,c,{columnNumber:s?s.column-1:void 0,fileName:e,lineNumber:s?s.line:void 0},void 0)}}function SC(e,t){const n={};let i,v;for(v in t.properties)if(v!=="children"&&gh.call(t.properties,v)){const u=CC(e,v,t.properties[v]);if(u){const[y,c]=u;e.tableCellAlignToStyle&&y==="align"&&typeof c=="string"&&hC.has(t.tagName)?i=c:n[y]=c}}if(i){const u=n.style||(n.style={});u[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function bC(e,t){const n={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&e.evaluater){const u=i.data.estree.body[0];u.type;const y=u.expression;y.type;const c=y.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Rs(e,t.position);else{const v=i.name;let u;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&e.evaluater){const c=i.value.data.estree.body[0];c.type,u=e.evaluater.evaluateExpression(c.expression)}else Rs(e,t.position);else u=i.value===null?!0:i.value;n[v]=u}return n}function vh(e,t){const n=[];let i=-1;const v=e.passKeys?new Map:aC;for(;++i<t.children.length;){const u=t.children[i];let y;if(e.passKeys){const s=u.type==="element"?u.tagName:u.type==="mdxJsxFlowElement"||u.type==="mdxJsxTextElement"?u.name:void 0;if(s){const d=v.get(s)||0;y=s+"-"+d,v.set(s,d+1)}}const c=Iv(e,u,y);c!==void 0&&n.push(c)}return n}function CC(e,t,n){const i=Fb(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Ab(n):jb(n)),i.property==="style"){let v=typeof n=="object"?n:xC(e,String(n));return e.stylePropertyNameCase==="css"&&(v=kC(v)),["style",v]}return[e.elementAttributeNameCase==="react"&&i.space?zb[i.property]||i.property:i.attribute,n]}}function xC(e,t){const n={};try{sC(t,i)}catch(v){if(!e.ignoreInvalidStyle){const u=v,y=new pt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:u,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw y.file=e.filePath||void 0,y.url=Ov+"#cannot-parse-style-attribute",y}}return n;function i(v,u){let y=v;y.slice(0,2)!=="--"&&(y.slice(0,4)==="-ms-"&&(y="ms-"+y.slice(4)),y=y.replace(cC,AC)),n[y]=u}}function Pv(e,t,n){let i;if(!n)i={type:"Literal",value:t};else if(t.includes(".")){const v=t.split(".");let u=-1,y;for(;++u<v.length;){const c=Af(v[u])?{type:"Identifier",name:v[u]}:{type:"Literal",value:v[u]};y=y?{type:"MemberExpression",object:y,property:c,computed:!!(u&&c.type==="Literal"),optional:!1}:c}i=y}else i=Af(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const v=i.value;return gh.call(e.components,v)?e.components[v]:v}if(e.evaluater)return e.evaluater.evaluateExpression(i);Rs(e)}function Rs(e,t){const n=new pt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ov+"#cannot-handle-mdx-estrees-without-createevaluater",n}function kC(e){const t={};let n;for(n in e)gh.call(e,n)&&(t[EC(n)]=e[n]);return t}function EC(e){let t=e.replace(lC,LC);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function AC(e,t){return t.toUpperCase()}function LC(e){return"-"+e.toLowerCase()}const $l={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TC={};function RC(e,t){const n=TC,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,v=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Bv(e,i,v)}function Bv(e,t,n){if(MC(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Nf(e.children,t,n)}return Array.isArray(e)?Nf(e,t,n):""}function Nf(e,t,n){const i=[];let v=-1;for(;++v<e.length;)i[v]=Bv(e[v],t,n);return i.join("")}function MC(e){return!!(e&&typeof e=="object")}const Ff=document.createElement("i");function yh(e){const t="&"+e+";";Ff.innerHTML=t;const n=Ff.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Bn(e,t,n,i){const v=e.length;let u=0,y;if(t<0?t=-t>v?0:v+t:t=t>v?v:t,n=n>0?n:0,i.length<1e4)y=Array.from(i),y.unshift(t,n),e.splice(...y);else for(n&&e.splice(t,n);u<i.length;)y=i.slice(u,u+1e4),y.unshift(t,0),e.splice(...y),u+=1e4,t+=1e4}function Gt(e,t){return e.length>0?(Bn(e,e.length,0,t),e):t}const Hf={}.hasOwnProperty;function $C(e){const t={};let n=-1;for(;++n<e.length;)OC(t,e[n]);return t}function OC(e,t){let n;for(n in t){const v=(Hf.call(e,n)?e[n]:void 0)||(e[n]={}),u=t[n];let y;if(u)for(y in u){Hf.call(v,y)||(v[y]=[]);const c=u[y];IC(v[y],Array.isArray(c)?c:c?[c]:[])}}}function IC(e,t){let n=-1;const i=[];for(;++n<t.length;)(t[n].add==="after"?e:i).push(t[n]);Bn(e,0,0,i)}function Nv(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function dr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const _n=hi(/[A-Za-z]/),It=hi(/[\dA-Za-z]/),DC=hi(/[#-'*+\--9=?A-Z^-~]/);function Kc(e){return e!==null&&(e<32||e===127)}const Gc=hi(/\d/),PC=hi(/[\dA-Fa-f]/),BC=hi(/[!-/:-@[-`{-~]/);function ge(e){return e!==null&&e<-2}function Lt(e){return e!==null&&(e<0||e===32)}function Te(e){return e===-2||e===-1||e===32}const NC=hi(new RegExp("\\p{P}|\\p{S}","u")),FC=hi(/\s/);function hi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Lr(e){const t=[];let n=-1,i=0,v=0;for(;++n<e.length;){const u=e.charCodeAt(n);let y="";if(u===37&&It(e.charCodeAt(n+1))&&It(e.charCodeAt(n+2)))v=2;else if(u<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(u))||(y=String.fromCharCode(u));else if(u>55295&&u<57344){const c=e.charCodeAt(n+1);u<56320&&c>56319&&c<57344?(y=String.fromCharCode(u,c),v=1):y="�"}else y=String.fromCharCode(u);y&&(t.push(e.slice(i,n),encodeURIComponent(y)),i=n+v+1,y=""),v&&(n+=v,v=0)}return t.join("")+e.slice(i)}function Ie(e,t,n,i){const v=i?i-1:Number.POSITIVE_INFINITY;let u=0;return y;function y(s){return Te(s)?(e.enter(n),c(s)):t(s)}function c(s){return Te(s)&&u++<v?(e.consume(s),c):(e.exit(n),t(s))}}const HC={tokenize:WC};function WC(e){const t=e.attempt(this.parser.constructs.contentInitial,i,v);let n;return t;function i(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Ie(e,t,"linePrefix")}function v(c){return e.enter("paragraph"),u(c)}function u(c){const s=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=s),n=s,y(c)}function y(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return ge(c)?(e.consume(c),e.exit("chunkText"),u):(e.consume(c),y)}}const zC={tokenize:UC},Wf={tokenize:jC};function UC(e){const t=this,n=[];let i=0,v,u,y;return c;function c(w){if(i<n.length){const S=n[i];return t.containerState=S[1],e.attempt(S[0].continuation,s,d)(w)}return d(w)}function s(w){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,v&&g();const S=t.events.length;let b=S,_;for(;b--;)if(t.events[b][0]==="exit"&&t.events[b][1].type==="chunkFlow"){_=t.events[b][1].end;break}m(i);let x=S;for(;x<t.events.length;)t.events[x][1].end=Object.assign({},_),x++;return Bn(t.events,b+1,0,t.events.slice(S)),t.events.length=x,d(w)}return c(w)}function d(w){if(i===n.length){if(!v)return a(w);if(v.currentConstruct&&v.currentConstruct.concrete)return h(w);t.interrupt=!!(v.currentConstruct&&!v._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Wf,o,r)(w)}function o(w){return v&&g(),m(i),a(w)}function r(w){return t.parser.lazy[t.now().line]=i!==n.length,y=t.now().offset,h(w)}function a(w){return t.containerState={},e.attempt(Wf,l,h)(w)}function l(w){return i++,n.push([t.currentConstruct,t.containerState]),a(w)}function h(w){if(w===null){v&&g(),m(0),e.consume(w);return}return v=v||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:u,_tokenizer:v}),f(w)}function f(w){if(w===null){p(e.exit("chunkFlow"),!0),m(0),e.consume(w);return}return ge(w)?(e.consume(w),p(e.exit("chunkFlow")),i=0,t.interrupt=void 0,c):(e.consume(w),f)}function p(w,S){const b=t.sliceStream(w);if(S&&b.push(null),w.previous=u,u&&(u.next=w),u=w,v.defineSkip(w.start),v.write(b),t.parser.lazy[w.start.line]){let _=v.events.length;for(;_--;)if(v.events[_][1].start.offset<y&&(!v.events[_][1].end||v.events[_][1].end.offset>y))return;const x=t.events.length;let C=x,k,M;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(k){M=t.events[C][1].end;break}k=!0}for(m(i),_=x;_<t.events.length;)t.events[_][1].end=Object.assign({},M),_++;Bn(t.events,C+1,0,t.events.slice(x)),t.events.length=_}}function m(w){let S=n.length;for(;S-- >w;){const b=n[S];t.containerState=b[1],b[0].exit.call(t,e)}n.length=w}function g(){v.write([null]),u=void 0,v=void 0,t.containerState._closeFlow=void 0}}function jC(e,t,n){return Ie(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zf(e){if(e===null||Lt(e)||FC(e))return 1;if(NC(e))return 2}function _h(e,t,n){const i=[];let v=-1;for(;++v<e.length;){const u=e[v].resolveAll;u&&!i.includes(u)&&(t=u(t,n),i.push(u))}return t}const Yc={name:"attention",tokenize:KC,resolveAll:VC};function VC(e,t){let n=-1,i,v,u,y,c,s,d,o;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(i=n;i--;)if(e[i][0]==="exit"&&e[i][1].type==="attentionSequence"&&e[i][1]._open&&t.sliceSerialize(e[i][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[i][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[i][1].end.offset-e[i][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;s=e[i][1].end.offset-e[i][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const r=Object.assign({},e[i][1].end),a=Object.assign({},e[n][1].start);Uf(r,-s),Uf(a,s),y={type:s>1?"strongSequence":"emphasisSequence",start:r,end:Object.assign({},e[i][1].end)},c={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:a},u={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},v={type:s>1?"strong":"emphasis",start:Object.assign({},y.start),end:Object.assign({},c.end)},e[i][1].end=Object.assign({},y.start),e[n][1].start=Object.assign({},c.end),d=[],e[i][1].end.offset-e[i][1].start.offset&&(d=Gt(d,[["enter",e[i][1],t],["exit",e[i][1],t]])),d=Gt(d,[["enter",v,t],["enter",y,t],["exit",y,t],["enter",u,t]]),d=Gt(d,_h(t.parser.constructs.insideSpan.null,e.slice(i+1,n),t)),d=Gt(d,[["exit",u,t],["enter",c,t],["exit",c,t],["exit",v,t]]),e[n][1].end.offset-e[n][1].start.offset?(o=2,d=Gt(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):o=0,Bn(e,i-1,n-i+3,d),n=i+d.length-o-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function KC(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,v=zf(i);let u;return y;function y(s){return u=s,e.enter("attentionSequence"),c(s)}function c(s){if(s===u)return e.consume(s),c;const d=e.exit("attentionSequence"),o=zf(s),r=!o||o===2&&v||n.includes(s),a=!v||v===2&&o||n.includes(i);return d._open=!!(u===42?r:r&&(v||!a)),d._close=!!(u===42?a:a&&(o||!r)),t(s)}}function Uf(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const GC={name:"autolink",tokenize:YC};function YC(e,t,n){let i=0;return v;function v(l){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(l),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),u}function u(l){return _n(l)?(e.consume(l),y):l===64?n(l):d(l)}function y(l){return l===43||l===45||l===46||It(l)?(i=1,c(l)):d(l)}function c(l){return l===58?(e.consume(l),i=0,s):(l===43||l===45||l===46||It(l))&&i++<32?(e.consume(l),c):(i=0,d(l))}function s(l){return l===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(l),e.exit("autolinkMarker"),e.exit("autolink"),t):l===null||l===32||l===60||Kc(l)?n(l):(e.consume(l),s)}function d(l){return l===64?(e.consume(l),o):DC(l)?(e.consume(l),d):n(l)}function o(l){return It(l)?r(l):n(l)}function r(l){return l===46?(e.consume(l),i=0,o):l===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(l),e.exit("autolinkMarker"),e.exit("autolink"),t):a(l)}function a(l){if((l===45||It(l))&&i++<63){const h=l===45?a:r;return e.consume(l),h}return n(l)}}const Ua={tokenize:XC,partial:!0};function XC(e,t,n){return i;function i(u){return Te(u)?Ie(e,v,"linePrefix")(u):v(u)}function v(u){return u===null||ge(u)?t(u):n(u)}}const Fv={name:"blockQuote",tokenize:qC,continuation:{tokenize:QC},exit:JC};function qC(e,t,n){const i=this;return v;function v(y){if(y===62){const c=i.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(y),e.exit("blockQuoteMarker"),u}return n(y)}function u(y){return Te(y)?(e.enter("blockQuotePrefixWhitespace"),e.consume(y),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(y))}}function QC(e,t,n){const i=this;return v;function v(y){return Te(y)?Ie(e,u,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):u(y)}function u(y){return e.attempt(Fv,t,n)(y)}}function JC(e){e.exit("blockQuote")}const Hv={name:"characterEscape",tokenize:ZC};function ZC(e,t,n){return i;function i(u){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(u),e.exit("escapeMarker"),v}function v(u){return BC(u)?(e.enter("characterEscapeValue"),e.consume(u),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(u)}}const Wv={name:"characterReference",tokenize:ex};function ex(e,t,n){const i=this;let v=0,u,y;return c;function c(r){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(r),e.exit("characterReferenceMarker"),s}function s(r){return r===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(r),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),u=31,y=It,o(r))}function d(r){return r===88||r===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(r),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),u=6,y=PC,o):(e.enter("characterReferenceValue"),u=7,y=Gc,o(r))}function o(r){if(r===59&&v){const a=e.exit("characterReferenceValue");return y===It&&!yh(i.sliceSerialize(a))?n(r):(e.enter("characterReferenceMarker"),e.consume(r),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return y(r)&&v++<u?(e.consume(r),o):n(r)}}const jf={tokenize:nx,partial:!0},Vf={name:"codeFenced",tokenize:tx,concrete:!0};function tx(e,t,n){const i=this,v={tokenize:b,partial:!0};let u=0,y=0,c;return s;function s(_){return d(_)}function d(_){const x=i.events[i.events.length-1];return u=x&&x[1].type==="linePrefix"?x[2].sliceSerialize(x[1],!0).length:0,c=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),o(_)}function o(_){return _===c?(y++,e.consume(_),o):y<3?n(_):(e.exit("codeFencedFenceSequence"),Te(_)?Ie(e,r,"whitespace")(_):r(_))}function r(_){return _===null||ge(_)?(e.exit("codeFencedFence"),i.interrupt?t(_):e.check(jf,f,S)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),a(_))}function a(_){return _===null||ge(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),r(_)):Te(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ie(e,l,"whitespace")(_)):_===96&&_===c?n(_):(e.consume(_),a)}function l(_){return _===null||ge(_)?r(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||ge(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),r(_)):_===96&&_===c?n(_):(e.consume(_),h)}function f(_){return e.attempt(v,S,p)(_)}function p(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),m}function m(_){return u>0&&Te(_)?Ie(e,g,"linePrefix",u+1)(_):g(_)}function g(_){return _===null||ge(_)?e.check(jf,f,S)(_):(e.enter("codeFlowValue"),w(_))}function w(_){return _===null||ge(_)?(e.exit("codeFlowValue"),g(_)):(e.consume(_),w)}function S(_){return e.exit("codeFenced"),t(_)}function b(_,x,C){let k=0;return M;function M(R){return _.enter("lineEnding"),_.consume(R),_.exit("lineEnding"),T}function T(R){return _.enter("codeFencedFence"),Te(R)?Ie(_,L,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):L(R)}function L(R){return R===c?(_.enter("codeFencedFenceSequence"),E(R)):C(R)}function E(R){return R===c?(k++,_.consume(R),E):k>=y?(_.exit("codeFencedFenceSequence"),Te(R)?Ie(_,A,"whitespace")(R):A(R)):C(R)}function A(R){return R===null||ge(R)?(_.exit("codeFencedFence"),x(R)):C(R)}}}function nx(e,t,n){const i=this;return v;function v(y){return y===null?n(y):(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),u)}function u(y){return i.parser.lazy[i.now().line]?n(y):t(y)}}const Ol={name:"codeIndented",tokenize:rx},ix={tokenize:sx,partial:!0};function rx(e,t,n){const i=this;return v;function v(d){return e.enter("codeIndented"),Ie(e,u,"linePrefix",5)(d)}function u(d){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?y(d):n(d)}function y(d){return d===null?s(d):ge(d)?e.attempt(ix,y,s)(d):(e.enter("codeFlowValue"),c(d))}function c(d){return d===null||ge(d)?(e.exit("codeFlowValue"),y(d)):(e.consume(d),c)}function s(d){return e.exit("codeIndented"),t(d)}}function sx(e,t,n){const i=this;return v;function v(y){return i.parser.lazy[i.now().line]?n(y):ge(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),v):Ie(e,u,"linePrefix",5)(y)}function u(y){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(y):ge(y)?v(y):n(y)}}const ox={name:"codeText",tokenize:cx,resolve:ax,previous:lx};function ax(e){let t=e.length-4,n=3,i,v;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(i=n;++i<t;)if(e[i][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(i=n-1,t++;++i<=t;)v===void 0?i!==t&&e[i][1].type!=="lineEnding"&&(v=i):(i===t||e[i][1].type==="lineEnding")&&(e[v][1].type="codeTextData",i!==v+2&&(e[v][1].end=e[i-1][1].end,e.splice(v+2,i-v-2),t-=i-v-2,i=v+2),v=void 0);return e}function lx(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function cx(e,t,n){let i=0,v,u;return y;function y(r){return e.enter("codeText"),e.enter("codeTextSequence"),c(r)}function c(r){return r===96?(e.consume(r),i++,c):(e.exit("codeTextSequence"),s(r))}function s(r){return r===null?n(r):r===32?(e.enter("space"),e.consume(r),e.exit("space"),s):r===96?(u=e.enter("codeTextSequence"),v=0,o(r)):ge(r)?(e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),s):(e.enter("codeTextData"),d(r))}function d(r){return r===null||r===32||r===96||ge(r)?(e.exit("codeTextData"),s(r)):(e.consume(r),d)}function o(r){return r===96?(e.consume(r),v++,o):v===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(r)):(u.type="codeTextData",d(r))}}class ux{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,n,i){const v=n||0;this.setCursor(Math.trunc(t));const u=this.right.splice(this.right.length-v,Number.POSITIVE_INFINITY);return i&&jr(this.left,i),u.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),jr(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),jr(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);jr(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);jr(this.left,n.reverse())}}}function jr(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function zv(e){const t={};let n=-1,i,v,u,y,c,s,d;const o=new ux(e);for(;++n<o.length;){for(;n in t;)n=t[n];if(i=o.get(n),n&&i[1].type==="chunkFlow"&&o.get(n-1)[1].type==="listItemPrefix"&&(s=i[1]._tokenizer.events,u=0,u<s.length&&s[u][1].type==="lineEndingBlank"&&(u+=2),u<s.length&&s[u][1].type==="content"))for(;++u<s.length&&s[u][1].type!=="content";)s[u][1].type==="chunkText"&&(s[u][1]._isInFirstContentOfListItem=!0,u++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,hx(o,n)),n=t[n],d=!0);else if(i[1]._container){for(u=n,v=void 0;u--&&(y=o.get(u),y[1].type==="lineEnding"||y[1].type==="lineEndingBlank");)y[0]==="enter"&&(v&&(o.get(v)[1].type="lineEndingBlank"),y[1].type="lineEnding",v=u);v&&(i[1].end=Object.assign({},o.get(v)[1].start),c=o.slice(v,n),c.unshift(i),o.splice(v,n-v+1,c))}}return Bn(e,0,Number.POSITIVE_INFINITY,o.slice(0)),!d}function hx(e,t){const n=e.get(t)[1],i=e.get(t)[2];let v=t-1;const u=[],y=n._tokenizer||i.parser[n.contentType](n.start),c=y.events,s=[],d={};let o,r,a=-1,l=n,h=0,f=0;const p=[f];for(;l;){for(;e.get(++v)[1]!==l;);u.push(v),l._tokenizer||(o=i.sliceStream(l),l.next||o.push(null),r&&y.defineSkip(l.start),l._isInFirstContentOfListItem&&(y._gfmTasklistFirstContentOfListItem=!0),y.write(o),l._isInFirstContentOfListItem&&(y._gfmTasklistFirstContentOfListItem=void 0)),r=l,l=l.next}for(l=n;++a<c.length;)c[a][0]==="exit"&&c[a-1][0]==="enter"&&c[a][1].type===c[a-1][1].type&&c[a][1].start.line!==c[a][1].end.line&&(f=a+1,p.push(f),l._tokenizer=void 0,l.previous=void 0,l=l.next);for(y.events=[],l?(l._tokenizer=void 0,l.previous=void 0):p.pop(),a=p.length;a--;){const m=c.slice(p[a],p[a+1]),g=u.pop();s.push([g,g+m.length-1]),e.splice(g,2,m)}for(s.reverse(),a=-1;++a<s.length;)d[h+s[a][0]]=h+s[a][1],h+=s[a][1]-s[a][0]-1;return d}const dx={tokenize:gx,resolve:px},fx={tokenize:mx,partial:!0};function px(e){return zv(e),e}function gx(e,t){let n;return i;function i(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),v(c)}function v(c){return c===null?u(c):ge(c)?e.check(fx,y,u)(c):(e.consume(c),v)}function u(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function y(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,v}}function mx(e,t,n){const i=this;return v;function v(y){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),Ie(e,u,"linePrefix")}function u(y){if(y===null||ge(y))return n(y);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(y):e.interrupt(i.parser.constructs.flow,n,t)(y)}}function Uv(e,t,n,i,v,u,y,c,s){const d=s||Number.POSITIVE_INFINITY;let o=0;return r;function r(m){return m===60?(e.enter(i),e.enter(v),e.enter(u),e.consume(m),e.exit(u),a):m===null||m===32||m===41||Kc(m)?n(m):(e.enter(i),e.enter(y),e.enter(c),e.enter("chunkString",{contentType:"string"}),f(m))}function a(m){return m===62?(e.enter(u),e.consume(m),e.exit(u),e.exit(v),e.exit(i),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),l(m))}function l(m){return m===62?(e.exit("chunkString"),e.exit(c),a(m)):m===null||m===60||ge(m)?n(m):(e.consume(m),m===92?h:l)}function h(m){return m===60||m===62||m===92?(e.consume(m),l):l(m)}function f(m){return!o&&(m===null||m===41||Lt(m))?(e.exit("chunkString"),e.exit(c),e.exit(y),e.exit(i),t(m)):o<d&&m===40?(e.consume(m),o++,f):m===41?(e.consume(m),o--,f):m===null||m===32||m===40||Kc(m)?n(m):(e.consume(m),m===92?p:f)}function p(m){return m===40||m===41||m===92?(e.consume(m),f):f(m)}}function jv(e,t,n,i,v,u){const y=this;let c=0,s;return d;function d(l){return e.enter(i),e.enter(v),e.consume(l),e.exit(v),e.enter(u),o}function o(l){return c>999||l===null||l===91||l===93&&!s||l===94&&!c&&"_hiddenFootnoteSupport"in y.parser.constructs?n(l):l===93?(e.exit(u),e.enter(v),e.consume(l),e.exit(v),e.exit(i),t):ge(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):(e.enter("chunkString",{contentType:"string"}),r(l))}function r(l){return l===null||l===91||l===93||ge(l)||c++>999?(e.exit("chunkString"),o(l)):(e.consume(l),s||(s=!Te(l)),l===92?a:r)}function a(l){return l===91||l===92||l===93?(e.consume(l),c++,r):r(l)}}function Vv(e,t,n,i,v,u){let y;return c;function c(a){return a===34||a===39||a===40?(e.enter(i),e.enter(v),e.consume(a),e.exit(v),y=a===40?41:a,s):n(a)}function s(a){return a===y?(e.enter(v),e.consume(a),e.exit(v),e.exit(i),t):(e.enter(u),d(a))}function d(a){return a===y?(e.exit(u),s(y)):a===null?n(a):ge(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ie(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),o(a))}function o(a){return a===y||a===null||ge(a)?(e.exit("chunkString"),d(a)):(e.consume(a),a===92?r:o)}function r(a){return a===y||a===92?(e.consume(a),o):o(a)}}function ls(e,t){let n;return i;function i(v){return ge(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),n=!0,i):Te(v)?Ie(e,i,n?"linePrefix":"lineSuffix")(v):t(v)}}const vx={name:"definition",tokenize:_x},yx={tokenize:wx,partial:!0};function _x(e,t,n){const i=this;let v;return u;function u(l){return e.enter("definition"),y(l)}function y(l){return jv.call(i,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function c(l){return v=dr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),l===58?(e.enter("definitionMarker"),e.consume(l),e.exit("definitionMarker"),s):n(l)}function s(l){return Lt(l)?ls(e,d)(l):d(l)}function d(l){return Uv(e,o,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(l)}function o(l){return e.attempt(yx,r,r)(l)}function r(l){return Te(l)?Ie(e,a,"whitespace")(l):a(l)}function a(l){return l===null||ge(l)?(e.exit("definition"),i.parser.defined.push(v),t(l)):n(l)}}function wx(e,t,n){return i;function i(c){return Lt(c)?ls(e,v)(c):n(c)}function v(c){return Vv(e,u,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function u(c){return Te(c)?Ie(e,y,"whitespace")(c):y(c)}function y(c){return c===null||ge(c)?t(c):n(c)}}const Sx={name:"hardBreakEscape",tokenize:bx};function bx(e,t,n){return i;function i(u){return e.enter("hardBreakEscape"),e.consume(u),v}function v(u){return ge(u)?(e.exit("hardBreakEscape"),t(u)):n(u)}}const Cx={name:"headingAtx",tokenize:kx,resolve:xx};function xx(e,t){let n=e.length-2,i=3,v,u;return e[i][1].type==="whitespace"&&(i+=2),n-2>i&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&e[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(v={type:"atxHeadingText",start:e[i][1].start,end:e[n][1].end},u={type:"chunkText",start:e[i][1].start,end:e[n][1].end,contentType:"text"},Bn(e,i,n-i+1,[["enter",v,t],["enter",u,t],["exit",u,t],["exit",v,t]])),e}function kx(e,t,n){let i=0;return v;function v(o){return e.enter("atxHeading"),u(o)}function u(o){return e.enter("atxHeadingSequence"),y(o)}function y(o){return o===35&&i++<6?(e.consume(o),y):o===null||Lt(o)?(e.exit("atxHeadingSequence"),c(o)):n(o)}function c(o){return o===35?(e.enter("atxHeadingSequence"),s(o)):o===null||ge(o)?(e.exit("atxHeading"),t(o)):Te(o)?Ie(e,c,"whitespace")(o):(e.enter("atxHeadingText"),d(o))}function s(o){return o===35?(e.consume(o),s):(e.exit("atxHeadingSequence"),c(o))}function d(o){return o===null||o===35||Lt(o)?(e.exit("atxHeadingText"),c(o)):(e.consume(o),d)}}const Ex=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kf=["pre","script","style","textarea"],Ax={name:"htmlFlow",tokenize:Mx,resolveTo:Rx,concrete:!0},Lx={tokenize:Ox,partial:!0},Tx={tokenize:$x,partial:!0};function Rx(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Mx(e,t,n){const i=this;let v,u,y,c,s;return d;function d(B){return o(B)}function o(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),r}function r(B){return B===33?(e.consume(B),a):B===47?(e.consume(B),u=!0,f):B===63?(e.consume(B),v=3,i.interrupt?t:$):_n(B)?(e.consume(B),y=String.fromCharCode(B),p):n(B)}function a(B){return B===45?(e.consume(B),v=2,l):B===91?(e.consume(B),v=5,c=0,h):_n(B)?(e.consume(B),v=4,i.interrupt?t:$):n(B)}function l(B){return B===45?(e.consume(B),i.interrupt?t:$):n(B)}function h(B){const z="CDATA[";return B===z.charCodeAt(c++)?(e.consume(B),c===z.length?i.interrupt?t:L:h):n(B)}function f(B){return _n(B)?(e.consume(B),y=String.fromCharCode(B),p):n(B)}function p(B){if(B===null||B===47||B===62||Lt(B)){const z=B===47,U=y.toLowerCase();return!z&&!u&&Kf.includes(U)?(v=1,i.interrupt?t(B):L(B)):Ex.includes(y.toLowerCase())?(v=6,z?(e.consume(B),m):i.interrupt?t(B):L(B)):(v=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(B):u?g(B):w(B))}return B===45||It(B)?(e.consume(B),y+=String.fromCharCode(B),p):n(B)}function m(B){return B===62?(e.consume(B),i.interrupt?t:L):n(B)}function g(B){return Te(B)?(e.consume(B),g):M(B)}function w(B){return B===47?(e.consume(B),M):B===58||B===95||_n(B)?(e.consume(B),S):Te(B)?(e.consume(B),w):M(B)}function S(B){return B===45||B===46||B===58||B===95||It(B)?(e.consume(B),S):b(B)}function b(B){return B===61?(e.consume(B),_):Te(B)?(e.consume(B),b):w(B)}function _(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),s=B,x):Te(B)?(e.consume(B),_):C(B)}function x(B){return B===s?(e.consume(B),s=null,k):B===null||ge(B)?n(B):(e.consume(B),x)}function C(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Lt(B)?b(B):(e.consume(B),C)}function k(B){return B===47||B===62||Te(B)?w(B):n(B)}function M(B){return B===62?(e.consume(B),T):n(B)}function T(B){return B===null||ge(B)?L(B):Te(B)?(e.consume(B),T):n(B)}function L(B){return B===45&&v===2?(e.consume(B),I):B===60&&v===1?(e.consume(B),D):B===62&&v===4?(e.consume(B),N):B===63&&v===3?(e.consume(B),$):B===93&&v===5?(e.consume(B),O):ge(B)&&(v===6||v===7)?(e.exit("htmlFlowData"),e.check(Lx,H,E)(B)):B===null||ge(B)?(e.exit("htmlFlowData"),E(B)):(e.consume(B),L)}function E(B){return e.check(Tx,A,H)(B)}function A(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),R}function R(B){return B===null||ge(B)?E(B):(e.enter("htmlFlowData"),L(B))}function I(B){return B===45?(e.consume(B),$):L(B)}function D(B){return B===47?(e.consume(B),y="",P):L(B)}function P(B){if(B===62){const z=y.toLowerCase();return Kf.includes(z)?(e.consume(B),N):L(B)}return _n(B)&&y.length<8?(e.consume(B),y+=String.fromCharCode(B),P):L(B)}function O(B){return B===93?(e.consume(B),$):L(B)}function $(B){return B===62?(e.consume(B),N):B===45&&v===2?(e.consume(B),$):L(B)}function N(B){return B===null||ge(B)?(e.exit("htmlFlowData"),H(B)):(e.consume(B),N)}function H(B){return e.exit("htmlFlow"),t(B)}}function $x(e,t,n){const i=this;return v;function v(y){return ge(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),u):n(y)}function u(y){return i.parser.lazy[i.now().line]?n(y):t(y)}}function Ox(e,t,n){return i;function i(v){return e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),e.attempt(Ua,t,n)}}const Ix={name:"htmlText",tokenize:Dx};function Dx(e,t,n){const i=this;let v,u,y;return c;function c($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),s}function s($){return $===33?(e.consume($),d):$===47?(e.consume($),b):$===63?(e.consume($),w):_n($)?(e.consume($),C):n($)}function d($){return $===45?(e.consume($),o):$===91?(e.consume($),u=0,h):_n($)?(e.consume($),g):n($)}function o($){return $===45?(e.consume($),l):n($)}function r($){return $===null?n($):$===45?(e.consume($),a):ge($)?(y=r,D($)):(e.consume($),r)}function a($){return $===45?(e.consume($),l):r($)}function l($){return $===62?I($):$===45?a($):r($)}function h($){const N="CDATA[";return $===N.charCodeAt(u++)?(e.consume($),u===N.length?f:h):n($)}function f($){return $===null?n($):$===93?(e.consume($),p):ge($)?(y=f,D($)):(e.consume($),f)}function p($){return $===93?(e.consume($),m):f($)}function m($){return $===62?I($):$===93?(e.consume($),m):f($)}function g($){return $===null||$===62?I($):ge($)?(y=g,D($)):(e.consume($),g)}function w($){return $===null?n($):$===63?(e.consume($),S):ge($)?(y=w,D($)):(e.consume($),w)}function S($){return $===62?I($):w($)}function b($){return _n($)?(e.consume($),_):n($)}function _($){return $===45||It($)?(e.consume($),_):x($)}function x($){return ge($)?(y=x,D($)):Te($)?(e.consume($),x):I($)}function C($){return $===45||It($)?(e.consume($),C):$===47||$===62||Lt($)?k($):n($)}function k($){return $===47?(e.consume($),I):$===58||$===95||_n($)?(e.consume($),M):ge($)?(y=k,D($)):Te($)?(e.consume($),k):I($)}function M($){return $===45||$===46||$===58||$===95||It($)?(e.consume($),M):T($)}function T($){return $===61?(e.consume($),L):ge($)?(y=T,D($)):Te($)?(e.consume($),T):k($)}function L($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),v=$,E):ge($)?(y=L,D($)):Te($)?(e.consume($),L):(e.consume($),A)}function E($){return $===v?(e.consume($),v=void 0,R):$===null?n($):ge($)?(y=E,D($)):(e.consume($),E)}function A($){return $===null||$===34||$===39||$===60||$===61||$===96?n($):$===47||$===62||Lt($)?k($):(e.consume($),A)}function R($){return $===47||$===62||Lt($)?k($):n($)}function I($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),t):n($)}function D($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),P}function P($){return Te($)?Ie(e,O,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):O($)}function O($){return e.enter("htmlTextData"),y($)}}const wh={name:"labelEnd",tokenize:Wx,resolveTo:Hx,resolveAll:Fx},Px={tokenize:zx},Bx={tokenize:Ux},Nx={tokenize:jx};function Fx(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function Hx(e,t){let n=e.length,i=0,v,u,y,c;for(;n--;)if(v=e[n][1],u){if(v.type==="link"||v.type==="labelLink"&&v._inactive)break;e[n][0]==="enter"&&v.type==="labelLink"&&(v._inactive=!0)}else if(y){if(e[n][0]==="enter"&&(v.type==="labelImage"||v.type==="labelLink")&&!v._balanced&&(u=n,v.type!=="labelLink")){i=2;break}}else v.type==="labelEnd"&&(y=n);const s={type:e[u][1].type==="labelLink"?"link":"image",start:Object.assign({},e[u][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[u][1].start),end:Object.assign({},e[y][1].end)},o={type:"labelText",start:Object.assign({},e[u+i+2][1].end),end:Object.assign({},e[y-2][1].start)};return c=[["enter",s,t],["enter",d,t]],c=Gt(c,e.slice(u+1,u+i+3)),c=Gt(c,[["enter",o,t]]),c=Gt(c,_h(t.parser.constructs.insideSpan.null,e.slice(u+i+4,y-3),t)),c=Gt(c,[["exit",o,t],e[y-2],e[y-1],["exit",d,t]]),c=Gt(c,e.slice(y+1)),c=Gt(c,[["exit",s,t]]),Bn(e,u,e.length,c),e}function Wx(e,t,n){const i=this;let v=i.events.length,u,y;for(;v--;)if((i.events[v][1].type==="labelImage"||i.events[v][1].type==="labelLink")&&!i.events[v][1]._balanced){u=i.events[v][1];break}return c;function c(a){return u?u._inactive?r(a):(y=i.parser.defined.includes(dr(i.sliceSerialize({start:u.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelEnd"),s):n(a)}function s(a){return a===40?e.attempt(Px,o,y?o:r)(a):a===91?e.attempt(Bx,o,y?d:r)(a):y?o(a):r(a)}function d(a){return e.attempt(Nx,o,r)(a)}function o(a){return t(a)}function r(a){return u._balanced=!0,n(a)}}function zx(e,t,n){return i;function i(r){return e.enter("resource"),e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),v}function v(r){return Lt(r)?ls(e,u)(r):u(r)}function u(r){return r===41?o(r):Uv(e,y,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(r)}function y(r){return Lt(r)?ls(e,s)(r):o(r)}function c(r){return n(r)}function s(r){return r===34||r===39||r===40?Vv(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(r):o(r)}function d(r){return Lt(r)?ls(e,o)(r):o(r)}function o(r){return r===41?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}function Ux(e,t,n){const i=this;return v;function v(c){return jv.call(i,e,u,y,"reference","referenceMarker","referenceString")(c)}function u(c){return i.parser.defined.includes(dr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function y(c){return n(c)}}function jx(e,t,n){return i;function i(u){return e.enter("reference"),e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),v}function v(u){return u===93?(e.enter("referenceMarker"),e.consume(u),e.exit("referenceMarker"),e.exit("reference"),t):n(u)}}const Vx={name:"labelStartImage",tokenize:Kx,resolveAll:wh.resolveAll};function Kx(e,t,n){const i=this;return v;function v(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),u}function u(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),y):n(c)}function y(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):t(c)}}const Gx={name:"labelStartLink",tokenize:Yx,resolveAll:wh.resolveAll};function Yx(e,t,n){const i=this;return v;function v(y){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelLink"),u}function u(y){return y===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(y):t(y)}}const Il={name:"lineEnding",tokenize:Xx};function Xx(e,t){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Ie(e,t,"linePrefix")}}const Ho={name:"thematicBreak",tokenize:qx};function qx(e,t,n){let i=0,v;return u;function u(d){return e.enter("thematicBreak"),y(d)}function y(d){return v=d,c(d)}function c(d){return d===v?(e.enter("thematicBreakSequence"),s(d)):i>=3&&(d===null||ge(d))?(e.exit("thematicBreak"),t(d)):n(d)}function s(d){return d===v?(e.consume(d),i++,s):(e.exit("thematicBreakSequence"),Te(d)?Ie(e,c,"whitespace")(d):c(d))}}const St={name:"list",tokenize:Zx,continuation:{tokenize:ek},exit:nk},Qx={tokenize:ik,partial:!0},Jx={tokenize:tk,partial:!0};function Zx(e,t,n){const i=this,v=i.events[i.events.length-1];let u=v&&v[1].type==="linePrefix"?v[2].sliceSerialize(v[1],!0).length:0,y=0;return c;function c(l){const h=i.containerState.type||(l===42||l===43||l===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!i.containerState.marker||l===i.containerState.marker:Gc(l)){if(i.containerState.type||(i.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),l===42||l===45?e.check(Ho,n,d)(l):d(l);if(!i.interrupt||l===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(l)}return n(l)}function s(l){return Gc(l)&&++y<10?(e.consume(l),s):(!i.interrupt||y<2)&&(i.containerState.marker?l===i.containerState.marker:l===41||l===46)?(e.exit("listItemValue"),d(l)):n(l)}function d(l){return e.enter("listItemMarker"),e.consume(l),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||l,e.check(Ua,i.interrupt?n:o,e.attempt(Qx,a,r))}function o(l){return i.containerState.initialBlankLine=!0,u++,a(l)}function r(l){return Te(l)?(e.enter("listItemPrefixWhitespace"),e.consume(l),e.exit("listItemPrefixWhitespace"),a):n(l)}function a(l){return i.containerState.size=u+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(l)}}function ek(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Ua,v,u);function v(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ie(e,t,"listItemIndent",i.containerState.size+1)(c)}function u(c){return i.containerState.furtherBlankLines||!Te(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,y(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Jx,t,y)(c))}function y(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ie(e,e.attempt(St,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function tk(e,t,n){const i=this;return Ie(e,v,"listItemIndent",i.containerState.size+1);function v(u){const y=i.events[i.events.length-1];return y&&y[1].type==="listItemIndent"&&y[2].sliceSerialize(y[1],!0).length===i.containerState.size?t(u):n(u)}}function nk(e){e.exit(this.containerState.type)}function ik(e,t,n){const i=this;return Ie(e,v,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function v(u){const y=i.events[i.events.length-1];return!Te(u)&&y&&y[1].type==="listItemPrefixWhitespace"?t(u):n(u)}}const Gf={name:"setextUnderline",tokenize:sk,resolveTo:rk};function rk(e,t){let n=e.length,i,v,u;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){i=n;break}e[n][1].type==="paragraph"&&(v=n)}else e[n][1].type==="content"&&e.splice(n,1),!u&&e[n][1].type==="definition"&&(u=n);const y={type:"setextHeading",start:Object.assign({},e[v][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[v][1].type="setextHeadingText",u?(e.splice(v,0,["enter",y,t]),e.splice(u+1,0,["exit",e[i][1],t]),e[i][1].end=Object.assign({},e[u][1].end)):e[i][1]=y,e.push(["exit",y,t]),e}function sk(e,t,n){const i=this;let v;return u;function u(d){let o=i.events.length,r;for(;o--;)if(i.events[o][1].type!=="lineEnding"&&i.events[o][1].type!=="linePrefix"&&i.events[o][1].type!=="content"){r=i.events[o][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||r)?(e.enter("setextHeadingLine"),v=d,y(d)):n(d)}function y(d){return e.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===v?(e.consume(d),c):(e.exit("setextHeadingLineSequence"),Te(d)?Ie(e,s,"lineSuffix")(d):s(d))}function s(d){return d===null||ge(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const ok={tokenize:ak};function ak(e){const t=this,n=e.attempt(Ua,i,e.attempt(this.parser.constructs.flowInitial,v,Ie(e,e.attempt(this.parser.constructs.flow,v,e.attempt(dx,v)),"linePrefix")));return n;function i(u){if(u===null){e.consume(u);return}return e.enter("lineEndingBlank"),e.consume(u),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function v(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const lk={resolveAll:Gv()},ck=Kv("string"),uk=Kv("text");function Kv(e){return{tokenize:t,resolveAll:Gv(e==="text"?hk:void 0)};function t(n){const i=this,v=this.parser.constructs[e],u=n.attempt(v,y,c);return y;function y(o){return d(o)?u(o):c(o)}function c(o){if(o===null){n.consume(o);return}return n.enter("data"),n.consume(o),s}function s(o){return d(o)?(n.exit("data"),u(o)):(n.consume(o),s)}function d(o){if(o===null)return!0;const r=v[o];let a=-1;if(r)for(;++a<r.length;){const l=r[a];if(!l.previous||l.previous.call(i,i.previous))return!0}return!1}}}function Gv(e){return t;function t(n,i){let v=-1,u;for(;++v<=n.length;)u===void 0?n[v]&&n[v][1].type==="data"&&(u=v,v++):(!n[v]||n[v][1].type!=="data")&&(v!==u+2&&(n[u][1].end=n[v-1][1].end,n.splice(u+2,v-u-2),v=u+2),u=void 0);return e?e(n,i):n}}function hk(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],v=t.sliceStream(i);let u=v.length,y=-1,c=0,s;for(;u--;){const d=v[u];if(typeof d=="string"){for(y=d.length;d.charCodeAt(y-1)===32;)c++,y--;if(y)break;y=-1}else if(d===-2)s=!0,c++;else if(d!==-1){u++;break}}if(c){const d={type:n===e.length||s||c<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-c,offset:i.end.offset-c,_index:i.start._index+u,_bufferIndex:u?y:i.start._bufferIndex+y},end:Object.assign({},i.end)};i.end=Object.assign({},d.start),i.start.offset===i.end.offset?Object.assign(i,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}function dk(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const v={},u=[];let y=[],c=[];const s={consume:g,enter:w,exit:S,attempt:x(b),check:x(_),interrupt:x(_,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:l,sliceSerialize:a,now:h,defineSkip:f,write:r};let o=t.tokenize.call(d,s);return t.resolveAll&&u.push(t),d;function r(T){return y=Gt(y,T),p(),y[y.length-1]!==null?[]:(C(t,0),d.events=_h(u,d.events,d),d.events)}function a(T,L){return pk(l(T),L)}function l(T){return fk(y,T)}function h(){const{line:T,column:L,offset:E,_index:A,_bufferIndex:R}=i;return{line:T,column:L,offset:E,_index:A,_bufferIndex:R}}function f(T){v[T.line]=T.column,M()}function p(){let T;for(;i._index<y.length;){const L=y[i._index];if(typeof L=="string")for(T=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===T&&i._bufferIndex<L.length;)m(L.charCodeAt(i._bufferIndex));else m(L)}}function m(T){o=o(T)}function g(T){ge(T)?(i.line++,i.column=1,i.offset+=T===-3?2:1,M()):T!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===y[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=T}function w(T,L){const E=L||{};return E.type=T,E.start=h(),d.events.push(["enter",E,d]),c.push(E),E}function S(T){const L=c.pop();return L.end=h(),d.events.push(["exit",L,d]),L}function b(T,L){C(T,L.from)}function _(T,L){L.restore()}function x(T,L){return E;function E(A,R,I){let D,P,O,$;return Array.isArray(A)?H(A):"tokenize"in A?H([A]):N(A);function N(V){return W;function W(F){const Y=F!==null&&V[F],G=F!==null&&V.null,Q=[...Array.isArray(Y)?Y:Y?[Y]:[],...Array.isArray(G)?G:G?[G]:[]];return H(Q)(F)}}function H(V){return D=V,P=0,V.length===0?I:B(V[P])}function B(V){return W;function W(F){return $=k(),O=V,V.partial||(d.currentConstruct=V),V.name&&d.parser.constructs.disable.null.includes(V.name)?U():V.tokenize.call(L?Object.assign(Object.create(d),L):d,s,z,U)(F)}}function z(V){return T(O,$),R}function U(V){return $.restore(),++P<D.length?B(D[P]):I}}}function C(T,L){T.resolveAll&&!u.includes(T)&&u.push(T),T.resolve&&Bn(d.events,L,d.events.length-L,T.resolve(d.events.slice(L),d)),T.resolveTo&&(d.events=T.resolveTo(d.events,d))}function k(){const T=h(),L=d.previous,E=d.currentConstruct,A=d.events.length,R=Array.from(c);return{restore:I,from:A};function I(){i=T,d.previous=L,d.currentConstruct=E,d.events.length=A,c=R,M()}}function M(){i.line in v&&i.column<2&&(i.column=v[i.line],i.offset+=v[i.line]-1)}}function fk(e,t){const n=t.start._index,i=t.start._bufferIndex,v=t.end._index,u=t.end._bufferIndex;let y;if(n===v)y=[e[n].slice(i,u)];else{if(y=e.slice(n,v),i>-1){const c=y[0];typeof c=="string"?y[0]=c.slice(i):y.shift()}u>0&&y.push(e[v].slice(0,u))}return y}function pk(e,t){let n=-1;const i=[];let v;for(;++n<e.length;){const u=e[n];let y;if(typeof u=="string")y=u;else switch(u){case-5:{y="\r";break}case-4:{y=`
`;break}case-3:{y=`\r
`;break}case-2:{y=t?" ":"	";break}case-1:{if(!t&&v)continue;y=" ";break}default:y=String.fromCharCode(u)}v=u===-2,i.push(y)}return i.join("")}const gk={42:St,43:St,45:St,48:St,49:St,50:St,51:St,52:St,53:St,54:St,55:St,56:St,57:St,62:Fv},mk={91:vx},vk={[-2]:Ol,[-1]:Ol,32:Ol},yk={35:Cx,42:Ho,45:[Gf,Ho],60:Ax,61:Gf,95:Ho,96:Vf,126:Vf},_k={38:Wv,92:Hv},wk={[-5]:Il,[-4]:Il,[-3]:Il,33:Vx,38:Wv,42:Yc,60:[GC,Ix],91:Gx,92:[Sx,Hv],93:wh,95:Yc,96:ox},Sk={null:[Yc,lk]},bk={null:[42,95]},Ck={null:[]},xk=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bk,contentInitial:mk,disable:Ck,document:gk,flow:yk,flowInitial:vk,insideSpan:Sk,string:_k,text:wk},Symbol.toStringTag,{value:"Module"}));function kk(e){const n=$C([xk,...(e||{}).extensions||[]]),i={defined:[],lazy:{},constructs:n,content:v(HC),document:v(zC),flow:v(ok),string:v(ck),text:v(uk)};return i;function v(u){return y;function y(c){return dk(i,u,c)}}}function Ek(e){for(;!zv(e););return e}const Yf=/[\0\t\n\r]/g;function Ak(){let e=1,t="",n=!0,i;return v;function v(u,y,c){const s=[];let d,o,r,a,l;for(u=t+(typeof u=="string"?u.toString():new TextDecoder(y||void 0).decode(u)),r=0,t="",n&&(u.charCodeAt(0)===65279&&r++,n=void 0);r<u.length;){if(Yf.lastIndex=r,d=Yf.exec(u),a=d&&d.index!==void 0?d.index:u.length,l=u.charCodeAt(a),!d){t=u.slice(r);break}if(l===10&&r===a&&i)s.push(-3),i=void 0;else switch(i&&(s.push(-5),i=void 0),r<a&&(s.push(u.slice(r,a)),e+=a-r),l){case 0:{s.push(65533),e++;break}case 9:{for(o=Math.ceil(e/4)*4,s.push(-2);e++<o;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:i=!0,e=1}r=a+1}return c&&(i&&s.push(-5),t&&s.push(t),s.push(null)),s}}const Lk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Tk(e){return e.replace(Lk,Rk)}function Rk(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const v=n.charCodeAt(1),u=v===120||v===88;return Nv(n.slice(u?2:1),u?16:10)}return yh(n)||e}const Yv={}.hasOwnProperty;function Mk(e,t,n){return typeof t!="string"&&(n=t,t=void 0),$k(n)(Ek(kk(n).document().write(Ak()(e,t,!0))))}function $k(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:u(Ft),autolinkProtocol:k,autolinkEmail:k,atxHeading:u(de),blockQuote:u(G),characterEscape:k,characterReference:k,codeFenced:u(Q),codeFencedFenceInfo:y,codeFencedFenceMeta:y,codeIndented:u(Q,y),codeText:u(J,y),codeTextData:k,data:k,codeFlowValue:k,definition:u(ce),definitionDestinationString:y,definitionLabelString:y,definitionTitleString:y,emphasis:u(me),hardBreakEscape:u(ke),hardBreakTrailing:u(ke),htmlFlow:u(le,y),htmlFlowData:k,htmlText:u(le,y),htmlTextData:k,image:u(nt),label:y,link:u(Ft),listItem:u(xn),listItemValue:a,listOrdered:u(Zt,r),listUnordered:u(Zt),paragraph:u(Ht),reference:B,referenceString:y,resourceDestinationString:y,resourceTitleString:y,setextHeading:u(de),strong:u(Ke),thematicBreak:u(at)},exit:{atxHeading:s(),atxHeadingSequence:b,autolink:s(),autolinkEmail:Y,autolinkProtocol:F,blockQuote:s(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:V,characterReference:W,codeFenced:s(p),codeFencedFence:f,codeFencedFenceInfo:l,codeFencedFenceMeta:h,codeFlowValue:M,codeIndented:s(m),codeText:s(R),codeTextData:M,data:M,definition:s(),definitionDestinationString:S,definitionLabelString:g,definitionTitleString:w,emphasis:s(),hardBreakEscape:s(L),hardBreakTrailing:s(L),htmlFlow:s(E),htmlFlowData:M,htmlText:s(A),htmlTextData:M,image:s(D),label:O,labelText:P,lineEnding:T,link:s(I),listItem:s(),listOrdered:s(),listUnordered:s(),paragraph:s(),referenceString:z,resourceDestinationString:$,resourceTitleString:N,resource:H,setextHeading:s(C),setextHeadingLineSequence:x,setextHeadingText:_,strong:s(),thematicBreak:s()}};Xv(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(K){let q={type:"root",children:[]};const Z={stack:[q],tokenStack:[],config:t,enter:c,exit:d,buffer:y,resume:o,data:n},re=[];let se=-1;for(;++se<K.length;)if(K[se][1].type==="listOrdered"||K[se][1].type==="listUnordered")if(K[se][0]==="enter")re.push(se);else{const ye=re.pop();se=v(K,ye,se)}for(se=-1;++se<K.length;){const ye=t[K[se][0]];Yv.call(ye,K[se][1].type)&&ye[K[se][1].type].call(Object.assign({sliceSerialize:K[se][2].sliceSerialize},Z),K[se][1])}if(Z.tokenStack.length>0){const ye=Z.tokenStack[Z.tokenStack.length-1];(ye[1]||Xf).call(Z,void 0,ye[0])}for(q.position={start:Un(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Un(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},se=-1;++se<t.transforms.length;)q=t.transforms[se](q)||q;return q}function v(K,q,Z){let re=q-1,se=-1,ye=!1,he,Ce,Ee,Se;for(;++re<=Z;){const Le=K[re];switch(Le[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Le[0]==="enter"?se++:se--,Se=void 0;break}case"lineEndingBlank":{Le[0]==="enter"&&(he&&!Se&&!se&&!Ee&&(Ee=re),Se=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Se=void 0}if(!se&&Le[0]==="enter"&&Le[1].type==="listItemPrefix"||se===-1&&Le[0]==="exit"&&(Le[1].type==="listUnordered"||Le[1].type==="listOrdered")){if(he){let gt=re;for(Ce=void 0;gt--;){const wt=K[gt];if(wt[1].type==="lineEnding"||wt[1].type==="lineEndingBlank"){if(wt[0]==="exit")continue;Ce&&(K[Ce][1].type="lineEndingBlank",ye=!0),wt[1].type="lineEnding",Ce=gt}else if(!(wt[1].type==="linePrefix"||wt[1].type==="blockQuotePrefix"||wt[1].type==="blockQuotePrefixWhitespace"||wt[1].type==="blockQuoteMarker"||wt[1].type==="listItemIndent"))break}Ee&&(!Ce||Ee<Ce)&&(he._spread=!0),he.end=Object.assign({},Ce?K[Ce][1].start:Le[1].end),K.splice(Ce||re,0,["exit",he,Le[2]]),re++,Z++}if(Le[1].type==="listItemPrefix"){const gt={type:"listItem",_spread:!1,start:Object.assign({},Le[1].start),end:void 0};he=gt,K.splice(re,0,["enter",gt,Le[2]]),re++,Z++,Ee=void 0,Se=!0}}}return K[q][1]._spread=ye,Z}function u(K,q){return Z;function Z(re){c.call(this,K(re),re),q&&q.call(this,re)}}function y(){this.stack.push({type:"fragment",children:[]})}function c(K,q,Z){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([q,Z]),K.position={start:Un(q.start),end:void 0}}function s(K){return q;function q(Z){K&&K.call(this,Z),d.call(this,Z)}}function d(K,q){const Z=this.stack.pop(),re=this.tokenStack.pop();if(re)re[0].type!==K.type&&(q?q.call(this,K,re[0]):(re[1]||Xf).call(this,K,re[0]));else throw new Error("Cannot close `"+K.type+"` ("+as({start:K.start,end:K.end})+"): it’s not open");Z.position.end=Un(K.end)}function o(){return RC(this.stack.pop())}function r(){this.data.expectingFirstListItemValue=!0}function a(K){if(this.data.expectingFirstListItemValue){const q=this.stack[this.stack.length-2];q.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function l(){const K=this.resume(),q=this.stack[this.stack.length-1];q.lang=K}function h(){const K=this.resume(),q=this.stack[this.stack.length-1];q.meta=K}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function p(){const K=this.resume(),q=this.stack[this.stack.length-1];q.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const K=this.resume(),q=this.stack[this.stack.length-1];q.value=K.replace(/(\r?\n|\r)$/g,"")}function g(K){const q=this.resume(),Z=this.stack[this.stack.length-1];Z.label=q,Z.identifier=dr(this.sliceSerialize(K)).toLowerCase()}function w(){const K=this.resume(),q=this.stack[this.stack.length-1];q.title=K}function S(){const K=this.resume(),q=this.stack[this.stack.length-1];q.url=K}function b(K){const q=this.stack[this.stack.length-1];if(!q.depth){const Z=this.sliceSerialize(K).length;q.depth=Z}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function x(K){const q=this.stack[this.stack.length-1];q.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function k(K){const Z=this.stack[this.stack.length-1].children;let re=Z[Z.length-1];(!re||re.type!=="text")&&(re=Tt(),re.position={start:Un(K.start),end:void 0},Z.push(re)),this.stack.push(re)}function M(K){const q=this.stack.pop();q.value+=this.sliceSerialize(K),q.position.end=Un(K.end)}function T(K){const q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Z=q.children[q.children.length-1];Z.position.end=Un(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(q.type)&&(k.call(this,K),M.call(this,K))}function L(){this.data.atHardBreak=!0}function E(){const K=this.resume(),q=this.stack[this.stack.length-1];q.value=K}function A(){const K=this.resume(),q=this.stack[this.stack.length-1];q.value=K}function R(){const K=this.resume(),q=this.stack[this.stack.length-1];q.value=K}function I(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=q,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function D(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=q,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function P(K){const q=this.sliceSerialize(K),Z=this.stack[this.stack.length-2];Z.label=Tk(q),Z.identifier=dr(q).toLowerCase()}function O(){const K=this.stack[this.stack.length-1],q=this.resume(),Z=this.stack[this.stack.length-1];if(this.data.inReference=!0,Z.type==="link"){const re=K.children;Z.children=re}else Z.alt=q}function $(){const K=this.resume(),q=this.stack[this.stack.length-1];q.url=K}function N(){const K=this.resume(),q=this.stack[this.stack.length-1];q.title=K}function H(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function z(K){const q=this.resume(),Z=this.stack[this.stack.length-1];Z.label=q,Z.identifier=dr(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function U(K){this.data.characterReferenceType=K.type}function V(K){const q=this.sliceSerialize(K),Z=this.data.characterReferenceType;let re;Z?(re=Nv(q,Z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):re=yh(q);const se=this.stack[this.stack.length-1];se.value+=re}function W(K){const q=this.stack.pop();q.position.end=Un(K.end)}function F(K){M.call(this,K);const q=this.stack[this.stack.length-1];q.url=this.sliceSerialize(K)}function Y(K){M.call(this,K);const q=this.stack[this.stack.length-1];q.url="mailto:"+this.sliceSerialize(K)}function G(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function me(){return{type:"emphasis",children:[]}}function de(){return{type:"heading",depth:0,children:[]}}function ke(){return{type:"break"}}function le(){return{type:"html",value:""}}function nt(){return{type:"image",title:null,url:"",alt:null}}function Ft(){return{type:"link",title:null,url:"",children:[]}}function Zt(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function xn(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function Ht(){return{type:"paragraph",children:[]}}function Ke(){return{type:"strong",children:[]}}function Tt(){return{type:"text",value:""}}function at(){return{type:"thematicBreak"}}}function Un(e){return{line:e.line,column:e.column,offset:e.offset}}function Xv(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Xv(e,i):Ok(e,i)}}function Ok(e,t){let n;for(n in t)if(Yv.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function Xf(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+as({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+as({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+as({start:t.start,end:t.end})+") is still open")}function Ik(e){const t=this;t.parser=n;function n(i){return Mk(i,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Dk(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Pk(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Bk(e,t){const n=t.value?t.value+`
`:"",i={};t.lang&&(i.className=["language-"+t.lang]);let v={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(v.data={meta:t.meta}),e.patch(t,v),v=e.applyData(t,v),v={type:"element",tagName:"pre",properties:{},children:[v]},e.patch(t,v),v}function Nk(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fk(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Hk(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),v=Lr(i.toLowerCase()),u=e.footnoteOrder.indexOf(i);let y,c=e.footnoteCounts.get(i);c===void 0?(c=0,e.footnoteOrder.push(i),y=e.footnoteOrder.length):y=u+1,c+=1,e.footnoteCounts.set(i,c);const s={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+v,id:n+"fnref-"+v+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(y)}]};e.patch(t,s);const d={type:"element",tagName:"sup",properties:{},children:[s]};return e.patch(t,d),e.applyData(t,d)}function Wk(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zk(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function qv(e,t){const n=t.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const v=e.all(t),u=v[0];u&&u.type==="text"?u.value="["+u.value:v.unshift({type:"text",value:"["});const y=v[v.length-1];return y&&y.type==="text"?y.value+=i:v.push({type:"text",value:i}),v}function Uk(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return qv(e,t);const v={src:Lr(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(v.title=i.title);const u={type:"element",tagName:"img",properties:v,children:[]};return e.patch(t,u),e.applyData(t,u)}function jk(e,t){const n={src:Lr(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)}function Vk(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)}function Kk(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return qv(e,t);const v={href:Lr(i.url||"")};i.title!==null&&i.title!==void 0&&(v.title=i.title);const u={type:"element",tagName:"a",properties:v,children:e.all(t)};return e.patch(t,u),e.applyData(t,u)}function Gk(e,t){const n={href:Lr(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Yk(e,t,n){const i=e.all(t),v=n?Xk(n):Qv(t),u={},y=[];if(typeof t.checked=="boolean"){const o=i[0];let r;o&&o.type==="element"&&o.tagName==="p"?r=o:(r={type:"element",tagName:"p",properties:{},children:[]},i.unshift(r)),r.children.length>0&&r.children.unshift({type:"text",value:" "}),r.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),u.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const o=i[c];(v||c!==0||o.type!=="element"||o.tagName!=="p")&&y.push({type:"text",value:`
`}),o.type==="element"&&o.tagName==="p"&&!v?y.push(...o.children):y.push(o)}const s=i[i.length-1];s&&(v||s.type!=="element"||s.tagName!=="p")&&y.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:u,children:y};return e.patch(t,d),e.applyData(t,d)}function Xk(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=Qv(n[i])}return t}function Qv(e){const t=e.spread;return t??e.children.length>1}function qk(e,t){const n={},i=e.all(t);let v=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++v<i.length;){const y=i[v];if(y.type==="element"&&y.tagName==="li"&&y.properties&&Array.isArray(y.properties.className)&&y.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const u={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,u),e.applyData(t,u)}function Qk(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Jk(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Zk(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eE(e,t){const n=e.all(t),i=n.shift(),v=[];if(i){const y={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],y),v.push(y)}if(n.length>0){const y={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=ph(t.children[1]),s=Mv(t.children[t.children.length-1]);c&&s&&(y.position={start:c,end:s}),v.push(y)}const u={type:"element",tagName:"table",properties:{},children:e.wrap(v,!0)};return e.patch(t,u),e.applyData(t,u)}function tE(e,t,n){const i=n?n.children:void 0,u=(i?i.indexOf(t):1)===0?"th":"td",y=n&&n.type==="table"?n.align:void 0,c=y?y.length:t.children.length;let s=-1;const d=[];for(;++s<c;){const r=t.children[s],a={},l=y?y[s]:void 0;l&&(a.align=l);let h={type:"element",tagName:u,properties:a,children:[]};r&&(h.children=e.all(r),e.patch(r,h),h=e.applyData(r,h)),d.push(h)}const o={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,o),e.applyData(t,o)}function nE(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const qf=9,Qf=32;function iE(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),v=0;const u=[];for(;i;)u.push(Jf(t.slice(v,i.index),v>0,!0),i[0]),v=i.index+i[0].length,i=n.exec(t);return u.push(Jf(t.slice(v),v>0,!1)),u.join("")}function Jf(e,t,n){let i=0,v=e.length;if(t){let u=e.codePointAt(i);for(;u===qf||u===Qf;)i++,u=e.codePointAt(i)}if(n){let u=e.codePointAt(v-1);for(;u===qf||u===Qf;)v--,u=e.codePointAt(v-1)}return v>i?e.slice(i,v):""}function rE(e,t){const n={type:"text",value:iE(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function sE(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const oE={blockquote:Dk,break:Pk,code:Bk,delete:Nk,emphasis:Fk,footnoteReference:Hk,heading:Wk,html:zk,imageReference:Uk,image:jk,inlineCode:Vk,linkReference:Kk,link:Gk,listItem:Yk,list:qk,paragraph:Qk,root:Jk,strong:Zk,table:eE,tableCell:nE,tableRow:tE,text:rE,thematicBreak:sE,toml:_o,yaml:_o,definition:_o,footnoteDefinition:_o};function _o(){}const Jv=-1,ja=0,va=1,ya=2,Sh=3,bh=4,Ch=5,xh=6,Zv=7,ey=8,Zf=typeof self=="object"?self:globalThis,aE=(e,t)=>{const n=(v,u)=>(e.set(u,v),v),i=v=>{if(e.has(v))return e.get(v);const[u,y]=t[v];switch(u){case ja:case Jv:return n(y,v);case va:{const c=n([],v);for(const s of y)c.push(i(s));return c}case ya:{const c=n({},v);for(const[s,d]of y)c[i(s)]=i(d);return c}case Sh:return n(new Date(y),v);case bh:{const{source:c,flags:s}=y;return n(new RegExp(c,s),v)}case Ch:{const c=n(new Map,v);for(const[s,d]of y)c.set(i(s),i(d));return c}case xh:{const c=n(new Set,v);for(const s of y)c.add(i(s));return c}case Zv:{const{name:c,message:s}=y;return n(new Zf[c](s),v)}case ey:return n(BigInt(y),v);case"BigInt":return n(Object(BigInt(y)),v)}return n(new Zf[u](y),v)};return i},ep=e=>aE(new Map,e)(0),Ui="",{toString:lE}={},{keys:cE}=Object,Vr=e=>{const t=typeof e;if(t!=="object"||!e)return[ja,t];const n=lE.call(e).slice(8,-1);switch(n){case"Array":return[va,Ui];case"Object":return[ya,Ui];case"Date":return[Sh,Ui];case"RegExp":return[bh,Ui];case"Map":return[Ch,Ui];case"Set":return[xh,Ui]}return n.includes("Array")?[va,n]:n.includes("Error")?[Zv,n]:[ya,n]},wo=([e,t])=>e===ja&&(t==="function"||t==="symbol"),uE=(e,t,n,i)=>{const v=(y,c)=>{const s=i.push(y)-1;return n.set(c,s),s},u=y=>{if(n.has(y))return n.get(y);let[c,s]=Vr(y);switch(c){case ja:{let o=y;switch(s){case"bigint":c=ey,o=y.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+s);o=null;break;case"undefined":return v([Jv],y)}return v([c,o],y)}case va:{if(s)return v([s,[...y]],y);const o=[],r=v([c,o],y);for(const a of y)o.push(u(a));return r}case ya:{if(s)switch(s){case"BigInt":return v([s,y.toString()],y);case"Boolean":case"Number":case"String":return v([s,y.valueOf()],y)}if(t&&"toJSON"in y)return u(y.toJSON());const o=[],r=v([c,o],y);for(const a of cE(y))(e||!wo(Vr(y[a])))&&o.push([u(a),u(y[a])]);return r}case Sh:return v([c,y.toISOString()],y);case bh:{const{source:o,flags:r}=y;return v([c,{source:o,flags:r}],y)}case Ch:{const o=[],r=v([c,o],y);for(const[a,l]of y)(e||!(wo(Vr(a))||wo(Vr(l))))&&o.push([u(a),u(l)]);return r}case xh:{const o=[],r=v([c,o],y);for(const a of y)(e||!wo(Vr(a)))&&o.push(u(a));return r}}const{message:d}=y;return v([c,{name:s,message:d}],y)};return u},tp=(e,{json:t,lossy:n}={})=>{const i=[];return uE(!(t||n),!!t,new Map,i)(e),i},_a=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ep(tp(e,t)):structuredClone(e):(e,t)=>ep(tp(e,t));function hE(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function dE(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function fE(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||hE,i=e.options.footnoteBackLabel||dE,v=e.options.footnoteLabel||"Footnotes",u=e.options.footnoteLabelTagName||"h2",y=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let s=-1;for(;++s<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[s]);if(!d)continue;const o=e.all(d),r=String(d.identifier).toUpperCase(),a=Lr(r.toLowerCase());let l=0;const h=[],f=e.footnoteCounts.get(r);for(;f!==void 0&&++l<=f;){h.length>0&&h.push({type:"text",value:" "});let g=typeof n=="string"?n:n(s,l);typeof g=="string"&&(g={type:"text",value:g}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(s,l),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const p=o[o.length-1];if(p&&p.type==="element"&&p.tagName==="p"){const g=p.children[p.children.length-1];g&&g.type==="text"?g.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...h)}else o.push(...h);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+a},children:e.wrap(o,!0)};e.patch(d,m),c.push(m)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:u,properties:{..._a(y),id:"footnote-label"},children:[{type:"text",value:v}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const ty=function(e){if(e==null)return vE;if(typeof e=="function")return Va(e);if(typeof e=="object")return Array.isArray(e)?pE(e):gE(e);if(typeof e=="string")return mE(e);throw new Error("Expected function, string, or object as test")};function pE(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ty(e[n]);return Va(i);function i(...v){let u=-1;for(;++u<t.length;)if(t[u].apply(this,v))return!0;return!1}}function gE(e){const t=e;return Va(n);function n(i){const v=i;let u;for(u in e)if(v[u]!==t[u])return!1;return!0}}function mE(e){return Va(t);function t(n){return n&&n.type===e}}function Va(e){return t;function t(n,i,v){return!!(yE(n)&&e.call(this,n,typeof i=="number"?i:void 0,v||void 0))}}function vE(){return!0}function yE(e){return e!==null&&typeof e=="object"&&"type"in e}const ny=[],_E=!0,np=!1,wE="skip";function SE(e,t,n,i){let v;typeof t=="function"&&typeof n!="function"?(i=n,n=t):v=t;const u=ty(v),y=i?-1:1;c(e,void 0,[])();function c(s,d,o){const r=s&&typeof s=="object"?s:{};if(typeof r.type=="string"){const l=typeof r.tagName=="string"?r.tagName:typeof r.name=="string"?r.name:void 0;Object.defineProperty(a,"name",{value:"node ("+(s.type+(l?"<"+l+">":""))+")"})}return a;function a(){let l=ny,h,f,p;if((!t||u(s,d,o[o.length-1]||void 0))&&(l=bE(n(s,o)),l[0]===np))return l;if("children"in s&&s.children){const m=s;if(m.children&&l[0]!==wE)for(f=(i?m.children.length:-1)+y,p=o.concat(m);f>-1&&f<m.children.length;){const g=m.children[f];if(h=c(g,f,p)(),h[0]===np)return h;f=typeof h[1]=="number"?h[1]:f+y}}return l}}}function bE(e){return Array.isArray(e)?e:typeof e=="number"?[_E,e]:e==null?ny:[e]}function iy(e,t,n,i){let v,u,y;typeof t=="function"&&typeof n!="function"?(u=void 0,y=t,v=n):(u=t,y=n,v=i),SE(e,u,c,v);function c(s,d){const o=d[d.length-1],r=o?o.children.indexOf(s):void 0;return y(s,r,o)}}const Xc={}.hasOwnProperty,CE={};function xE(e,t){const n=t||CE,i=new Map,v=new Map,u=new Map,y={...oE,...n.handlers},c={all:d,applyData:EE,definitionById:i,footnoteById:v,footnoteCounts:u,footnoteOrder:[],handlers:y,one:s,options:n,patch:kE,wrap:LE};return iy(e,function(o){if(o.type==="definition"||o.type==="footnoteDefinition"){const r=o.type==="definition"?i:v,a=String(o.identifier).toUpperCase();r.has(a)||r.set(a,o)}}),c;function s(o,r){const a=o.type,l=c.handlers[a];if(Xc.call(c.handlers,a)&&l)return l(c,o,r);if(c.options.passThrough&&c.options.passThrough.includes(a)){if("children"in o){const{children:f,...p}=o,m=_a(p);return m.children=c.all(o),m}return _a(o)}return(c.options.unknownHandler||AE)(c,o,r)}function d(o){const r=[];if("children"in o){const a=o.children;let l=-1;for(;++l<a.length;){const h=c.one(a[l],o);if(h){if(l&&a[l-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=ip(h.value)),!Array.isArray(h)&&h.type==="element")){const f=h.children[0];f&&f.type==="text"&&(f.value=ip(f.value))}Array.isArray(h)?r.push(...h):r.push(h)}}}return r}}function kE(e,t){e.position&&(t.position=oC(e))}function EE(e,t){let n=t;if(e&&e.data){const i=e.data.hName,v=e.data.hChildren,u=e.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const y="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:y}}n.type==="element"&&u&&Object.assign(n.properties,_a(u)),"children"in n&&n.children&&v!==null&&v!==void 0&&(n.children=v)}return n}function AE(e,t){const n=t.data||{},i="value"in t&&!(Xc.call(n,"hProperties")||Xc.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function LE(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:`
`});++i<e.length;)i&&n.push({type:"text",value:`
`}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ip(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function rp(e,t){const n=xE(e,t),i=n.one(e,void 0),v=fE(n),u=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return v&&u.children.push({type:"text",value:`
`},v),u}function TE(e,t){return e&&"run"in e?async function(n,i){const v=rp(n,{file:i,...t});await e.run(v,i)}:function(n,i){return rp(n,{file:i,...t||e})}}function sp(e){if(e)throw e}var Wo=Object.prototype.hasOwnProperty,ry=Object.prototype.toString,op=Object.defineProperty,ap=Object.getOwnPropertyDescriptor,lp=function(t){return typeof Array.isArray=="function"?Array.isArray(t):ry.call(t)==="[object Array]"},cp=function(t){if(!t||ry.call(t)!=="[object Object]")return!1;var n=Wo.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&Wo.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;var v;for(v in t);return typeof v>"u"||Wo.call(t,v)},up=function(t,n){op&&n.name==="__proto__"?op(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},hp=function(t,n){if(n==="__proto__")if(Wo.call(t,n)){if(ap)return ap(t,n).value}else return;return t[n]},RE=function e(){var t,n,i,v,u,y,c=arguments[0],s=1,d=arguments.length,o=!1;for(typeof c=="boolean"&&(o=c,c=arguments[1]||{},s=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});s<d;++s)if(t=arguments[s],t!=null)for(n in t)i=hp(c,n),v=hp(t,n),c!==v&&(o&&v&&(cp(v)||(u=lp(v)))?(u?(u=!1,y=i&&lp(i)?i:[]):y=i&&cp(i)?i:{},up(c,{name:n,newValue:e(o,y,v)})):typeof v<"u"&&up(c,{name:n,newValue:v}));return c};const Dl=ru(RE);function qc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ME(){const e=[],t={run:n,use:i};return t;function n(...v){let u=-1;const y=v.pop();if(typeof y!="function")throw new TypeError("Expected function as last argument, not "+y);c(null,...v);function c(s,...d){const o=e[++u];let r=-1;if(s){y(s);return}for(;++r<v.length;)(d[r]===null||d[r]===void 0)&&(d[r]=v[r]);v=d,o?$E(o,c)(...d):y(null,...d)}}function i(v){if(typeof v!="function")throw new TypeError("Expected `middelware` to be a function, not "+v);return e.push(v),t}}function $E(e,t){let n;return i;function i(...y){const c=e.length>y.length;let s;c&&y.push(v);try{s=e.apply(this,y)}catch(d){const o=d;if(c&&n)throw o;return v(o)}c||(s&&s.then&&typeof s.then=="function"?s.then(u,v):s instanceof Error?v(s):u(s))}function v(y,...c){n||(n=!0,t(y,...c))}function u(y){v(null,y)}}const vn={basename:OE,dirname:IE,extname:DE,join:PE,sep:"/"};function OE(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ws(e);let n=0,i=-1,v=e.length,u;if(t===void 0||t.length===0||t.length>e.length){for(;v--;)if(e.codePointAt(v)===47){if(u){n=v+1;break}}else i<0&&(u=!0,i=v+1);return i<0?"":e.slice(n,i)}if(t===e)return"";let y=-1,c=t.length-1;for(;v--;)if(e.codePointAt(v)===47){if(u){n=v+1;break}}else y<0&&(u=!0,y=v+1),c>-1&&(e.codePointAt(v)===t.codePointAt(c--)?c<0&&(i=v):(c=-1,i=y));return n===i?i=y:i<0&&(i=e.length),e.slice(n,i)}function IE(e){if(Ws(e),e.length===0)return".";let t=-1,n=e.length,i;for(;--n;)if(e.codePointAt(n)===47){if(i){t=n;break}}else i||(i=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function DE(e){Ws(e);let t=e.length,n=-1,i=0,v=-1,u=0,y;for(;t--;){const c=e.codePointAt(t);if(c===47){if(y){i=t+1;break}continue}n<0&&(y=!0,n=t+1),c===46?v<0?v=t:u!==1&&(u=1):v>-1&&(u=-1)}return v<0||n<0||u===0||u===1&&v===n-1&&v===i+1?"":e.slice(v,n)}function PE(...e){let t=-1,n;for(;++t<e.length;)Ws(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":BE(n)}function BE(e){Ws(e);const t=e.codePointAt(0)===47;let n=NE(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function NE(e,t){let n="",i=0,v=-1,u=0,y=-1,c,s;for(;++y<=e.length;){if(y<e.length)c=e.codePointAt(y);else{if(c===47)break;c=47}if(c===47){if(!(v===y-1||u===1))if(v!==y-1&&u===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(s=n.lastIndexOf("/"),s!==n.length-1){s<0?(n="",i=0):(n=n.slice(0,s),i=n.length-1-n.lastIndexOf("/")),v=y,u=0;continue}}else if(n.length>0){n="",i=0,v=y,u=0;continue}}t&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+e.slice(v+1,y):n=e.slice(v+1,y),i=y-v-1;v=y,u=0}else c===46&&u>-1?u++:u=-1}return n}function Ws(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const FE={cwd:HE};function HE(){return"/"}function Qc(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function WE(e){if(typeof e=="string")e=new URL(e);else if(!Qc(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zE(e)}function zE(e){if(e.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const i=t.codePointAt(n+2);if(i===70||i===102){const v=new TypeError("File URL path must not include encoded / characters");throw v.code="ERR_INVALID_FILE_URL_PATH",v}}return decodeURIComponent(t)}const Pl=["history","path","basename","stem","extname","dirname"];class sy{constructor(t){let n;t?Qc(t)?n={path:t}:typeof t=="string"||UE(t)?n={value:t}:n=t:n={},this.cwd=FE.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Pl.length;){const u=Pl[i];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let v;for(v in n)Pl.includes(v)||(this[v]=n[v])}get basename(){return typeof this.path=="string"?vn.basename(this.path):void 0}set basename(t){Nl(t,"basename"),Bl(t,"basename"),this.path=vn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?vn.dirname(this.path):void 0}set dirname(t){dp(this.basename,"dirname"),this.path=vn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?vn.extname(this.path):void 0}set extname(t){if(Bl(t,"extname"),dp(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Qc(t)&&(t=WE(t)),Nl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?vn.basename(this.path,this.extname):void 0}set stem(t){Nl(t,"stem"),Bl(t,"stem"),this.path=vn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,i){const v=this.message(t,n,i);throw v.fatal=!0,v}info(t,n,i){const v=this.message(t,n,i);return v.fatal=void 0,v}message(t,n,i){const v=new pt(t,n,i);return this.path&&(v.name=this.path+":"+v.name,v.file=this.path),v.fatal=!1,this.messages.push(v),v}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Bl(e,t){if(e&&e.includes(vn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vn.sep+"`")}function Nl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function dp(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function UE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jE=function(e){const i=this.constructor.prototype,v=i[e],u=function(){return v.apply(u,arguments)};Object.setPrototypeOf(u,i);const y=Object.getOwnPropertyNames(v);for(const c of y){const s=Object.getOwnPropertyDescriptor(v,c);s&&Object.defineProperty(u,c,s)}return u},VE={}.hasOwnProperty;class kh extends jE{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ME()}copy(){const t=new kh;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];t.use(...i)}return t.data(Dl(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Wl("data",this.frozen),this.namespace[t]=n,this):VE.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Wl("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const v=n.call(t,...i);typeof v=="function"&&this.transformers.use(v)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=So(t),i=this.parser||this.Parser;return Fl("parse",i),i(String(n),n)}process(t,n){const i=this;return this.freeze(),Fl("process",this.parser||this.Parser),Hl("process",this.compiler||this.Compiler),n?v(void 0,n):new Promise(v);function v(u,y){const c=So(t),s=i.parse(c);i.run(s,c,function(o,r,a){if(o||!r||!a)return d(o);const l=r,h=i.stringify(l,a);YE(h)?a.value=h:a.result=h,d(o,a)});function d(o,r){o||!r?y(o):u?u(r):n(void 0,r)}}}processSync(t){let n=!1,i;return this.freeze(),Fl("processSync",this.parser||this.Parser),Hl("processSync",this.compiler||this.Compiler),this.process(t,v),pp("processSync","process",n),i;function v(u,y){n=!0,sp(u),i=y}}run(t,n,i){fp(t),this.freeze();const v=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?u(void 0,i):new Promise(u);function u(y,c){const s=So(n);v.run(t,s,d);function d(o,r,a){const l=r||t;o?c(o):y?y(l):i(void 0,l,a)}}}runSync(t,n){let i=!1,v;return this.run(t,n,u),pp("runSync","run",i),v;function u(y,c){sp(y),v=c,i=!0}}stringify(t,n){this.freeze();const i=So(n),v=this.compiler||this.Compiler;return Hl("stringify",v),fp(t),v(t,i)}use(t,...n){const i=this.attachers,v=this.namespace;if(Wl("use",this.frozen),t!=null)if(typeof t=="function")s(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):y(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function u(d){if(typeof d=="function")s(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[o,...r]=d;s(o,r)}else y(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function y(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(v.settings=Dl(!0,v.settings,d.settings))}function c(d){let o=-1;if(d!=null)if(Array.isArray(d))for(;++o<d.length;){const r=d[o];u(r)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function s(d,o){let r=-1,a=-1;for(;++r<i.length;)if(i[r][0]===d){a=r;break}if(a===-1)i.push([d,...o]);else if(o.length>0){let[l,...h]=o;const f=i[a][1];qc(f)&&qc(l)&&(l=Dl(!0,f,l)),i[a]=[d,l,...h]}}}}const KE=new kh().freeze();function Fl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Hl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Wl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fp(e){if(!qc(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function pp(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function So(e){return GE(e)?e:new sy(e)}function GE(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function YE(e){return typeof e=="string"||XE(e)}function XE(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const qE="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",gp=[],mp={allowDangerousHtml:!0},QE=/^(https?|ircs?|mailto|xmpp)$/i,JE=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function oy(e){const t=e.allowedElements,n=e.allowElement,i=e.children||"",v=e.className,u=e.components,y=e.disallowedElements,c=e.rehypePlugins||gp,s=e.remarkPlugins||gp,d=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...mp}:mp,o=e.skipHtml,r=e.unwrapDisallowed,a=e.urlTransform||ZE,l=KE().use(Ik).use(s).use(TE,d).use(c),h=new sy;typeof i=="string"&&(h.value=i);for(const g of JE)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+qE+g.id,void 0);const f=l.parse(h);let p=l.runSync(f,h);return v&&(p={type:"element",tagName:"div",properties:{className:v},children:p.type==="root"?p.children:[p]}),iy(p,m),dC(p,{Fragment:te.Fragment,components:u,ignoreInvalidStyle:!0,jsx:te.jsx,jsxs:te.jsxs,passKeys:!0,passNode:!0});function m(g,w,S){if(g.type==="raw"&&S&&typeof w=="number")return o?S.children.splice(w,1):S.children[w]={type:"text",value:g.value},w;if(g.type==="element"){let b;for(b in $l)if(Object.hasOwn($l,b)&&Object.hasOwn(g.properties,b)){const _=g.properties[b],x=$l[b];(x===null||x.includes(g.tagName))&&(g.properties[b]=a(String(_||""),b,g))}}if(g.type==="element"){let b=t?!t.includes(g.tagName):y?y.includes(g.tagName):!1;if(!b&&n&&typeof w=="number"&&(b=!n(g,w,S)),b&&S&&typeof w=="number")return r&&g.children?S.children.splice(w,1,...g.children):S.children.splice(w,1),w}}}function ZE(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),v=e.indexOf("/");return t<0||v>-1&&t>v||n>-1&&t>n||i>-1&&t>i||QE.test(e.slice(0,t))?e:""}const vp="AIzaSyBsUWonB3-qhuxVSVnYdH8-YAAgIok7K-I",eA=({code:e,onClose:t})=>{const[n,i]=pe.useState(""),[v,u]=pe.useState([]);pe.useState(!1),pe.useEffect(()=>{const s=new ma(vp);(async()=>{try{const o=`Explain the provided code:

${e}`,h=await(await(await s.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent([o])).response).text();i(h),u([{role:"assistant",content:h}])}catch(o){console.error("Error generating explanation:",o)}finally{}})()},[e]);const y=async s=>{try{const l=await(await(await new ma(vp).getGenerativeModel({model:"gemini-1.5-flash"}).generateContent([s])).response).text();u(h=>[...h,{role:"user",content:s},{role:"assistant",content:l}])}catch(d){console.error("Error generating response:",d)}finally{}},c=()=>{t()};return te.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:te.jsxs("div",{className:"bg-neutral-800 rounded p-4 max-w-xl mx-auto",children:[te.jsxs("div",{className:"flex justify-between items-center mb-4",children:[te.jsx("h2",{className:"text-2xl font-bold text-white",children:"Code Explanation"}),te.jsx("button",{className:"text-white hover:text-c4ff45 focus:outline-none",onClick:c,children:te.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),te.jsx("div",{className:"explanation-content text-white bg-neutral-900 rounded max-h-96 overflow-y-auto p-4",children:te.jsxs("div",{children:[v.map((s,d)=>te.jsx("div",{className:`mb-4 ${s.role==="user"?"text-right":"text-left"}`,children:te.jsx("div",{className:`inline-block p-2 rounded-lg ${s.role==="user"?"bg-neutral-700":"bg-neutral-600"}`,children:te.jsx(oy,{className:"prose prose-invert max-w-none",children:s.content})})},d)),te.jsx(tA,{onSubmit:y})]})})]})})},tA=({onSubmit:e})=>{const[t,n]=pe.useState(""),i=u=>{n(u.target.value)},v=u=>{u.preventDefault(),t.trim()&&(e(t),n(""))};return te.jsx("form",{onSubmit:v,className:"mt-4",children:te.jsxs("div",{className:"flex",children:[te.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-neutral-700 text-white rounded-l",placeholder:"Enter a prompt",value:t,onChange:i}),te.jsx("button",{type:"submit",className:"bg-[#00aaff] text-neutral-800 font-semibold py-2 px-4 rounded-r",children:"Send"})]})})},yp="AIzaSyBsUWonB3-qhuxVSVnYdH8-YAAgIok7K-I",nA=({code:e,onClose:t})=>{const[n,i]=pe.useState(""),[v,u]=pe.useState([]);pe.useState(!1),pe.useEffect(()=>{const s=new ma(yp);(async()=>{try{const o=`Debug the provided code and list out the errors pointwise if any:

${e}`,h=await(await(await s.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent([o])).response).text();i(h),u([{role:"assistant",content:h}])}catch(o){console.error("Error generating explanation:",o)}finally{}})()},[e]);const y=async s=>{try{const l=await(await(await new ma(yp).getGenerativeModel({model:"gemini-1.5-flash"}).generateContent([s])).response).text();u(h=>[...h,{role:"user",content:s},{role:"assistant",content:l}])}catch(d){console.error("Error generating response:",d)}finally{}},c=()=>{t()};return te.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:te.jsxs("div",{className:"bg-neutral-800 rounded p-4 max-w-xl mx-auto",children:[te.jsxs("div",{className:"flex justify-between items-center mb-4",children:[te.jsx("h2",{className:"text-2xl font-bold text-white",children:"Debugging Code"}),te.jsx("button",{className:"text-white hover:text-c4ff45 focus:outline-none",onClick:c,children:te.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),te.jsx("div",{className:"explanation-content text-white bg-neutral-900 rounded max-h-96 overflow-y-auto p-4",children:te.jsxs("div",{children:[v.map((s,d)=>te.jsx("div",{className:`mb-4 ${s.role==="user"?"text-right":"text-left"}`,children:te.jsx("div",{className:`inline-block p-2 rounded-lg ${s.role==="user"?"bg-neutral-700":"bg-neutral-600"}`,children:te.jsx(oy,{className:"prose prose-invert max-w-none",children:s.content})})},d)),te.jsx(iA,{onSubmit:y})]})})]})})},iA=({onSubmit:e})=>{const[t,n]=pe.useState(""),i=u=>{n(u.target.value)},v=u=>{u.preventDefault(),t.trim()&&(e(t),n(""))};return te.jsx("form",{onSubmit:v,className:"mt-4",children:te.jsxs("div",{className:"flex",children:[te.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-neutral-700 text-white rounded-l",placeholder:"Enter a prompt",value:t,onChange:i}),te.jsx("button",{type:"submit",className:"bg-[#00aaff] text-neutral-800 font-semibold py-2 px-4 rounded-r",children:"Send"})]})})},rA=({isLoading:e})=>te.jsx(te.Fragment,{children:e&&te.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-neutral-900 z-50",children:te.jsx("div",{className:"animate-bounce",children:te.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-32 h-32"})})})});var Jc={exports:{}},Di={},Zc={exports:{}},fn={},eu={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",i="contents",v=/input|select|textarea|button|object|iframe/;function u(r,a){return a.getPropertyValue("overflow")!=="visible"||r.scrollWidth<=0&&r.scrollHeight<=0}function y(r){var a=r.offsetWidth<=0&&r.offsetHeight<=0;if(a&&!r.innerHTML)return!0;try{var l=window.getComputedStyle(r),h=l.getPropertyValue("display");return a?h!==i&&u(r,l):h===n}catch{return console.warn("Failed to inspect element style"),!1}}function c(r){for(var a=r,l=r.getRootNode&&r.getRootNode();a&&a!==document.body;){if(l&&a===l&&(a=l.host.parentNode),y(a))return!1;a=a.parentNode}return!0}function s(r,a){var l=r.nodeName.toLowerCase(),h=v.test(l)&&!r.disabled||l==="a"&&r.href||a;return h&&c(r)}function d(r){var a=r.getAttribute("tabindex");a===null&&(a=void 0);var l=isNaN(a);return(l||a>=0)&&s(r,!l)}function o(r){var a=[].slice.call(r.querySelectorAll("*"),0).reduce(function(l,h){return l.concat(h.shadowRoot?o(h.shadowRoot):[h])},[]);return a.filter(d)}e.exports=t.default})(eu,eu.exports);var ay=eu.exports;Object.defineProperty(fn,"__esModule",{value:!0});fn.resetState=lA;fn.log=cA;fn.handleBlur=Ms;fn.handleFocus=$s;fn.markForFocusLater=uA;fn.returnFocus=hA;fn.popWithoutFocus=dA;fn.setupScopedFocus=fA;fn.teardownScopedFocus=pA;var sA=ay,oA=aA(sA);function aA(e){return e&&e.__esModule?e:{default:e}}var Sr=[],rr=null,tu=!1;function lA(){Sr=[]}function cA(){}function Ms(){tu=!0}function $s(){if(tu){if(tu=!1,!rr)return;setTimeout(function(){if(!rr.contains(document.activeElement)){var e=(0,oA.default)(rr)[0]||rr;e.focus()}},0)}}function uA(){Sr.push(document.activeElement)}function hA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Sr.length!==0&&(t=Sr.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function dA(){Sr.length>0&&Sr.pop()}function fA(e){rr=e,window.addEventListener?(window.addEventListener("blur",Ms,!1),document.addEventListener("focus",$s,!0)):(window.attachEvent("onBlur",Ms),document.attachEvent("onFocus",$s))}function pA(){rr=null,window.addEventListener?(window.removeEventListener("blur",Ms),document.removeEventListener("focus",$s)):(window.detachEvent("onBlur",Ms),document.detachEvent("onFocus",$s))}var nu={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var n=ay,i=v(n);function v(c){return c&&c.__esModule?c:{default:c}}function u(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return c.activeElement.shadowRoot?u(c.activeElement.shadowRoot):c.activeElement}function y(c,s){var d=(0,i.default)(c);if(!d.length){s.preventDefault();return}var o=void 0,r=s.shiftKey,a=d[0],l=d[d.length-1],h=u();if(c===h){if(!r)return;o=l}if(l===h&&!r&&(o=a),a===h&&r&&(o=l),o){s.preventDefault(),o.focus();return}var f=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),p=f!=null&&f[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(p){var m=d.indexOf(h);if(m>-1&&(m+=r?-1:1),o=d[m],typeof o>"u"){s.preventDefault(),o=r?l:a,o.focus();return}s.preventDefault(),o.focus()}}e.exports=t.default})(nu,nu.exports);var gA=nu.exports,pn={},mA=function(){},vA=mA,hn={},ly={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(ly);var yA=ly.exports;Object.defineProperty(hn,"__esModule",{value:!0});hn.canUseDOM=hn.SafeNodeList=hn.SafeHTMLCollection=void 0;var _A=yA,wA=SA(_A);function SA(e){return e&&e.__esModule?e:{default:e}}var Ka=wA.default,bA=Ka.canUseDOM?window.HTMLElement:{};hn.SafeHTMLCollection=Ka.canUseDOM?window.HTMLCollection:{};hn.SafeNodeList=Ka.canUseDOM?window.NodeList:{};hn.canUseDOM=Ka.canUseDOM;hn.default=bA;Object.defineProperty(pn,"__esModule",{value:!0});pn.resetState=AA;pn.log=LA;pn.assertNodeList=cy;pn.setElement=TA;pn.validateElement=Eh;pn.hide=RA;pn.show=MA;pn.documentNotReadyOrSSRTesting=$A;var CA=vA,xA=EA(CA),kA=hn;function EA(e){return e&&e.__esModule?e:{default:e}}var Ut=null;function AA(){Ut&&(Ut.removeAttribute?Ut.removeAttribute("aria-hidden"):Ut.length!=null?Ut.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Ut).forEach(function(e){return e.removeAttribute("aria-hidden")})),Ut=null}function LA(){}function cy(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function TA(e){var t=e;if(typeof t=="string"&&kA.canUseDOM){var n=document.querySelectorAll(t);cy(n,t),t=n}return Ut=t||Ut,Ut}function Eh(e){var t=e||Ut;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,xA.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function RA(e){var t=!0,n=!1,i=void 0;try{for(var v=Eh(e)[Symbol.iterator](),u;!(t=(u=v.next()).done);t=!0){var y=u.value;y.setAttribute("aria-hidden","true")}}catch(c){n=!0,i=c}finally{try{!t&&v.return&&v.return()}finally{if(n)throw i}}}function MA(e){var t=!0,n=!1,i=void 0;try{for(var v=Eh(e)[Symbol.iterator](),u;!(t=(u=v.next()).done);t=!0){var y=u.value;y.removeAttribute("aria-hidden")}}catch(c){n=!0,i=c}finally{try{!t&&v.return&&v.return()}finally{if(n)throw i}}}function $A(){Ut=null}var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.resetState=OA;Tr.log=IA;var cs={},us={};function _p(e,t){e.classList.remove(t)}function OA(){var e=document.getElementsByTagName("html")[0];for(var t in cs)_p(e,cs[t]);var n=document.body;for(var i in us)_p(n,us[i]);cs={},us={}}function IA(){}var DA=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},PA=function(t,n){return t[n]&&(t[n]-=1),n},BA=function(t,n,i){i.forEach(function(v){DA(n,v),t.add(v)})},NA=function(t,n,i){i.forEach(function(v){PA(n,v),n[v]===0&&t.remove(v)})};Tr.add=function(t,n){return BA(t.classList,t.nodeName.toLowerCase()=="html"?cs:us,n.split(" "))};Tr.remove=function(t,n){return NA(t.classList,t.nodeName.toLowerCase()=="html"?cs:us,n.split(" "))};var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.log=HA;Rr.resetState=WA;function FA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var uy=function e(){var t=this;FA(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var i=t.openInstances.indexOf(n);i!==-1&&(t.openInstances.splice(i,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(i){return i(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},wa=new uy;function HA(){console.log("portalOpenInstances ----------"),console.log(wa.openInstances.length),wa.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function WA(){wa=new uy}Rr.default=wa;var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});Ah.resetState=VA;Ah.log=KA;var zA=Rr,UA=jA(zA);function jA(e){return e&&e.__esModule?e:{default:e}}var ht=void 0,rn=void 0,Ai=[];function VA(){for(var e=[ht,rn],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}ht=rn=null,Ai=[]}function KA(){console.log("bodyTrap ----------"),console.log(Ai.length);for(var e=[ht,rn],t=0;t<e.length;t++){var n=e[t],i=n||{};console.log(i.nodeName,i.className,i.id)}console.log("edn bodyTrap ----------")}function wp(){Ai.length!==0&&Ai[Ai.length-1].focusContent()}function GA(e,t){!ht&&!rn&&(ht=document.createElement("div"),ht.setAttribute("data-react-modal-body-trap",""),ht.style.position="absolute",ht.style.opacity="0",ht.setAttribute("tabindex","0"),ht.addEventListener("focus",wp),rn=ht.cloneNode(),rn.addEventListener("focus",wp)),Ai=t,Ai.length>0?(document.body.firstChild!==ht&&document.body.insertBefore(ht,document.body.firstChild),document.body.lastChild!==rn&&document.body.appendChild(rn)):(ht.parentElement&&ht.parentElement.removeChild(ht),rn.parentElement&&rn.parentElement.removeChild(rn))}UA.default.subscribe(GA);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(A){for(var R=1;R<arguments.length;R++){var I=arguments[R];for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(A[D]=I[D])}return A},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},v=function(){function A(R,I){for(var D=0;D<I.length;D++){var P=I[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,I,D){return I&&A(R.prototype,I),D&&A(R,D),R}}(),u=pe,y=Ns,c=b(y),s=fn,d=S(s),o=gA,r=b(o),a=pn,l=S(a),h=Tr,f=S(h),p=hn,m=b(p),g=Rr,w=b(g);function S(A){if(A&&A.__esModule)return A;var R={};if(A!=null)for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(R[I]=A[I]);return R.default=A,R}function b(A){return A&&A.__esModule?A:{default:A}}function _(A,R){if(!(A instanceof R))throw new TypeError("Cannot call a class as a function")}function x(A,R){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:A}function C(A,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);A.prototype=Object.create(R&&R.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(A,R):A.__proto__=R)}var k={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},M=function(R){return R.code==="Tab"||R.keyCode===9},T=function(R){return R.code==="Escape"||R.keyCode===27},L=0,E=function(A){C(R,A);function R(I){_(this,R);var D=x(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,I));return D.setOverlayRef=function(P){D.overlay=P,D.props.overlayRef&&D.props.overlayRef(P)},D.setContentRef=function(P){D.content=P,D.props.contentRef&&D.props.contentRef(P)},D.afterClose=function(){var P=D.props,O=P.appElement,$=P.ariaHideApp,N=P.htmlOpenClassName,H=P.bodyOpenClassName,B=P.parentSelector,z=B&&B().ownerDocument||document;H&&f.remove(z.body,H),N&&f.remove(z.getElementsByTagName("html")[0],N),$&&L>0&&(L-=1,L===0&&l.show(O)),D.props.shouldFocusAfterRender&&(D.props.shouldReturnFocusAfterClose?(d.returnFocus(D.props.preventScroll),d.teardownScopedFocus()):d.popWithoutFocus()),D.props.onAfterClose&&D.props.onAfterClose(),w.default.deregister(D)},D.open=function(){D.beforeOpen(),D.state.afterOpen&&D.state.beforeClose?(clearTimeout(D.closeTimer),D.setState({beforeClose:!1})):(D.props.shouldFocusAfterRender&&(d.setupScopedFocus(D.node),d.markForFocusLater()),D.setState({isOpen:!0},function(){D.openAnimationFrame=requestAnimationFrame(function(){D.setState({afterOpen:!0}),D.props.isOpen&&D.props.onAfterOpen&&D.props.onAfterOpen({overlayEl:D.overlay,contentEl:D.content})})}))},D.close=function(){D.props.closeTimeoutMS>0?D.closeWithTimeout():D.closeWithoutTimeout()},D.focusContent=function(){return D.content&&!D.contentHasFocus()&&D.content.focus({preventScroll:!0})},D.closeWithTimeout=function(){var P=Date.now()+D.props.closeTimeoutMS;D.setState({beforeClose:!0,closesAt:P},function(){D.closeTimer=setTimeout(D.closeWithoutTimeout,D.state.closesAt-Date.now())})},D.closeWithoutTimeout=function(){D.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},D.afterClose)},D.handleKeyDown=function(P){M(P)&&(0,r.default)(D.content,P),D.props.shouldCloseOnEsc&&T(P)&&(P.stopPropagation(),D.requestClose(P))},D.handleOverlayOnClick=function(P){D.shouldClose===null&&(D.shouldClose=!0),D.shouldClose&&D.props.shouldCloseOnOverlayClick&&(D.ownerHandlesClose()?D.requestClose(P):D.focusContent()),D.shouldClose=null},D.handleContentOnMouseUp=function(){D.shouldClose=!1},D.handleOverlayOnMouseDown=function(P){!D.props.shouldCloseOnOverlayClick&&P.target==D.overlay&&P.preventDefault()},D.handleContentOnClick=function(){D.shouldClose=!1},D.handleContentOnMouseDown=function(){D.shouldClose=!1},D.requestClose=function(P){return D.ownerHandlesClose()&&D.props.onRequestClose(P)},D.ownerHandlesClose=function(){return D.props.onRequestClose},D.shouldBeClosed=function(){return!D.state.isOpen&&!D.state.beforeClose},D.contentHasFocus=function(){return document.activeElement===D.content||D.content.contains(document.activeElement)},D.buildClassName=function(P,O){var $=(typeof O>"u"?"undefined":i(O))==="object"?O:{base:k[P],afterOpen:k[P]+"--after-open",beforeClose:k[P]+"--before-close"},N=$.base;return D.state.afterOpen&&(N=N+" "+$.afterOpen),D.state.beforeClose&&(N=N+" "+$.beforeClose),typeof O=="string"&&O?N+" "+O:N},D.attributesFromObject=function(P,O){return Object.keys(O).reduce(function($,N){return $[P+"-"+N]=O[N],$},{})},D.state={afterOpen:!1,beforeClose:!1},D.shouldClose=null,D.moveFromContentToOverlay=null,D}return v(R,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(D,P){this.props.isOpen&&!D.isOpen?this.open():!this.props.isOpen&&D.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!P.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var D=this.props,P=D.appElement,O=D.ariaHideApp,$=D.htmlOpenClassName,N=D.bodyOpenClassName,H=D.parentSelector,B=H&&H().ownerDocument||document;N&&f.add(B.body,N),$&&f.add(B.getElementsByTagName("html")[0],$),O&&(L+=1,l.hide(P)),w.default.register(this)}},{key:"render",value:function(){var D=this.props,P=D.id,O=D.className,$=D.overlayClassName,N=D.defaultStyles,H=D.children,B=O?{}:N.content,z=$?{}:N.overlay;if(this.shouldBeClosed())return null;var U={ref:this.setOverlayRef,className:this.buildClassName("overlay",$),style:n({},z,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},V=n({id:P,ref:this.setContentRef,style:n({},B,this.props.style.content),className:this.buildClassName("content",O),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),W=this.props.contentElement(V,H);return this.props.overlayElement(U,W)}}]),R}(u.Component);E.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},E.propTypes={isOpen:c.default.bool.isRequired,defaultStyles:c.default.shape({content:c.default.object,overlay:c.default.object}),style:c.default.shape({content:c.default.object,overlay:c.default.object}),className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),parentSelector:c.default.func,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,ariaHideApp:c.default.bool,appElement:c.default.oneOfType([c.default.instanceOf(m.default),c.default.instanceOf(p.SafeHTMLCollection),c.default.instanceOf(p.SafeNodeList),c.default.arrayOf(c.default.instanceOf(m.default))]),onAfterOpen:c.default.func,onAfterClose:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,preventScroll:c.default.bool,role:c.default.string,contentLabel:c.default.string,aria:c.default.object,data:c.default.object,children:c.default.node,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,overlayElement:c.default.func,contentElement:c.default.func,testId:c.default.string},t.default=E,e.exports=t.default})(Zc,Zc.exports);var YA=Zc.exports;function hy(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function dy(e){function t(n){var i=this.constructor.getDerivedStateFromProps(e,n);return i??null}this.setState(t.bind(this))}function fy(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}hy.__suppressDeprecationWarning=!0;dy.__suppressDeprecationWarning=!0;fy.__suppressDeprecationWarning=!0;function XA(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,i=null,v=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?v="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(v="UNSAFE_componentWillUpdate"),n!==null||i!==null||v!==null){var u=e.displayName||e.name,y=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+y+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(v!==null?`
  `+v:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=hy,t.componentWillReceiveProps=dy),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=fy;var c=t.componentDidUpdate;t.componentDidUpdate=function(d,o,r){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,d,o,a)}}return e}const qA=Object.freeze(Object.defineProperty({__proto__:null,polyfill:XA},Symbol.toStringTag,{value:"Module"})),QA=h_(qA);Object.defineProperty(Di,"__esModule",{value:!0});Di.bodyOpenClassName=Di.portalClassName=void 0;var Sp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},JA=function(){function e(t,n){for(var i=0;i<n.length;i++){var v=n[i];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(t,v.key,v)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),py=pe,Sa=zs(py),ZA=Fm,ba=zs(ZA),eL=Ns,ve=zs(eL),tL=YA,bp=zs(tL),nL=pn,iL=sL(nL),Qn=hn,Cp=zs(Qn),rL=QA;function sL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function zs(e){return e&&e.__esModule?e:{default:e}}function oL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xp(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function aL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lL=Di.portalClassName="ReactModalPortal",cL=Di.bodyOpenClassName="ReactModal__Body--open",wi=Qn.canUseDOM&&ba.default.createPortal!==void 0,kp=function(t){return document.createElement(t)},Ep=function(){return wi?ba.default.createPortal:ba.default.unstable_renderSubtreeIntoContainer};function bo(e){return e()}var Us=function(e){aL(t,e);function t(){var n,i,v,u;oL(this,t);for(var y=arguments.length,c=Array(y),s=0;s<y;s++)c[s]=arguments[s];return u=(i=(v=xp(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(c))),v),v.removePortal=function(){!wi&&ba.default.unmountComponentAtNode(v.node);var d=bo(v.props.parentSelector);d&&d.contains(v.node)?d.removeChild(v.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},v.portalRef=function(d){v.portal=d},v.renderPortal=function(d){var o=Ep(),r=o(v,Sa.default.createElement(bp.default,Sp({defaultStyles:t.defaultStyles},d)),v.node);v.portalRef(r)},i),xp(v,u)}return JA(t,[{key:"componentDidMount",value:function(){if(Qn.canUseDOM){wi||(this.node=kp("div")),this.node.className=this.props.portalClassName;var i=bo(this.props.parentSelector);i.appendChild(this.node),!wi&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(i){var v=bo(i.parentSelector),u=bo(this.props.parentSelector);return{prevParent:v,nextParent:u}}},{key:"componentDidUpdate",value:function(i,v,u){if(Qn.canUseDOM){var y=this.props,c=y.isOpen,s=y.portalClassName;i.portalClassName!==s&&(this.node.className=s);var d=u.prevParent,o=u.nextParent;o!==d&&(d.removeChild(this.node),o.appendChild(this.node)),!(!i.isOpen&&!c)&&!wi&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Qn.canUseDOM||!this.node||!this.portal)){var i=this.portal.state,v=Date.now(),u=i.isOpen&&this.props.closeTimeoutMS&&(i.closesAt||v+this.props.closeTimeoutMS);u?(i.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,u-v)):this.removePortal()}}},{key:"render",value:function(){if(!Qn.canUseDOM||!wi)return null;!this.node&&wi&&(this.node=kp("div"));var i=Ep();return i(Sa.default.createElement(bp.default,Sp({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(i){iL.setElement(i)}}]),t}(py.Component);Us.propTypes={isOpen:ve.default.bool.isRequired,style:ve.default.shape({content:ve.default.object,overlay:ve.default.object}),portalClassName:ve.default.string,bodyOpenClassName:ve.default.string,htmlOpenClassName:ve.default.string,className:ve.default.oneOfType([ve.default.string,ve.default.shape({base:ve.default.string.isRequired,afterOpen:ve.default.string.isRequired,beforeClose:ve.default.string.isRequired})]),overlayClassName:ve.default.oneOfType([ve.default.string,ve.default.shape({base:ve.default.string.isRequired,afterOpen:ve.default.string.isRequired,beforeClose:ve.default.string.isRequired})]),appElement:ve.default.oneOfType([ve.default.instanceOf(Cp.default),ve.default.instanceOf(Qn.SafeHTMLCollection),ve.default.instanceOf(Qn.SafeNodeList),ve.default.arrayOf(ve.default.instanceOf(Cp.default))]),onAfterOpen:ve.default.func,onRequestClose:ve.default.func,closeTimeoutMS:ve.default.number,ariaHideApp:ve.default.bool,shouldFocusAfterRender:ve.default.bool,shouldCloseOnOverlayClick:ve.default.bool,shouldReturnFocusAfterClose:ve.default.bool,preventScroll:ve.default.bool,parentSelector:ve.default.func,aria:ve.default.object,data:ve.default.object,role:ve.default.string,contentLabel:ve.default.string,shouldCloseOnEsc:ve.default.bool,overlayRef:ve.default.func,contentRef:ve.default.func,id:ve.default.string,overlayElement:ve.default.func,contentElement:ve.default.func};Us.defaultProps={isOpen:!1,portalClassName:lL,bodyOpenClassName:cL,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Sa.default.createElement("div",t,n)},contentElement:function(t,n){return Sa.default.createElement("div",t,n)}};Us.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,rL.polyfill)(Us);Di.default=Us;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Di,i=v(n);function v(u){return u&&u.__esModule?u:{default:u}}t.default=i.default,e.exports=t.default})(Jc,Jc.exports);var uL=Jc.exports;const iu=ru(uL);iu.setAppElement("#root");function hL(){const[e,t]=pe.useState({}),[n,i]=pe.useState(""),[v,u]=pe.useState(""),[y,c]=pe.useState(""),[s,d]=pe.useState(!0),[o,r]=pe.useState([]),[a,l]=pe.useState(""),[h,f]=pe.useState([]),[p,m]=pe.useState(null),[g,w]=pe.useState("github"),[S,b]=pe.useState("javascript"),[_,x]=pe.useState(!1),C=v===y,[k,M]=pe.useState(0),[T,L]=pe.useState(!1),[E,A]=pe.useState(!1),[R,I]=pe.useState(!0);pe.useEffect(()=>{const W=setTimeout(()=>{I(!1)},1e4);return()=>clearTimeout(W)},[]);const D=async()=>{const F=await(await fetch("https://backend-vqpq.onrender.com/files")).json();t(F.tree)},P=pe.useCallback(async()=>{if(!n)return;const F=await(await fetch(`https://backend-vqpq.onrender.com/files/content?path=${n}`)).json();u(F.content)},[n]);pe.useEffect(()=>{D()},[]),pe.useEffect(()=>{if(!C&&y){const W=setTimeout(()=>{os.emit("file:change",{path:n,content:y})},5e3);return()=>{clearTimeout(W)}}},[y,n,C]),pe.useEffect(()=>{c(v)},[v]),pe.useEffect(()=>{n&&P()},[P,n]),pe.useEffect(()=>(os.on("file:refresh",D),()=>{os.off("file:refresh",D)}),[]);const O=W=>{o.includes(W)||r([...o,W]),i(W),u(""),c(""),setIsSaved(!0),x(!1)},$=W=>{r(o.filter(F=>F!==W)),n===W&&(i(o[0]||""),u(""),c(""),setIsSaved(!0),x(!1))};pe.useEffect(()=>{if(a.trim()!==""){const W=Object.keys(e).filter(F=>F.toLowerCase().includes(a.toLowerCase()));f(W)}else f([])},[a,e]);const N=()=>{navigator.clipboard.writeText(y),x(!0),setTimeout(()=>x(!1),5e3)};pe.useEffect(()=>{const W=setInterval(()=>{M(F=>F+1)},1e3);return()=>clearInterval(W)},[]);const H=W=>{const F=Math.floor(W/3600),Y=Math.floor(W%3600/60),G=W%60;return`${F.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`},B=()=>{L(!0)},z=()=>{L(!1)},U=()=>{A(!0)},V=()=>{A(!1)};return te.jsxs("div",{className:"flex h-screen bg-neutral-900 font-sans no-scrollbar",children:[te.jsx(rA,{isLoading:R}),te.jsxs("div",{className:"flex flex-col bg-neutral-800 text-white w-full",children:[te.jsxs("nav",{className:"flex items-center justify-between bg-neutral-800 text-white p-4",children:[te.jsxs("div",{className:"flex items-center space-x-4",children:[te.jsx("img",{src:"/logo.png",alt:"Codeic Logo",className:"w-12 h-12 mr-2 mb-1"}),te.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-blue-500 to-blue-700 text-transparent bg-clip-text ",children:"CodeKaro"})]}),te.jsxs("div",{className:"flex items-center space-x-4",children:[te.jsx("button",{id:"bottone1",onClick:U,className:"hover:animate-pulse font-medium px-3 py-2 rounded-md bg-gradient-to-r from-blue-500 to-blue-700 text-white",children:"Debug Code"}),te.jsx("button",{onClick:B,className:"hover:animate-pulse font-medium px-3 py-2 rounded-md bg-gradient-to-r from-blue-500 to-blue-700 text-white",children:"Explain Code"}),te.jsxs("button",{onClick:N,className:"bg-[#ffffff17] text-white px-3 py-2 rounded-md focus:outline-none flex items-center",children:[te.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),_?"Copied":"Copy Code"]})]})]}),te.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[te.jsxs("div",{className:`${s?"block":"hidden"} lg:block bg-neutral-900 text-white p-4 overflow-y-auto overflow-x-hidden w-72 border-r border-white transition-all duration-300 ease-in-out`,children:[te.jsxs("div",{className:"flex items-center justify-between mb-4",children:[te.jsxs("div",{className:"flex flex-row",children:[te.jsx("span",{className:"mt-1 mr-2",children:te.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),te.jsx("span",{className:"text-xl font-medium mt-[1px]",children:"File Explorer"})]}),te.jsx("button",{onClick:()=>d(!s),className:"lg:hidden text-gray-400 hover:text-white focus:outline-none",children:te.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:te.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),te.jsx(c1,{onSelect:O,tree:e,selectedFile:n})]}),te.jsxs("div",{className:"flex-1 flex flex-col bg-neutral-800 overflow-auto no-scrollbar",children:[te.jsx("div",{className:"bg-neutral-900 text-white flex space-x-2 p-2",children:o.map(W=>te.jsxs("div",{className:`flex items-center cursor-pointer p-2 rounded-t-md ${n===W?"bg-neutral-700 text-[#00aaff]":"bg-neutral-900 hover:bg-neutral-700"}`,children:[te.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:te.jsx("path",{d:"M14 2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V8L14 2Z"})}),te.jsx("span",{onClick:()=>O(W),className:"mr-2",children:W.split("/").pop()}),te.jsx("button",{onClick:()=>$(W),className:"text-red-400 hover:text-red-600 focus:outline-none",children:te.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:te.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]},W))}),te.jsxs("div",{className:"flex-1 bg-neutral-800 p-4 relative overflow-auto h-[300px]",children:[n&&te.jsx("p",{className:"text-sm mb-2 text-gray-400",children:n.replaceAll("/"," > ")}),te.jsx(s1,{width:"100%",mode:S,value:y,onChange:W=>c(W),selection:p,className:"h-[100px] rounded",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,fontSize:16,style:{backgroundColor:"#1f1f1f",color:"#d4d4d4",fontFamily:"Cascadia Code, monospace"},theme:g})]}),te.jsxs("div",{className:"bg-neutral-800 text-gray-400 p-2 flex justify-between",children:[te.jsx("span",{children:"Ln 1, Col 1"}),te.jsx("span",{children:H(k)}),te.jsx("span",{children:"UTF-8"}),te.jsx("span",{children:"JavaScript"})]}),te.jsx("div",{className:"my-20",children:" "}),te.jsx("div",{className:"bg-neutral-800 text-white p-4 flex items-center justify-between h-[80px] font-mono",children:te.jsx(eb,{})})]})]})]}),te.jsxs(iu,{isOpen:T,onRequestClose:z,className:"modal",overlayClassName:"modal-overlay",children:[te.jsx("button",{className:"close-button",onClick:z,children:"Close"}),te.jsx(eA,{code:y,onClose:z})]}),te.jsxs(iu,{isOpen:E,onRequestClose:V,className:"modal",overlayClassName:"modal-overlay",children:[te.jsx("button",{className:"close-button",onClick:V,children:"Close"}),te.jsx(nA,{code:y,onClose:V})]})]})}zl.createRoot(document.getElementById("root")).render(te.jsx(A_.StrictMode,{children:te.jsx(hL,{})}));
